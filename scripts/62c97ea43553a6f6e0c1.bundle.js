(()=>{var e={8918:(e,t,a)=>{"use strict";a.d(t,{Z:()=>o});var r=a(3645),n=a.n(r)()((function(e){return e[1]}));n.push([e.id,"#battleSimulatorPage .jyfPageTemplate.mainContent{display:flex;flex-direction:column;overflow-y:auto}#battleSimulatorPage .jyfPageTemplate.mainContent .selectWrapper{display:flex;justify-content:center;flex-shrink:0}#battleSimulatorPage .jyfPageTemplate.mainContent .selectWrapper .mdc-select{max-width:calc(50% - 4px);margin:2px}",""]);const o=n},227:(e,t,a)=>{"use strict";a.d(t,{Z:()=>o});var r=a(3645),n=a.n(r)()((function(e){return e[1]}));n.push([e.id,"#battleUiPage{flex-direction:column}#battleUiPage .pixiContainer{width:100%;height:calc(100% - 135px);position:relative}#battleUiPage .pixiContainer .fpsContainer{position:absolute;color:#fff;background-color:rgba(40,40,40,.5)}#battleUiPage .pixiContainer .topRightBar{position:absolute;right:0}#battleUiPage .pixiContainer .bottomLeftBar{position:absolute;bottom:0}#battleUiPage .pixiContainer .bottomRightBar{position:absolute;bottom:0;right:0}#battleUiPage .pixiContainer .mdc-icon-button{color:#fff;background-color:rgba(40,40,40,.5)}#battleUiPage .pixiContainer .mdc-icon-button.hidden{display:none}#battleUiPage .controlPanel{width:100%;height:135px;overflow:hidden}#battleUiPage .battleStats{display:flex;flex-direction:row;width:100%;height:135px;overflow-x:auto}#battleUiPage .battleStats img{width:58px;height:58px;margin-top:-18px}#battleUiPage .health-box{background-color:#ccc;height:19px;margin:0 auto;border:solid 1px #aaa}#battleUiPage .hp .health-bar{background-color:#f77;height:17px;position:relative}#battleUiPage .mp .health-bar{background-color:#77f;height:17px;position:relative}#battleUiPage .health-bar-text{position:relative;bottom:17px;text-align:center;overflow:hidden}#battleUiPage .textStatsItem{line-height:19px;font-size:14px;text-align:center}#battleUiPage .characterStats{background-color:#ffcccb;margin:0 2px;display:flex;flex-direction:column;align-items:center;width:58px;height:115px}#battleUiPage .characterStats .textStats{display:flex;flex-direction:column}#battleUiPage .characterStats .textStats .health-box{width:58px}#battleUiPage .characterStats .textStats .health-bar{width:56px}#battleUiPage .characterStats .conditionStats{position:relative;font-size:13px;height:18px}#battleUiPage .characterStats .conditionStats span{background-color:rgba(220,220,220,.8);border:1px solid}#battleUiPage .characterStats .conditionStats .poison{color:#006400}#battleUiPage .characterStats .conditionStats .injury{color:darkred}#battleUiPage .characterStats.team-1{background-color:#add8e6}#battleUiPage .characterStats.hideStats{display:none}#battleUiPage .postBattleDialog .mdc-list-item__graphic img{width:53px;height:53px}#battleUiPage .postBattleDialog .mdc-list-item{cursor:auto}#battleUiPage .resourceLoadingProgress{position:fixed;top:45%;left:0px;width:100%;visibility:hidden;background-color:#000}#battleUiPage .resourceLoadingProgress .title{width:100%;color:#ff0;text-align:center}#battleUiPage .resourceLoadingProgress .hint{width:100%;color:#ccc;font-size:14px;padding:0px 8px;text-align:center}#battleUiPage .resourceLoadingProgress .mdc-linear-progress{width:100%}",""]);const o=n},701:(e,t,a)=>{"use strict";a.d(t,{Z:()=>o});var r=a(3645),n=a.n(r)()((function(e){return e[1]}));n.push([e.id,"#charactersRankingPage .jyfPageTemplate.mainContent{display:flex;flex-direction:column}#charactersRankingPage .jyfPageTemplate.mainContent .rank{display:flex;flex-direction:column;overflow-y:auto;align-items:center;flex-grow:1;flex-basis:0;padding:0px 8px}#charactersRankingPage .jyfPageTemplate.mainContent .rank a{cursor:pointer;color:blue;border-bottom:1px solid blue}#charactersRankingPage .jyfPageTemplate.mainContent .linearProgressWrapper{height:4px}",""]);const o=n},4251:(e,t,a)=>{"use strict";a.d(t,{Z:()=>o});var r=a(3645),n=a.n(r)()((function(e){return e[1]}));n.push([e.id,"#documentPage .jyfPageTemplate.mainContent{padding:5px;justify-content:center;display:flex}#documentPage .jyfPageTemplate.mainContent .wrapper{overflow-y:scroll;width:100%;height:100%;max-width:600px;padding:5px;box-shadow:0 0 0 1px #cacaca,0 0 0 4px #eee}#documentPage .jyfPageTemplate.mainContent .wrapper blockquote{border-left:4px solid #ddd;padding:0 15px;color:#777}#documentPage .jyfPageTemplate.mainContent .wrapper p,#documentPage .jyfPageTemplate.mainContent .wrapper blockquote,#documentPage .jyfPageTemplate.mainContent .wrapper table,#documentPage .jyfPageTemplate.mainContent .wrapper pre{margin:15px 0}#documentPage .jyfPageTemplate.mainContent .wrapper pre{background-color:#f8f8f8;border:1px solid #ccc;font-size:13px;line-height:19px;overflow:auto;padding:6px 10px;border-radius:3px;white-space:pre-wrap}#documentPage .jyfPageTemplate.mainContent .wrapper .highlight{background-color:#f2eecb}",""]);const o=n},5986:(e,t,a)=>{"use strict";a.d(t,{Z:()=>o});var r=a(3645),n=a.n(r)()((function(e){return e[1]}));n.push([e.id,"#inspectCharactersPage .jyfPageTemplate.mainContent{display:flex;flex-direction:row}#inspectCharactersPage .jyfPageTemplate.mainContent .sidebar{width:30vw;max-width:120px;overflow-y:auto;background-color:#fafad2}#inspectCharactersPage .jyfPageTemplate.mainContent .sidebar div{padding:5px}#inspectCharactersPage .jyfPageTemplate.mainContent .sidebar div.selected{background-color:#add8e6}#inspectCharactersPage .jyfPageTemplate.mainContent .sidebar div.hidden{display:none}#inspectCharactersPage .jyfPageTemplate.mainContent .description{width:calc(100% - 30vw);min-width:calc(100% - 120px);overflow-y:auto;padding:5px}#inspectCharactersPage .jyfPageTemplate.mainContent .description a{color:blue}#inspectCharactersPage .jyfPageTemplate.mainContent .description a.clickable{cursor:pointer;border-bottom:1px solid blue}#inspectCharactersPage .jyfPageTemplate.mainContent .description a.doc{color:#4183c4}#inspectCharactersPage .jyfPageTemplate.mainContent .description a.doc.clickable{border-bottom:1px solid #4183c4}#inspectCharactersPage .jyfPageTemplate.mainContent .description img{float:right;width:58px;height:58px}#inspectCharactersPage .jyfPageTemplate.mainContent .description span{display:inline-flex;min-width:150px;vertical-align:middle;align-items:center}#inspectCharactersPage .jyfPageTemplate.mainContent .description p{display:inline;margin-right:5px;vertical-align:middle}#inspectCharactersPage .jyfPageTemplate.mainContent .description .name{font-size:25px;display:block;font-weight:bold}#inspectCharactersPage .jyfPageTemplate.mainContent .description .section{font-size:20px;display:block;font-weight:bold;margin:5px 0px}#inspectCharactersPage .jyfPageTemplate.mainContent .description .section span{display:unset;min-width:unset;vertical-align:unset;align-items:unset}#inspectCharactersPage .jyfPageTemplate.mainContent .description .section span.equipmentQuality1{color:#ff8000}#inspectCharactersPage .jyfPageTemplate.mainContent .description .inactive{color:gray}#inspectCharactersPage .jyfPageTemplate.mainContent .description ul{list-style-position:outside;margin:0px;padding-inline-start:25px}#inspectCharactersPage .jyfPageTemplate.mainContent .description ul li{margin:5px 0px}#inspectCharactersPage .jyfPageTemplate.mainContent .description ul li.owned{list-style-type:disc}#inspectCharactersPage .jyfPageTemplate.mainContent .description ul li.unowned{list-style-type:circle}#inspectCharactersPage .jyfPageTemplate.mainContent .description .mdc-icon-button{vertical-align:middle;color:red}#inspectCharactersPage .jyfPageTemplate.mainContent .description .placeHolder{vertical-align:middle;width:36px;height:48px}#inspectCharactersPage .jyfPageTemplate.mainContent .description .enhanceAttribute{margin-right:-12px}#inspectCharactersPage .jyfPageTemplate.mainContent .description .decreaseAttribute{margin-left:-12px}",""]);const o=n},3476:(e,t,a)=>{"use strict";a.d(t,{Z:()=>o});var r=a(3645),n=a.n(r)()((function(e){return e[1]}));n.push([e.id,"#inspectEftsPage .jyfPageTemplate.mainContent{display:flex;flex-direction:row}#inspectEftsPage .jyfPageTemplate.mainContent .sidebar{width:30vw;max-width:120px;overflow-y:auto;background-color:#fafad2}#inspectEftsPage .jyfPageTemplate.mainContent .sidebar div{padding:5px}#inspectEftsPage .jyfPageTemplate.mainContent .sidebar div.selected{background-color:#add8e6}#inspectEftsPage .jyfPageTemplate.mainContent .sidebar div.unowned{color:gray}#inspectEftsPage .jyfPageTemplate.mainContent .sidebar div.hidden{display:none}#inspectEftsPage .jyfPageTemplate.mainContent .description{width:calc(100% - 30vw);min-width:calc(100% - 120px);overflow-y:auto;padding:5px}#inspectEftsPage .jyfPageTemplate.mainContent .description a{color:blue}#inspectEftsPage .jyfPageTemplate.mainContent .description a.clickable{cursor:pointer;border-bottom:1px solid blue}#inspectEftsPage .jyfPageTemplate.mainContent .description a.doc{color:#4183c4}#inspectEftsPage .jyfPageTemplate.mainContent .description a.doc.clickable{border-bottom:1px solid #4183c4}#inspectEftsPage .jyfPageTemplate.mainContent .description span{display:inline-block;min-width:150px}#inspectEftsPage .jyfPageTemplate.mainContent .description p{display:inline;margin-right:5px}#inspectEftsPage .jyfPageTemplate.mainContent .description p.incompatible{background-color:red;color:#fff}#inspectEftsPage .jyfPageTemplate.mainContent .description .name{font-size:25px;display:block;font-weight:bold}#inspectEftsPage .jyfPageTemplate.mainContent .description .section{font-size:20px;display:block;font-weight:bold;margin:5px 0px}#inspectEftsPage .jyfPageTemplate.mainContent .description ul{list-style-position:outside;margin:0px;padding-inline-start:25px}#inspectEftsPage .jyfPageTemplate.mainContent .description ul li{margin:5px 0px}",""]);const o=n},1147:(e,t,a)=>{"use strict";a.d(t,{Z:()=>o});var r=a(3645),n=a.n(r)()((function(e){return e[1]}));n.push([e.id,"#inspectEquipmentsPage .jyfPageTemplate.mainContent{display:flex;flex-direction:row}#inspectEquipmentsPage .jyfPageTemplate.mainContent .sidebar{width:30vw;max-width:120px;overflow-y:auto;background-color:#fafad2}#inspectEquipmentsPage .jyfPageTemplate.mainContent .sidebar div{padding:5px}#inspectEquipmentsPage .jyfPageTemplate.mainContent .sidebar div.selected{background-color:#add8e6}#inspectEquipmentsPage .jyfPageTemplate.mainContent .sidebar div.equipmentQuality1{color:#ff8000}#inspectEquipmentsPage .jyfPageTemplate.mainContent .sidebar div.hidden{display:none}#inspectEquipmentsPage .jyfPageTemplate.mainContent .description{width:calc(100% - 30vw);min-width:calc(100% - 120px);overflow-y:auto;padding:5px}#inspectEquipmentsPage .jyfPageTemplate.mainContent .description span.equipmentQuality1{color:#ff8000}#inspectEquipmentsPage .jyfPageTemplate.mainContent .description a{color:blue;cursor:pointer;border-bottom:1px solid blue}#inspectEquipmentsPage .jyfPageTemplate.mainContent .description a.doc{color:#4183c4;border-bottom:1px solid #4183c4}#inspectEquipmentsPage .jyfPageTemplate.mainContent .description p{display:inline;margin-right:5px;vertical-align:middle}#inspectEquipmentsPage .jyfPageTemplate.mainContent .description .name{font-size:25px;display:block;font-weight:bold}#inspectEquipmentsPage .jyfPageTemplate.mainContent .description .section{font-size:20px;display:block;font-weight:bold;margin:5px 0px}#inspectEquipmentsPage .jyfPageTemplate.mainContent .description ul{list-style-position:outside;margin:0px;padding-inline-start:25px}#inspectEquipmentsPage .jyfPageTemplate.mainContent .description ul li{margin:5px 0px}",""]);const o=n},4460:(e,t,a)=>{"use strict";a.d(t,{Z:()=>o});var r=a(3645),n=a.n(r)()((function(e){return e[1]}));n.push([e.id,"#meleePage .jyfPageTemplate.mainContent{display:flex;flex-direction:column;overflow-y:auto;max-width:600px;background-color:#f2eecb}#meleePage .jyfPageTemplate.mainContent div{padding:5px}#meleePage .jyfPageTemplate.mainContent div span.characterLink{cursor:pointer;color:blue;border-bottom:1px solid blue}#meleePage .jyfPageTemplate.mainContent div span.eftLink{cursor:pointer;color:blue;border-bottom:1px solid blue}#meleePage .jyfPageTemplate.mainContent div span.equipmentQuality0{cursor:pointer;color:blue;border-bottom:1px solid blue}#meleePage .jyfPageTemplate.mainContent div span.equipmentQuality1{cursor:pointer;color:#ff8000;border-bottom:1px solid #ff8000}#meleePage .jyfPageTemplate.mainContent div.new{font-weight:bold}#meleePage .jyfPageTemplate.controlPanel{min-height:46px}#meleePage .jyfPageTemplate.controlPanel .mdc-button.hidden{display:none}",""]);const o=n},5595:(e,t,a)=>{"use strict";a.d(t,{Z:()=>o});var r=a(3645),n=a.n(r)()((function(e){return e[1]}));n.push([e.id,"#pvpPage .jyfPageTemplate.mainContent{display:flex;flex-direction:column;overflow-y:auto;max-width:600px;background-color:#f2eecb}#pvpPage .jyfPageTemplate.mainContent div{padding:5px}",""]);const o=n},5920:(e,t,a)=>{"use strict";a.d(t,{Z:()=>o});var r=a(3645),n=a.n(r)()((function(e){return e[1]}));n.push([e.id,".jyfPageTemplate.mdc-top-app-bar .mdc-icon-button.hidden{display:none}.jyfPageTemplate.invisibleSection{visibility:hidden;width:0;height:0}.jyfPageTemplate.mdc-top-app-bar--fixed-adjust{width:100%;height:100%}.jyfPageTemplate.mdc-top-app-bar--fixed-adjust .jyfPageTemplate.contentWrapper{display:flex;flex-direction:column;width:100%;height:100%;align-items:center}.jyfPageTemplate.mdc-top-app-bar--fixed-adjust .jyfPageTemplate.contentWrapper .jyfPageTemplate.controlPanel{display:flex;flex-direction:row}.jyfPageTemplate.mdc-top-app-bar--fixed-adjust .jyfPageTemplate.contentWrapper .jyfPageTemplate.searchBar{width:100%}.jyfPageTemplate.mdc-top-app-bar--fixed-adjust .jyfPageTemplate.contentWrapper .jyfPageTemplate.searchBar .searchIcon{margin-left:-5px;margin-right:5px;display:inline-flex}.jyfPageTemplate.mdc-top-app-bar--fixed-adjust .jyfPageTemplate.contentWrapper .jyfPageTemplate.searchBar .mdc-text-field{width:100%;height:40px;align-items:center}.jyfPageTemplate.mdc-top-app-bar--fixed-adjust .jyfPageTemplate.contentWrapper .jyfPageTemplate.searchBar .closeSearchBarButton{margin-right:-20px}.jyfPageTemplate.mdc-top-app-bar--fixed-adjust .jyfPageTemplate.contentWrapper .jyfPageTemplate.searchBar.hidden{display:none}.jyfPageTemplate.mdc-top-app-bar--fixed-adjust .jyfPageTemplate.contentWrapper .jyfPageTemplate.mainContent{flex-grow:1;overflow:hidden;width:100%;flex-basis:0}.jyfPageTemplate.mdc-top-app-bar--fixed-adjust .jyfPageTemplate.contentWrapper .jyfPageTemplate.controlPanel{display:flex;flex-direction:row;justify-content:center;background-color:#add8e6;flex-wrap:wrap;width:100%}.jyfPageTemplate.mdc-top-app-bar--fixed-adjust .jyfPageTemplate.contentWrapper .jyfPageTemplate.controlPanel .mdc-button{margin:5px}",""]);const o=n},7214:e=>{e.exports='<div class="pixiContainer"> <div class="fpsContainer"></div> <div class="topRightBar"> <button class="settingsButton mdc-icon-button"> <svg xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 24 24" height="24" viewBox="0 0 24 24" width="24"> <g> <path d="M0,0h24v24H0V0z" fill="none"/> <path d="M19.14,12.94c0.04-0.3,0.06-0.61,0.06-0.94c0-0.32-0.02-0.64-0.07-0.94l2.03-1.58c0.18-0.14,0.23-0.41,0.12-0.61 l-1.92-3.32c-0.12-0.22-0.37-0.29-0.59-0.22l-2.39,0.96c-0.5-0.38-1.03-0.7-1.62-0.94L14.4,2.81c-0.04-0.24-0.24-0.41-0.48-0.41 h-3.84c-0.24,0-0.43,0.17-0.47,0.41L9.25,5.35C8.66,5.59,8.12,5.92,7.63,6.29L5.24,5.33c-0.22-0.08-0.47,0-0.59,0.22L2.74,8.87 C2.62,9.08,2.66,9.34,2.86,9.48l2.03,1.58C4.84,11.36,4.8,11.69,4.8,12s0.02,0.64,0.07,0.94l-2.03,1.58 c-0.18,0.14-0.23,0.41-0.12,0.61l1.92,3.32c0.12,0.22,0.37,0.29,0.59,0.22l2.39-0.96c0.5,0.38,1.03,0.7,1.62,0.94l0.36,2.54 c0.05,0.24,0.24,0.41,0.48,0.41h3.84c0.24,0,0.44-0.17,0.47-0.41l0.36-2.54c0.59-0.24,1.13-0.56,1.62-0.94l2.39,0.96 c0.22,0.08,0.47,0,0.59-0.22l1.92-3.32c0.12-0.22,0.07-0.47-0.12-0.61L19.14,12.94z M12,15.6c-1.98,0-3.6-1.62-3.6-3.6 s1.62-3.6,3.6-3.6s3.6,1.62,3.6,3.6S13.98,15.6,12,15.6z"/> </g> </svg> </button> <button class="resetViewButton mdc-icon-button"> <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"> <path d="M0 0h24v24H0z" fill="none"/> <path d="M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm-7 7H3v4c0 1.1.9 2 2 2h4v-2H5v-4zM5 5h4V3H5c-1.1 0-2 .9-2 2v4h2V5zm14-2h-4v2h4v4h2V5c0-1.1-.9-2-2-2zm0 16h-4v2h4c1.1 0 2-.9 2-2v-4h-2v4z"/> </svg> </button> </div> <div class="bottomLeftBar"> <button class="playButton mdc-icon-button"> <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"> <path d="M0 0h24v24H0z" fill="none"/> <path d="M8 5v14l11-7z"/> </svg> </button> <button class="pauseButton mdc-icon-button"> <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"> <path d="M0 0h24v24H0z" fill="none"/> <path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/> </svg> </button> </div> <div class="bottomRightBar"> <button class="enterFullscreenButton mdc-icon-button"> <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"> <path d="M0 0h24v24H0z" fill="none"/> <path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"/> </svg> </button> <button class="exitFullscreenButton mdc-icon-button"> <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"> <path d="M0 0h24v24H0z" fill="none"/> <path d="M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"/> </svg> </button> </div> </div> <div class="controlPanel"> <div class="battleStats"></div> </div> <div class="resourceLoadingProgress"> <div class="title">资源加载中...</div> <div class="mdc-linear-progress"> <div class="mdc-linear-progress__buffer"> <div class="mdc-linear-progress__buffer-bar"></div> <div class="mdc-linear-progress__buffer-dots"></div> </div> <div class="mdc-linear-progress__bar mdc-linear-progress__primary-bar"> <span class="mdc-linear-progress__bar-inner"></span> </div> <div class="mdc-linear-progress__bar mdc-linear-progress__secondary-bar"> <span class="mdc-linear-progress__bar-inner"></span> </div> </div> <div class="hint"></div> </div> <div class="postBattleDialog mdc-dialog"> <div class="mdc-dialog__container"> <div class="mdc-dialog__surface" role="alertdialog" aria-modal="true"> <h2 class="mdc-dialog__title"></h2> <div class="mdc-dialog__content"></div> <div class="mdc-dialog__actions"> <button type="button" class="mdc-button mdc-dialog__button" data-mdc-dialog-action="close"> <div class="mdc-button__ripple"></div> <span class="mdc-button__label">关闭</span> </button> </div> </div> </div> <div class="mdc-dialog__scrim"></div> </div> '},6956:e=>{e.exports='<div class="rank"></div> <div class="linearProgressWrapper"> <div class="mdc-linear-progress"> <div class="mdc-linear-progress__buffer"> <div class="mdc-linear-progress__buffer-bar"></div> <div class="mdc-linear-progress__buffer-dots"></div> </div> <div class="mdc-linear-progress__bar mdc-linear-progress__primary-bar"> <span class="mdc-linear-progress__bar-inner"></span> </div> <div class="mdc-linear-progress__bar mdc-linear-progress__secondary-bar"> <span class="mdc-linear-progress__bar-inner"></span> </div> </div> </div> '},6572:e=>{e.exports='<div class="wrapper"></div> '},5334:e=>{e.exports='<div class="sidebar"></div> <div class="description"></div> '},3474:e=>{e.exports='<div class="sidebar"></div> <div class="description"></div> '},347:e=>{e.exports='<div class="sidebar"></div> <div class="description"></div> '},987:e=>{e.exports='<div>该功能测试中，会逐步完善平衡性。</div> <div></div> <div> 挑战其他阵容：右上角菜单点击【导入对方阵容】，粘贴对方阵容代码，确认后点击【开始挑战】。 </div> <div></div> <div> 让他人挑战自己：右上角菜单点击【导出我方阵容】，复制我方阵容代码，将代码分享给对方。 </div> <div></div> <div> 想尝试1v1、2v2、5v5等？右上角菜单点击【其他设置】，可调整双方参战人数。 </div> <div>对方阵容：<span class="opponentTeam"></span></div> <div></div> <div>双方参战人数：<span class="maxNumCharacters">10</span></div> '},1199:e=>{e.exports='<header class="jyfPageTemplate mdc-top-app-bar"> <div class="mdc-top-app-bar__row"> <section class="mdc-top-app-bar__section mdc-top-app-bar__section--align-start"> <button class="backButton mdc-top-app-bar__navigation-icon mdc-icon-button" aria-label="back"> <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"> <path d="M0 0h24v24H0z" fill="none"/> <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/> </svg> </button> <span class="mdc-top-app-bar__title"></span> </section> <section class="mdc-top-app-bar__section mdc-top-app-bar__section--align-end" role="toolbar"> <button class="optionsButton hidden mdc-top-app-bar__action-item mdc-icon-button" aria-label="Options"> <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"> <path d="M0 0h24v24H0z" fill="none"/> <path d="M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"/> </svg> </button> <button class="searchButton hidden mdc-top-app-bar__action-item mdc-icon-button" aria-label="Options"> <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px"> <path d="M0 0h24v24H0V0z" fill="none"/> <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/> </svg> </button> </section> </div> </header> <div class="jyfPageTemplate invisibleSection"></div> <main class="jyfPageTemplate mdc-top-app-bar--fixed-adjust"> <div class="jyfPageTemplate contentWrapper"> <div class="jyfPageTemplate searchBar hidden"> <label class="mdc-text-field mdc-text-field--filled mdc-text-field--no-label"> <span class="mdc-text-field__ripple"></span> <span class="searchIcon"> <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px"> <path d="M0 0h24v24H0V0z" fill="none"/> <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/> </svg> </span> <input class="mdc-text-field__input" type="text"/> <span class="mdc-line-ripple"></span> <button class="closeSearchBarButton mdc-icon-button"> <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px"> <path d="M0 0h24v24H0V0z" fill="none"/> <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/> </svg> </button> </label> </div> <div class="jyfPageTemplate mainContent"></div> <div class="jyfPageTemplate controlPanel"></div> </div> </main> '},822:(e,t,a)=>{"use strict";a.r(t),a.d(t,{PAGE_ID:()=>b,init:()=>F,reset:()=>P});var r=a(3379),n=a.n(r),o=a(8918),i={insert:"head",singleton:!1};n()(o.Z,i);o.Z.locals;var s=a(466),d=a(6085),c=a(5535),l=a(6276),p=a(2100),f=a(3920),u=a(2523);let g,h,y,m,j,E;const b="battleSimulatorPage";class I{constructor(e){this.div_=e,this.setCharacter_(null),this.foundation={adapter:{getMenuItemCount:function(){return u.getCharacterProtos().length+1}}},e.onclick=async function(){let e={title:"选择人物",mainCharacterProto:E,mode:"SELECT_CHARACTER"};await c.V("inspectCharactersPage",e),e.selectedCharacterProto&&(this.setCharacter_(e.selectedCharacterProto),E=e.selectedCharacterProto)}.bind(this)}set selectedIndex(e){let t=null;e>0&&(t=u.getCharacterProtos()[e-1]),this.setCharacter_(t)}setCharacter_(e){if(null==e)return this.value="0",void(this.div_.querySelector(".mdc-select__selected-text").innerText="无");this.div_.querySelector(".mdc-select__selected-text").innerText=e.getName(),this.value=e.getId().toString()}}function M(e){let t=e.foundation.adapter.getMenuItemCount();e.selectedIndex=l.b5(0,t-1)}function v(e){e.selectedIndex=0}function P(){E=null;let e=[],t=p.getBattleMapProtos();for(let a of t)e.push({id:a.getId(),name:a.getName()});e[0].selected=!0;let a={teams:[{id:0,name:"无",selected:!0}]};for(let e=1;e<=4;++e)a.teams.push({id:e,name:"队伍"+e});h.querySelector(".mainContent").innerHTML=s.render('<div class="selectWrapper">\n  <div class="mapSelect mdc-select mdc-select--filled">\n    <div class="mdc-select__anchor"\n         role="button">\n      <span class="mdc-select__ripple"></span>\n      <span class="mdc-floating-label">选择地图</span>\n      <span class="mdc-select__selected-text-container">\n        <span class="mdc-select__selected-text"></span>\n      </span>\n      <span class="mdc-select__dropdown-icon">\n        <svg\n            class="mdc-select__dropdown-icon-graphic"\n            viewBox="7 10 10 5" focusable="false">\n          <polygon\n              class="mdc-select__dropdown-icon-inactive"\n              stroke="none"\n              fill-rule="evenodd"\n              points="7 10 12 15 17 10">\n          </polygon>\n          <polygon\n              class="mdc-select__dropdown-icon-active"\n              stroke="none"\n              fill-rule="evenodd"\n              points="7 15 12 10 17 15">\n          </polygon>\n        </svg>\n      </span>\n      <span class="mdc-line-ripple"></span>\n    </div>\n    <div class="mdc-select__menu mdc-menu mdc-menu-surface mdc-menu-surface--fullwidth">\n      <ul class="mdc-list" role="listbox">\n        {{# maps }}\n        <li class="mdc-list-item {{# selected }}mdc-list-item--selected{{/ selected }}" data-value="{{ id }}" role="option">\n          <span class="mdc-list-item__ripple"></span>\n          <span class="mdc-list-item__text">{{ name }}</span>\n        </li>\n        {{/ maps }}\n      </ul>\n    </div>\n  </div>\n</div>\n{{# characterInfos }}\n<div class="selectWrapper">\n  <div class="characterSelect mdc-select mdc-select--filled">\n    <div class="mdc-select__anchor"\n         role="button">\n      <span class="mdc-select__ripple"></span>\n      <span class="mdc-floating-label mdc-floating-label--float-above">选择人物</span>\n      <span class="mdc-select__selected-text-container">\n        <span class="mdc-select__selected-text">无</span>\n      </span>\n      <span class="mdc-select__dropdown-icon">\n        <svg\n            class="mdc-select__dropdown-icon-graphic"\n            viewBox="7 10 10 5" focusable="false">\n          <polygon\n              stroke="none"\n              fill-rule="evenodd"\n              points="7 10 12 15 17 10">\n          </polygon>\n        </svg>\n      </span>\n      <span class="mdc-line-ripple"></span>\n    </div>\n    <div class="mdc-select__menu mdc-menu mdc-menu-surface mdc-menu-surface--fullwidth">\n    </div>\n  </div>\n  <div class="teamSelect mdc-select mdc-select--filled">\n    <div class="mdc-select__anchor"\n         role="button">\n      <span class="mdc-select__ripple"></span>\n      <span class="mdc-floating-label">选择队伍</span>\n      <span class="mdc-select__selected-text-container">\n        <span class="mdc-select__selected-text"></span>\n      </span>\n      <span class="mdc-select__dropdown-icon">\n        <svg\n            class="mdc-select__dropdown-icon-graphic"\n            viewBox="7 10 10 5" focusable="false">\n          <polygon\n              class="mdc-select__dropdown-icon-inactive"\n              stroke="none"\n              fill-rule="evenodd"\n              points="7 10 12 15 17 10">\n          </polygon>\n          <polygon\n              class="mdc-select__dropdown-icon-active"\n              stroke="none"\n              fill-rule="evenodd"\n              points="7 15 12 10 17 15">\n          </polygon>\n        </svg>\n      </span>\n      <span class="mdc-line-ripple"></span>\n    </div>\n    <div class="mdc-select__menu mdc-menu mdc-menu-surface mdc-menu-surface--fullwidth">\n      <ul class="mdc-list" role="listbox">\n        {{# teams }}\n        <li class="mdc-list-item {{# selected }}mdc-list-item--selected{{/ selected }}" data-value="{{ id }}" role="option">\n          <span class="mdc-list-item__ripple"></span>\n          <span class="mdc-list-item__text">{{ name }}</span>\n        </li>\n        {{/ teams }}\n      </ul>\n    </div>\n  </div>\n</div>\n{{/ characterInfos }}\n',{maps:e,characterInfos:new Array(30).fill(a)}),y=new d.H(h.querySelector(".mainContent .mapSelect")),j=[...h.querySelectorAll(".mainContent .characterSelect")].map((e=>new I(e))),m=[...h.querySelectorAll(".mainContent .teamSelect")].map((e=>new d.H(e)))}function F(){h=document.getElementById(b),g=new f.Y(h),g.setTitle("战斗模拟"),P(),u.registerInvalidateCallback(P),g.addButton("随机").onclick=function(){M(y);for(let e=0;e<30;++e)M(j[e]),M(m[e])},g.addButton("重置").onclick=function(){v(y);for(let e=0;e<30;++e)v(j[e]),v(m[e])},g.addButton("开战").onclick=async function(){let e={characterInfos:[],battleMapProto:p.getBattleMapProto(y.value),teamNames:["队伍1","队伍2","队伍3","队伍4"]};for(let t=0;t<30;++t){let a=Number(j[t].value),r=Number(m[t].value);if(!a)continue;let n={characterProto:u.getCharacterProto(a)};n.team=r||null,e.characterInfos.push(n)}await c.V("battleUiPage",{battleOptions:e})},c.d(b,(async function(e,t){g.closeNotification=t,await g.closeNotification.waitForNotification()}))}},4991:(e,t,a)=>{"use strict";a.r(t),a.d(t,{PAGE_ID:()=>F,init:()=>A});var r=a(3379),n=a.n(r),o=a(227),i={insert:"head",singleton:!1};n()(o.Z,i);o.Z.locals;var s=a(5808),d=a(8921),c=a(8283),l=a(4150),p=a(5535),f=a(2100),u=a(6221),g=a(7449),h=a(9823),y=a(7214),m=a.n(y);let j;let E,b,I,M,v,P=!1;const F="battleUiPage";function A(){let e=document.getElementById(F);e.innerHTML=m(),j=e.querySelector(".pixiContainer"),E=new d.Mx({width:400,height:400,transparent:!1,resizeTo:j,backgroundColor:0}),j.appendChild(E.view),g.S1({loader:E.loader,progressDiv:e.querySelector(".resourceLoadingProgress")}),b=e.querySelector(".battleStats"),I=new s.W(e.querySelector(".postBattleDialog")),p.d(F,(async function(e){return await async function(e){C(),P=!1,D(),E.resize(),b.innerHTML="";let t=[],a=[],r=[],n=[];for(let o of e.characterInfos){let e=document.createElement("div");e.classList.add("characterStats"),null!=o.team&&e.classList.add("team-"+o.team),e.innerHTML='\n      <div class="conditionStats"><span class="poison" style="opacity: 0;">中毒</span><span class="injury" style="opacity: 0;">内伤</span></div>\n      <img></img>\n      <div class="textStats">\n        <div class="name textStatsItem"></div>\n        <div class="health-box hp textStatsItem"><div class="health-bar"></div><div class="health-bar-text"></div></div>\n        <div class="health-box mp textStatsItem"><div class="health-bar"></div><div class="health-bar-text"></div></div>\n      </div>\n    ',e.querySelector(".name").innerText=o.characterProto.getName(),b.appendChild(e),a.push(e.querySelector(".conditionStats")),r.push(e.querySelector(".hp")),n.push(e.querySelector(".mp")),e.querySelector("img").src=f.getHeadPicSrc(o.characterProto),t.push(e)}let o=null;for(;;){g.IH("music/"+e.battleMapProto.getMusicId()+".mp3"),g.IH("battle_map/s"+e.battleMapProto.getId()+".json");for(let t of e.characterInfos)L(t.characterProto);if(o=Date.now(),await g.Dc())break;alert("资源加载失败，请检查网络连接！")}e.app=E,e.pixiContainer=j,M=new c.J(e),v=e;for(let a=0;a<t.length;++a)t[a].onclick=function(){M.focus(e.characterInfos[a])};M.render(),await M.initCache(),await l._(Math.max(o+4e3-Date.now(),500)),g.Cp(),M.paused();let i=!1,s=o=>{if(P)M.paused();else{M.nextFrame()||(i=!0);for(let o=0;o<r.length;++o)h.U().displayDebuffNumber?(a[o].children[0].style.opacity=1,a[o].children[0].innerText=e.characterInfos[o].poison,a[o].children[1].style.opacity=1,a[o].children[1].innerText=e.characterInfos[o].injury):(a[o].children[0].style.opacity=Math.min(e.characterInfos[o].poison,1e3)/1e3,a[o].children[0].innerText="中毒",a[o].children[1].style.opacity=Math.min(e.characterInfos[o].injury,1e3)/1e3,a[o].children[1].innerText="内伤"),r[o].children[0].style.width=e.characterInfos[o].hp/e.characterInfos[o].maxHp*56+"px",r[o].children[1].innerText=e.characterInfos[o].hp,n[o].children[0].style.width=e.characterInfos[o].mp/e.characterInfos[o].maxMp*56+"px",n[o].children[1].innerText=e.characterInfos[o].mp,e.characterInfos[o].hp<=0&&(t[o].style.display="none");M.render()}};E.ticker.add(s);for(;await l.P((()=>i||P)),!i;)await l.P((()=>!P));E.ticker.remove(s);let d=document.querySelector(".postBattleDialog .mdc-dialog__title");M.survivedTeam?d.innerText=Math.ceil(M.numFrames/50)+"个回合后，"+e.teamNames[M.survivedTeam-1]+"获得了胜利！":M.survivedIndividual?d.innerText=Math.ceil(M.numFrames/50)+"个回合后，"+M.survivedIndividual.characterProto.getName()+"获得了胜利！":d.innerText=Math.ceil(M.numFrames/50)+"个回合后，依旧旗鼓相当！";let p=document.querySelector(".postBattleDialog .mdc-dialog__content");p.innerHTML='<ul class="mdc-list mdc-list--two-line"></ul>';let y=p.querySelector("ul");for(let t=0;t<e.characterInfos.length;++t){let a=document.createElement("li");a.classList.add("mdc-list-item"),a.innerHTML='\n        <span class="mdc-list-item__graphic">\n          <img></img>\n        </span>\n        <span class="mdc-list-item__text">\n          <span class="mdc-list-item__primary-text"></span>\n          <span class="mdc-list-item__secondary-text"></span>\n        </span>\n    ',a.querySelector(".mdc-list-item__graphic img").src=f.getHeadPicSrc(e.characterInfos[t].characterProto),a.querySelector(".mdc-list-item__primary-text").innerText=e.characterInfos[t].characterProto.getName(),a.querySelector(".mdc-list-item__secondary-text").innerText="造成伤害："+e.characterInfos[t].damageCaused,y.appendChild(a)}if(await u.Py(),document.fullscreenElement)try{await document.exitFullscreen()}catch(e){console.log(e)}I.open(),await l.P((function(){return!I.isOpen}));let m=M.survivedTeam;return M.destroy(),M=null,v=null,g.mc(),m}(e.battleOptions)})),j.querySelector(".settingsButton").onclick=async function(){let e=await u.s4({labels:["还原视角","目标选择策略","武功选择策略","画面和声音","返回"]});if(0==e)M&&M.resetView();else if(1==e){if(!v)return;let e=[{text:"最近的敌人",value:-proto.jyf.Strategy.Target.TARGET_NEAREST_ENEMY},{text:"生命最多的敌人",value:-proto.jyf.Strategy.Target.TARGET_ENEMY_WITH_MOST_HP},{text:"生命最少的敌人",value:-proto.jyf.Strategy.Target.TARGET_ENEMY_WITH_LEAST_HP},{text:"向北移动",value:-proto.jyf.Strategy.Target.TARGET_NORTH},{text:"向南移动",value:-proto.jyf.Strategy.Target.TARGET_SOUTH},{text:"向西移动",value:-proto.jyf.Strategy.Target.TARGET_WEST},{text:"向东移动",value:-proto.jyf.Strategy.Target.TARGET_EAST}],t=new Set;for(let a of v.characterInfos)1!=a.team&&a.hp>0&&!t.has(a.characterProto.getId())&&(t.add(a.characterProto.getId()),e.push({text:a.characterProto.getName(),value:a.characterProto.getId()}));let a=[],r=[];for(let t of v.characterInfos)if(1==t.team&&t.hp>0){r.push(t);let n={type:"select",label:t.characterProto.getName(),options:e};t.strategy&&(t.strategy.getTargetCharacterId()>0?n.defaultValue=t.strategy.getTargetCharacterId():t.strategy.getAutoTarget()>0&&(n.defaultValue=-t.strategy.getAutoTarget())),a.push(n)}let n=await u.XP({title:"目标选择策略",allowCancel:!0,inputs:a});if(null==n)return;for(let e=0;e<n.length;++e){r[e].strategy||(r[e].strategy=new proto.jyf.Strategy);let t=r[e].strategy,a=Number(n[e]);a<0?(t.setAutoTarget(-a),t.setTargetCharacterId(0)):(t.setAutoTarget(proto.jyf.Strategy.Target.TARGET_UNSPECIFIED),t.setTargetCharacterId(a))}}else if(2==e){if(!v)return;let e=[],t=[];for(let a of v.characterInfos)if(1==a.team&&a.hp>0){t.push(a);let r={type:"select",label:a.characterProto.getName(),options:[{text:"智能选择",value:-proto.jyf.Strategy.Eft.EFT_MOST_DAMAGE},{text:"不使用任何武功",value:-proto.jyf.Strategy.Eft.EFT_NONE},{text:"随机使用武功",value:-proto.jyf.Strategy.Eft.EFT_RANDOM}]};for(let e of a.characterProto.getEftsList()){if(!f.isEftInfoAttackable(e))continue;let t=f.getEftProto(e.getId());r.options.push({text:t.getName()+" "+e.getLevel()+"级",value:t.getId()})}a.strategy&&(a.strategy.getEftId()>0?r.defaultValue=a.strategy.getEftId():a.strategy.getAutoEft()>0&&(r.defaultValue=-a.strategy.getAutoEft())),e.push(r)}let a=await u.XP({title:"武功选择策略",allowCancel:!0,inputs:e});if(null==a)return;for(let e=0;e<a.length;++e){t[e].strategy||(t[e].strategy=new proto.jyf.Strategy);let r=t[e].strategy,n=Number(a[e]);n<0?(r.setAutoEft(-n),r.setEftId(0)):(r.setAutoEft(proto.jyf.Strategy.Target.TARGET_UNSPECIFIED),r.setEftId(n))}}else if(3==e){let e=h.U(),t=await u.XP({title:"画面和声音",allowCancel:!0,inputs:[{label:"显示人物姓名",type:"checkbox",defaultValue:e.displayName},{label:"显示武功特效",type:"checkbox",defaultValue:e.displayEft},{label:"显示武功文字",type:"checkbox",defaultValue:e.displayHint},{label:"显示Debuff数值",type:"checkbox",defaultValue:e.displayDebuffNumber},{label:"速度",type:"slider",defaultValue:e.playSpeed},{label:"音量",type:"slider",defaultValue:e.musicVolume},{label:"音效",type:"slider",defaultValue:e.soundVolume}]});if(null==t)return;e.displayName=t[0],e.displayEft=t[1],e.displayHint=t[2],e.displayDebuffNumber=t[3],e.playSpeed=t[4],e.musicVolume=t[5],e.soundVolume=t[6],h.a(),M&&M.onSettingsChange()}},j.querySelector(".resetViewButton").onclick=function(){M&&M.resetView()},j.querySelector(".playButton").onclick=function(){P=!1,D()},j.querySelector(".pauseButton").onclick=function(){P=!0,D()},j.querySelector(".enterFullscreenButton").onclick=S,j.querySelector(".exitFullscreenButton").onclick=T,document.onfullscreenchange=C,window.onresize=function(){M&&M.onWindowResize()}}function C(){document.fullscreenElement?(j.querySelector(".enterFullscreenButton").classList.add("hidden"),j.querySelector(".settingsButton").classList.add("hidden"),j.querySelector(".resetViewButton").classList.remove("hidden"),j.querySelector(".exitFullscreenButton").classList.remove("hidden")):(j.requestFullscreen?j.querySelector(".enterFullscreenButton").classList.remove("hidden"):j.querySelector(".enterFullscreenButton").classList.add("hidden"),j.querySelector(".settingsButton").classList.remove("hidden"),j.querySelector(".resetViewButton").classList.add("hidden"),j.querySelector(".exitFullscreenButton").classList.add("hidden"))}function D(){P?(j.querySelector(".playButton").classList.remove("hidden"),j.querySelector(".pauseButton").classList.add("hidden")):(j.querySelector(".playButton").classList.add("hidden"),j.querySelector(".pauseButton").classList.remove("hidden"))}async function S(){if(!document.fullscreenElement)try{await j.requestFullscreen()}catch(e){console.log(e)}}async function T(){if(document.fullscreenElement)try{await document.exitFullscreen()}catch(e){console.log(e)}}function L(e){g.IH("fight/s"+e.getFightPicId()+".json");for(let t of e.getEftsList()){let e=f.getEftProto(t.getId());f.isEftAttackable(e)&&(g.IH("eft/s"+e.getPicId()+".json"),g.IH("sound/"+e.getSoundId()+".mp3"))}}},9376:(e,t,a)=>{"use strict";a.r(t),a.d(t,{PAGE_ID:()=>C,init:()=>T,refreshButtons:()=>D,reset:()=>S});var r=a(3379),n=a.n(r),o=a(701),i={insert:"head",singleton:!1};n()(o.Z,i);o.Z.locals;var s=a(8283),d=a(4150),c=a(6276),l=a(5535),p=a(2100),f=a(3920),u=a(2523),g=a(6341),h=a(6956),y=a.n(h);let m,j,E,b,I,M,v={},P=0,F=0,A=!0;const C="charactersRankingPage";function D(){I.querySelector(".mdc-button__label").innerText=0==F?"开始第"+(P+1)+"轮循环赛":"继续第"+(P+1)+"轮循环赛",I.disabled=!1,M.disabled=!0}function S(){j=u.getCharacterProtos(),c.Cm(j),v={};for(let e of j)v[e.getId()]=0;m.innerHTML="\n  <div>\n    <div><b>该功能极其耗电，手机用户慎用。</b></div>\n    <div>两两之间进行对战，根据获胜方剩余生命评分。</div>\n  </div>",A=!0,P=0,F=0,b.progress=0,D()}function T(){let e=document.getElementById(C);E=new f.Y(e),E.setTitle("战力排行"),e.querySelector(".mainContent").innerHTML=y(),b=new g.c(e.querySelector(".mainContent .mdc-linear-progress")),m=e.querySelector(".mainContent .rank"),I=E.addButton("开始第1轮循环赛"),M=E.addButton("暂停"),M.onclick=function(){A=!0},M.disabled=!0,I.onclick=async function(){E.closeNotification.hasBeenNotified()||(I.disabled=!0,I.querySelector(".mdc-button__label").innerText="进行第"+(P+1)+"轮循环赛中…",M.disabled=!1,A=!1,await d._(0),await async function(){for(b.progress=F/(j.length-1)/j.length;F<(j.length-1)*j.length;++F){if(A)return;let e=Math.floor(F/j.length),t=F%j.length,a=j[t],r=j[(t+e)%j.length],n={characterInfos:[],battleMapProto:c.sS(p.getBattleMapProtos())};n.characterInfos.push({characterProto:a,team:null}),n.characterInfos.push({characterProto:r,team:null});let o=new s.J(n);for(;o.nextFrame(););if(o.survivedIndividual){let e=Math.round(50*o.survivedIndividual.hp/o.survivedIndividual.characterProto.getHp())+50;o.survivedIndividual==n.characterInfos[0]?(v[a.getId()]+=e,v[r.getId()]+=100-e):(v[r.getId()]+=e,v[a.getId()]+=100-e)}else v[a.getId()]+=50,v[r.getId()]+=50;if(F%50==0&&await d._(0),(F+1)%j.length==0){let e=[];for(let t of j){let a=t.getId();e.push({id:a,score:v[a]})}e.sort((function(e,t){return t.score-e.score})),m.innerHTML="";for(let t of e){let e=document.createElement("a"),a=u.getCharacterProto(t.id);e.innerText=a.getName()+"："+t.score,m.appendChild(e),e.onclick=function(){l.V("inspectCharactersPage",{mainCharacterProto:a,allCharacterProtos:u.getCharacterProtos()})}}b.progress=(F+1)/(j.length-1)/j.length}}F=0,P++}(),D())},S(),u.registerInvalidateCallback(S),l.d(C,(async function(e,t){E.closeNotification=t,await E.closeNotification.waitForNotification(),A=!0,d.P((()=>!I.disabled))}))}},6147:(e,t,a)=>{"use strict";a.r(t),a.d(t,{PAGE_ID:()=>u,init:()=>j});var r=a(3379),n=a.n(r),o=a(4251),i={insert:"head",singleton:!1};n()(o.Z,i);o.Z.locals;var s=a(6918),d=a.n(s),c=a(5535),l=a(3920),p=a(6572),f=a.n(p);const u="documentPage";let g,h,y;function m(e){return y&&y.classList.remove("highlight"),y=g.querySelector(".mainContent "+e),y&&(y.classList.add("highlight"),y.scrollIntoView(!0)),!1}function j(){g=document.getElementById(u),h=new l.Y(g),h.setTitle("游戏设定"),g.querySelector(".mainContent").innerHTML=f(),g.querySelector(".wrapper").innerHTML=d();for(let e of g.querySelectorAll("a")){let t=e.href,a=t.slice(t.lastIndexOf("#"));e.href="#randomStringAdfoasdjfoavn",e.onclick=m.bind(null,a)}c.d(u,(async function(e,t){e||(e={}),e.docId&&m("#jyfDoc-"+e.docId),h.closeNotification=t,await h.closeNotification.waitForNotification()}))}},5324:(e,t,a)=>{"use strict";a.r(t),a.d(t,{PAGE_ID:()=>M,init:()=>C});var r=a(3379),n=a.n(r),o=a(5986),i={insert:"head",singleton:!1};n()(o.Z,i);o.Z.locals;var s=a(466),d=a(4566),c=a(5535),l=a(2100),p=a(3920),f=a(7460),u=a(6221),g=a(408),h=a(2523),y=a(3513);var m=a(5334),j=a.n(m);let E,b,I;const M="inspectCharactersPage",v=0,P=1,F=2;async function A(){if(0==await u.s4({labels:["一键升级所有人武功","返回"]})){let e,t=[];for(let e of h.get().getTeamMemberIdsList()){let a=h.getCharacterProto(e),r=l.finalizeCharacterProto(a);for(let e of a.getEftsList()){let n=10,o=l.getEftInfoProto(r,e.getId());o.hasEftEnhancement()&&(n+=o.getEftEnhancement().getAddMaxLevel());let i=10;for(let t of h.get().getOwnedEftIdsList())if(t==e.getId()){i=1;break}let s=e.getLevel();for(let t=s;t<n&&t*i<=a.getExp();++t)a.setExp(a.getExp()-t*i),e.setLevel(t+1);s<e.getLevel()&&t.push(a.getName()+"的"+l.getEftProto(e.getId()).getName()+"升到了"+e.getLevel()+"级。")}}e=t.length>0?t.join("\n"):"所有人都没有可升级的武功！",await u.V_({title:"武功升级",text:e}),b&&b.click()}}function C(){E=document.getElementById(M),I=new p.Y(E),I.optionsButton.onclick=A,E.querySelector(".mainContent").innerHTML=j(),I.enableSearchButton((function(e){let t=E.querySelectorAll(".sidebar div");for(let a of t)a.innerText.includes(e)?a.classList.remove("hidden"):a.classList.add("hidden")})),c.d(M,(async function(e,t){I.closeSearchBar(),I.closeNotification=t,e||(e={}),e.adjustPoints||(e.adjustPoints=0),e.title||(e.title="人物图鉴"),e.allCharacterProtos||(e.allCharacterProtos=h.getCharacterProtos()),e.noSort||e.allCharacterProtos.sort(((e,t)=>e.getOrderId()-t.getOrderId())),e.mainCharacterProto||(e.mainCharacterProto=e.allCharacterProtos[0]),e.ownedEftIdSet=new Set(h.get().getOwnedEftIdsList()),function(e){let t=v;"INSPECT_TEAM"==e.mode?(I.setTitle(e.title+"【人数："+e.allCharacterProtos.length+"/10】"),I.showOptionsButton(),I.hideSearchButton()):(I.setTitle(e.title),I.hideOptionsButton(),I.showSearchButton()),"CREATE_STANDARD"==e.mode?I.hideBackButton():I.showBackButton();let a=E.querySelector(".sidebar");a.innerHTML="";let r=E.querySelector(".description");r.innerHTML="";let n,o=E.querySelector(".controlPanel");o.innerHTML="",b=null;let i={};for(let e of Object.keys(y.x))i[e]=0;for(let p of e.allCharacterProtos){let m=document.createElement("div");m.innerText=p.getName(),m.onclick=function(){o.innerHTML="";let j=null;"INSPECT_TEAM"==e.mode&&(j=e.allCharacterProtos);let E=l.finalizeCharacterProto(p,j),M=E.toObject();M.headPicSrc=l.getHeadPicSrc(E),M.eftsList=M.eftsList.map((e=>(e.isEftInfo=!0,e))),p.getWeapon().getId()&&(M.weapon=l.getEquipmentProto(p.getWeapon().getId(),p.getWeapon().getQuality()).toObject(),M.weapon.isWeapon=!0,M.weapon.quality=p.getWeapon().getQuality()),p.getArmor().getId()&&(M.armor=l.getEquipmentProto(p.getArmor().getId(),p.getArmor().getQuality()).toObject(),M.armor.quality=p.getArmor().getQuality()),M.enhanceRelations=l.getEnhanceRelationsObj(p,j),M.hasEnhanceRelations=M.enhanceRelations.length>0,M.practiceCounts=[];for(let e of M.eftEnhancementsList)if(1==e.addMaxLevel){let t=!1;for(let a of M.practiceCounts)if(a.id==e.id){t=!0,++a.count;break}t||M.practiceCounts.push({id:e.id,count:1})}M.eftEnhancementsList=M.eftEnhancementsList.filter((e=>1!=e.addMaxLevel)),M.hasPracticeCounts=M.practiceCounts.length>0,r.innerHTML=s.render('<img src="{{ characterObj.headPicSrc }}">\n\n<div class="name">{{ characterObj.name }}</div>\n\n{{# characterObj.comment }}\n<p>{{ characterObj.comment }}</p>\n{{/ characterObj.comment }}\n\n{{# characterObj.weapon.id }}\n{{# characterObj.weapon }}\n<div class="section">武器：<span class="equipmentQuality{{ quality }}">{{ name }}</span></div>\n<ul>\n  {{# attributeEnhancementsList }}\n    <li>{{> attributeEnhancementTemplate }}</li>\n  {{/ attributeEnhancementsList }}\n\n  {{# eftEnhancementsList }}\n    <li>{{> eftEnhancementTemplate }}</li>\n  {{/ eftEnhancementsList}}\n</ul>\n{{/ characterObj.weapon }}\n{{/ characterObj.weapon.id }}\n\n{{# characterObj.armor.id }}\n{{# characterObj.armor }}\n<div class="section">防具：<span class="equipmentQuality{{ quality }}">{{ name }}</span></div>\n<ul>\n  {{# attributeEnhancementsList }}\n    <li>{{> attributeEnhancementTemplate }}</li>\n  {{/ attributeEnhancementsList }}\n\n  {{# eftEnhancementsList }}\n    <li>{{> eftEnhancementTemplate }}</li>\n  {{/ eftEnhancementsList}}\n</ul>\n{{/ characterObj.armor }}\n{{/ characterObj.armor.id }}\n\n<div class="section">天赋</div>\n<ul>\n  {{# characterObj.attributeEnhancementsList }}\n    <li>{{> attributeEnhancementTemplate }}</li>\n  {{/ characterObj.attributeEnhancementsList }}\n\n  {{# characterObj.eftEnhancementsList }}\n    <li>{{> eftEnhancementTemplate }}</li>\n  {{/ characterObj.eftEnhancementsList}}\n\n  {{# characterObj.hasPracticeCounts }}\n  <li>\n    【闭关修炼】\n    {{# characterObj.practiceCounts }}\n      <p><a data-eftid="{{id}}">{{ eftIdToName }}</a></p> <p>等级上限+{{ count }}</p>\n    {{/ characterObj.practiceCounts }}\n  </li>\n  {{/ characterObj.hasPracticeCounts }}\n\n  {{# characterObj.additionalEfts }}\n  <li>\n    <p>【{{ displayNameOfAdditionalEfts }}】</p>\n    <p>可以多学{{ characterObj.additionalEfts }}门武功</p>\n  </li>\n  {{/ characterObj.additionalEfts }}\n</ul>\n\n<div class="section">基础属性</div>\n<ul>\n  <span>\n    {{# enhanceAttribute }}<div class="placeHolder"></div>{{/ enhanceAttribute }}\n    <a class="doc" data-docid="gender">性别</a>：{{ genderToString }}\n    {{# enhanceAttribute }}<div class="placeHolder"></div>{{/ enhanceAttribute }}\n  </span>\n  <span>\n    {{# enhanceAttribute }}\n    <button class="enhanceAttribute hp mdc-icon-button">{{{ add_circle }}}</button>\n    {{/ enhanceAttribute }}\n    <a class="doc" data-docid="hp">最大生命</a>：{{ characterObj.hp }}\n    {{# enhanceAttribute }}\n    <button class="decreaseAttribute hp mdc-icon-button">{{{ remove_circle }}}</button>\n    {{/ enhanceAttribute }}\n  </span>\n  <span>\n    {{# enhanceAttribute }}\n    <button class="enhanceAttribute mp mdc-icon-button">{{{ add_circle }}}</button>\n    {{/ enhanceAttribute }}\n    <a class="doc" data-docid="mp">最大内力</a>：{{ characterObj.mp }}\n    {{# enhanceAttribute }}\n    <button class="decreaseAttribute mp mdc-icon-button">{{{ remove_circle }}}</button>\n    {{/ enhanceAttribute }}\n  </span>\n  <span>\n    {{# enhanceAttribute }}\n    <button class="enhanceAttribute attack mdc-icon-button">{{{ add_circle }}}</button>\n    {{/ enhanceAttribute }}\n    <a class="doc" data-docid="attackAndDefense">攻击</a>：{{ characterObj.attack }}\n    {{# enhanceAttribute }}\n    <button class="decreaseAttribute attack mdc-icon-button">{{{ remove_circle }}}</button>\n    {{/ enhanceAttribute }}\n  </span>\n  <span>\n    {{# enhanceAttribute }}\n    <button class="enhanceAttribute defense mdc-icon-button">{{{ add_circle }}}</button>\n    {{/ enhanceAttribute }}\n    <a class="doc" data-docid="attackAndDefense">防御</a>：{{ characterObj.defense }}\n    {{# enhanceAttribute }}\n    <button class="decreaseAttribute defense mdc-icon-button">{{{ remove_circle }}}</button>\n    {{/ enhanceAttribute }}\n  </span>\n  <span>\n    {{# enhanceAttribute }}\n    <button class="enhanceAttribute speed mdc-icon-button">{{{ add_circle }}}</button>\n    {{/ enhanceAttribute }}\n    <a class="doc" data-docid="speed">速度</a>：{{ characterObj.speed }}\n    {{# enhanceAttribute }}\n    <button class="decreaseAttribute speed mdc-icon-button">{{{ remove_circle }}}</button>\n    {{/ enhanceAttribute }}\n  </span>\n  <span>\n    {{# enhanceAttribute }}\n    <button class="enhanceAttribute fist mdc-icon-button">{{{ add_circle }}}</button>\n    {{/ enhanceAttribute }}\n    <a class="doc" data-docid="skill">拳掌</a>：{{ characterObj.fist }}\n    {{# enhanceAttribute }}\n    <button class="decreaseAttribute fist mdc-icon-button">{{{ remove_circle }}}</button>\n    {{/ enhanceAttribute }}\n  </span>\n  <span>\n    {{# enhanceAttribute }}\n    <button class="enhanceAttribute sword mdc-icon-button">{{{ add_circle }}}</button>\n    {{/ enhanceAttribute }}\n    <a class="doc" data-docid="skill">御剑</a>：{{ characterObj.sword }}\n    {{# enhanceAttribute }}\n    <button class="decreaseAttribute sword mdc-icon-button">{{{ remove_circle }}}</button>\n    {{/ enhanceAttribute }}\n  </span>\n  <span>\n    {{# enhanceAttribute }}\n    <button class="enhanceAttribute knife mdc-icon-button">{{{ add_circle }}}</button>\n    {{/ enhanceAttribute }}\n    <a class="doc" data-docid="skill">耍刀</a>：{{ characterObj.knife }}\n    {{# enhanceAttribute }}\n    <button class="decreaseAttribute knife mdc-icon-button">{{{ remove_circle }}}</button>\n    {{/ enhanceAttribute }}\n  </span>\n  <span>\n    {{# enhanceAttribute }}\n    <button class="enhanceAttribute unusual mdc-icon-button">{{{ add_circle }}}</button>\n    {{/ enhanceAttribute }}\n    <a class="doc" data-docid="skill">奇门</a>：{{ characterObj.unusual }}\n    {{# enhanceAttribute }}\n    <button class="decreaseAttribute unusual mdc-icon-button">{{{ remove_circle }}}</button>\n    {{/ enhanceAttribute }}\n  </span>\n  <span>\n    {{# enhanceAttribute }}\n    <button class="enhanceAttribute iq mdc-icon-button">{{{ add_circle }}}</button>\n    {{/ enhanceAttribute }}\n    <a class="doc" data-docid="iq">悟性</a>：{{ characterObj.iq }}\n    {{# enhanceAttribute }}\n    <button class="decreaseAttribute iq mdc-icon-button">{{{ remove_circle }}}</button>\n    {{/ enhanceAttribute }}\n  </span>\n  <span>\n    {{# enhanceAttribute }}<div class="placeHolder"></div>{{/ enhanceAttribute }}\n    <a class="doc" data-docid="benevolence">仁义</a>：{{ characterObj.benevolence }}\n    {{# enhanceAttribute }}<div class="placeHolder"></div>{{/ enhanceAttribute }}\n  </span>\n  <span>\n    {{# enhanceAttribute }}<div class="placeHolder"></div>{{/ enhanceAttribute }}\n    <a class="doc" data-docid="exp">潜能</a>：{{ characterObj.exp }}\n    {{# enhanceAttribute }}<div class="placeHolder"></div>{{/ enhanceAttribute }}\n  </span>\n</ul>\n\n<div class="section">其他属性</div>\n<ul>\n\n  {{# characterObj.injury }}\n  <span><a class="doc" data-docid="injury">附加内伤</a>：{{ characterObj.injury }}</span>\n  {{/ characterObj.injury }}\n\n  {{# characterObj.poison }}\n  <span><a class="doc" data-docid="poison">附加中毒</a>：{{ characterObj.poison }}</span>\n  {{/ characterObj.poison }}\n\n  {{# characterObj.critical }}\n  <span><a class="doc" data-docid="critical">暴起一击</a>：{{ characterObj.critical }}</span>\n  {{/ characterObj.critical }}\n\n  {{# characterObj.doubleHit }}\n  <span><a class="doc" data-docid="doubleHit">左右开弓</a>：{{ characterObj.doubleHit }} </span>\n  {{/ characterObj.doubleHit }}\n\n  {{# characterObj.borrowStrength }}\n  <span><a class="doc" data-docid="borrowStrength">借力打力</a>：{{ characterObj.borrowStrength }} </span>\n  {{/ characterObj.borrowStrength }}\n\n  {{# characterObj.ignoreDefense }}\n  <span><a class="doc" data-docid="ignoreDefense">以虚击实</a>：{{ characterObj.ignoreDefense }}</span>\n  {{/ characterObj.ignoreDefense }}\n\n  {{# characterObj.ignoreSkill }}\n  <span><a class="doc" data-docid="ignoreSkill">以巧胜拙</a>：{{ characterObj.ignoreSkill }}</span>\n  {{/ characterObj.ignoreSkill }}\n\n  {{# characterObj.damageIncrease }}\n  <span><a class="doc" data-docid="damageIncrease">劲雄凝重</a>：{{ characterObj.damageIncrease }}</span>\n  {{/ characterObj.damageIncrease }}\n\n  {{# characterObj.accuracy }}\n  <span><a class="doc" data-docid="accuracy">出其不意</a>：{{ characterObj.accuracy }}</span>\n  {{/ characterObj.accuracy }}\n\n  {{# characterObj.sharp }}\n  <span><a class="doc" data-docid="sharp">切金断玉</a>：{{ characterObj.sharp }}</span>\n  {{/ characterObj.sharp }}\n\n  {{# characterObj.hpAbsorb }}\n  <span><a class="doc" data-docid="hpAbsorb">嗜血成性</a>：{{ characterObj.hpAbsorb }}</span>\n  {{/ characterObj.hpAbsorb }}\n\n  {{# characterObj.damageIncreaseToFemale }}\n  <span><a class="doc" data-docid="damageIncreaseToFemale">无耻下流</a>：{{ characterObj.damageIncreaseToFemale }}</span>\n  {{/ characterObj.damageIncreaseToFemale }}\n\n  {{# characterObj.hpRecovery }}\n  <span><a class="doc" data-docid="hpRecovery">生命回复</a>：{{ characterObj.hpRecovery }}</span>\n  {{/ characterObj.hpRecovery }}\n\n  {{# characterObj.mpRecovery }}\n  <span><a class="doc" data-docid="mpRecovery">内力回复</a>：{{ characterObj.mpRecovery }}</span>\n  {{/ characterObj.mpRecovery }}\n\n  {{# characterObj.injuryRecovery }}\n  <span><a class="doc" data-docid="injuryRecovery">内伤回复</a>：{{ characterObj.injuryRecovery }}</span>\n  {{/ characterObj.injuryRecovery }}\n\n  {{# characterObj.poisonRecovery }}\n  <span><a class="doc" data-docid="poisonRecovery">中毒回复</a>：{{ characterObj.poisonRecovery }}</span>\n  {{/ characterObj.poisonRecovery }}\n\n  {{# characterObj.evilHpRecovery }}\n  <span><a class="doc" data-docid="evilHpRecovery">吸饮生血</a>：{{ characterObj.evilHpRecovery }}</span>\n  {{/ characterObj.evilHpRecovery }}\n\n  {{# characterObj.damageReduce }}\n  <span><a class="doc" data-docid="damageReduce">内功卸力</a>：{{ characterObj.damageReduce }}</span>\n  {{/ characterObj.damageReduce }}\n\n  {{# characterObj.armorDefense }}\n  <span><a class="doc" data-docid="armorDefense">宝甲护体</a>：{{ characterObj.armorDefense }}</span>\n  {{/ characterObj.armorDefense }}\n\n  {{# characterObj.damageReduceFromMale }}\n  <span><a class="doc" data-docid="damageReduceFromMale">倾国倾城</a>：{{ characterObj.damageReduceFromMale }}</span>\n  {{/ characterObj.damageReduceFromMale }}\n\n  {{# characterObj.dodge }}\n  <span><a class="doc" data-docid="dodge">闪躲趋避</a>：{{ characterObj.dodge }}</span>\n  {{/ characterObj.dodge }}\n\n  {{# characterObj.counterattack }}\n  <span><a class="doc" data-docid="counterattack">借招还招</a>：{{ characterObj.counterattack }}</span>\n  {{/ characterObj.counterattack }}\n\n  {{# characterObj.shiftAttack }}\n  <span><a class="doc" data-docid="shiftAttack">牵引挪移</a>：{{ characterObj.shiftAttack }}</span>\n  {{/ characterObj.shiftAttack }}\n\n  {{# characterObj.damageRebound }}\n  <span><a class="doc" data-docid="damageRebound">内力反震</a>：{{ characterObj.damageRebound }}</span>\n  {{/ characterObj.damageRebound }}\n\n  {{# characterObj.slapRebound }}\n  <span><a class="doc" data-docid="slapRebound">倒刺护体</a>：{{ characterObj.slapRebound }}</span>\n  {{/ characterObj.slapRebound }}\n\n  {{# characterObj.breakMove }}\n  <span><a class="doc" data-docid="breakMove">料敌机先</a>：{{ characterObj.breakMove }}</span>\n  {{/ characterObj.breakMove }}\n\n  {{# characterObj.mpDefense }}\n  <span><a class="doc" data-docid="mpDefense">真气护体</a>：{{ characterObj.mpDefense }}</span>\n  {{/ characterObj.mpDefense }}\n\n  {{# characterObj.strengthAccumulation }}\n  <span><a class="doc" data-docid="strengthAccumulation">积蓄劲力</a>：{{ characterObj.strengthAccumulation }}</span>\n  {{/ characterObj.strengthAccumulation }}\n\n  {{# characterObj.damageIncreaseWithLessHp }}\n  <span><a class="doc" data-docid="damageIncreaseWithLessHp">越战越勇</a>：{{ characterObj.damageIncreaseWithLessHp }}</span>\n  {{/ characterObj.damageIncreaseWithLessHp }}\n\n  {{# characterObj.mpAbsorb }}\n  <span><a class="doc" data-docid="mpAbsorb">内力吸取</a>：{{ characterObj.mpAbsorb }}</span>\n  {{/ characterObj.mpAbsorb }}\n\n  {{# characterObj.revival }}\n  <span><a class="doc" data-docid="revival">起死回生</a>：{{ characterObj.revival }}</span>\n  {{/ characterObj.revival }}\n\n  {{# characterObj.stiff }}\n  <span><a class="doc" data-docid="stiff">真气反噬</a>：{{ characterObj.stiff }}</span>\n  {{/ characterObj.stiff }}\n\n</ul>\n\n<div class="section">武功（{{ numEfts }}/{{ maxNumEfts }}）</div>\n<ul>\n{{# characterObj.eftsList }}\n  <li class="{{ isEftOwnedString }}">\n    <p><a data-eftid="{{ id }}">{{ eftIdToName }}</a></p>\n\n    <p>{{level}}级</p>\n    <p>{{ eftTypeString }}</p>\n    {{# isAttackable }}\n    <p><a class="doc" data-docid="power">威力</a>{{ eftPower }}</p>\n    <p>消耗内力{{ eftCost }}</p>\n    <p>攻击距离{{ eftAttackDistance }}</p>\n    <p>打击范围{{ eftAttackRange }}</p>\n    {{/ isAttackable }}\n\n    <i>\n    {{# eftEnhancement }}\n      {{> eftEnhancementTemplate }}\n    {{/ eftEnhancement }}\n    </i>\n  </li>\n{{/ characterObj.eftsList }}\n</ul>\n\n{{# characterObj.hasEnhanceRelations }}\n<div class="section">羁绊</div>\n{{# characterObj.enhanceRelations }}\n<div class="{{# inactive }}inactive{{/ inactive }}">\n【{{ displayName }}】{{ relationCharacterNames }}齐上阵：\n<ul>\n  {{# attributeEnhancementsList }}\n    <li>\n      {{# requiredAnyDead }}\n      <p>{{ relationOrCharacterNames }}倒下时：</p>\n      {{/ requiredAnyDead }}\n\n      {{> attributeEnhancementTemplate }}\n    </li>\n  {{/ attributeEnhancementsList }}\n\n  {{# eftEnhancementsList }}\n    <li>\n      {{# requiredAnyDead }}\n      <p>{{ relationOrCharacterNames }}倒下时：</p>\n      {{/ requiredAnyDead }}\n\n      {{> eftEnhancementTemplate }}\n    </li>\n  {{/ eftEnhancementsList}}\n</ul>\n</div>\n{{/ characterObj.enhanceRelations }}\n{{/ characterObj.hasEnhanceRelations }}\n\n<div class="section">活动区域</div>\n据说{{ characterObj.name }}经常在<a>{{ locationName }}</a>出没。\n',{enhanceAttribute:"CREATE_STANDARD"==e.mode,add_circle:'<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"/></svg>',remove_circle:'<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11H7v-2h10v2z"/></svg>',characterObj:M,numEfts:M.eftsList.length,maxNumEfts:M.additionalEfts+10,eftIdToName:function(){return this.id?l.getEftProto(this.id).getName():l.getEftProto(this).getName()},locationName:l.getLocationProto(p.getLocationId()).getName(),isEftOwnedString:function(){return e.ownedEftIdSet.has(this.id)?"owned":"unowned"},genderToString:function(){let e=p.getGender();return e==proto.jyf.Gender.GENDER_MALE?"男":e==proto.jyf.Gender.GENDER_FEMALE?"女":"？？？"},eftTypeString:function(){let e=this;return this.id&&(e=l.getEftProto(this.id).getType()),this.type&&(e=this.type),e==proto.jyf.Eft.Type.FIST?"拳掌":e==proto.jyf.Eft.Type.SWORD?"剑法":e==proto.jyf.Eft.Type.KNIFE?"刀法":e==proto.jyf.Eft.Type.UNUSUAL?"奇门":e==proto.jyf.Eft.Type.INTERNAL?"内功":e==proto.jyf.Eft.Type.LIGHT?"轻功":""},eftPower:function(){let e=l.getEftInfoProto(E,this.id);return l.getEftInfoPower(e)},eftCost:function(){let e=l.getEftInfoProto(E,this.id);return l.getEftInfoCost(e)},eftAttackDistance:function(){return l.getEftProto(this.id).getAttackDistance()},eftAttackRange:function(){let e=l.getEftProto(this.id).getAttackRange();return this.eftEnhancement&&(e+=this.eftEnhancement.addAttackRange),e},isAttackable:function(){let e=l.getEftInfoProto(E,this.id);return l.isEftInfoAttackable(e)},relationCharacterNames:function(){let e=this.toCharacterIdsList.map((e=>h.getCharacterProto(e).getName())).join("、");return this.toCharacterIdsList.includes(p.getId())||(e="与"+e),e},relationOrCharacterNames:function(){let e=this.toCharacterIdsList.filter((e=>e!=p.getId())).map((e=>h.getCharacterProto(e).getName()));return e.length>1?e.join("、")+"（最多触发一次）":e.join("、")},displayNameOfAdditionalEfts:function(){return 5==p.getAdditionalEfts()?"真•主角光环":2==p.getAdditionalEfts()?"主角光环":"？？？"},enhancementValue:function(){return this>0?"+"+this:this}},f.a),b&&b.classList.remove("selected"),m.classList.add("selected"),b=m;let A=r.querySelectorAll("a");for(let e of A)e.onclick=async function(){let t=Number(e.dataset.eftid);if(t)return void c.V("inspectEftsPage",{mainEftProto:l.getEftProto(t)});let a=e.dataset.docid;a?c.V("documentPage",{docId:a}):0==await u.s4({title:"是否前往"+l.getLocationProto(p.getLocationId()).getName()+"？",labels:["确认","取消"]})&&(d.U().nextLocationId=p.getLocationId())},e.classList.add("clickable");if("CREATE_STANDARD"==e.mode){let t=r.querySelectorAll(".enhanceAttribute");for(let a of t){let t=a.classList;a.onclick=function(){if(!(e.adjustPoints<=0)){for(let a of Object.keys(y.x))t.contains(a)&&(e.mainCharacterProto["set"+g.j(a)](e.mainCharacterProto["get"+g.j(a)]()+y.x[a]),++i[a]);e.adjustPoints--,n.click()}}}let a=r.querySelectorAll(".decreaseAttribute");for(let t of a){let a=t.classList;t.onclick=function(){for(let t of Object.keys(y.x))if(a.contains(t)){if(0==i[t])return;--i[t],e.mainCharacterProto["set"+g.j(t)](e.mainCharacterProto["get"+g.j(t)]()-y.x[t])}e.adjustPoints++,n.click()}}e.adjustPoints<=0?I.addButton("完成").onclick=function(){I.closeNotification.notify()}:I.addButton("完成").disabled=!0}else if("INSPECT_TEAM"==e.mode)if(t==v)I.addButton("武功").onclick=async function(){t=P,m.click()},I.addButton("装备").onclick=async function(){t=F,m.click()},I.addButton("策略").onclick=async function(){p.hasStrategy()||p.setStrategy(new proto.jyf.Strategy);let e=p.getStrategy(),t=[],a={type:"select",label:"目标选择策略",options:[{text:"最近的敌人",value:1},{text:"生命最多的敌人",value:2},{text:"生命最少的敌人",value:3}]};e.getAutoTarget()>0&&(a.defaultValue=e.getAutoTarget()),t.push(a),a={type:"select",label:"武功选择策略",options:[{text:"智能选择",value:-proto.jyf.Strategy.Eft.EFT_MOST_DAMAGE},{text:"不使用任何武功",value:-proto.jyf.Strategy.Eft.EFT_NONE},{text:"随机使用武功",value:-proto.jyf.Strategy.Eft.EFT_RANDOM}]};for(let e of p.getEftsList()){if(!l.isEftInfoAttackable(e))continue;let t=l.getEftProto(e.getId());a.options.push({text:t.getName()+" "+e.getLevel()+"级",value:t.getId()})}e.getEftId()>0?a.defaultValue=e.getEftId():e.getAutoEft()>0&&(a.defaultValue=-e.getAutoEft()),t.push(a);let r=await u.XP({title:"策略调整",allowCancel:!0,inputs:t});if(!r)return;let n=Number(r[0]);e.setAutoTarget(n),e.setTargetCharacterId(0),n=Number(r[1]),n<0?(e.setAutoEft(-n),e.setEftId(0)):(e.setAutoEft(proto.jyf.Strategy.Target.TARGET_UNSPECIFIED),e.setEftId(n))},p!=e.mainCharacterProto&&(I.addButton("告别").onclick=async function(){0==await u.s4({title:"即将和"+p.getName()+"告别，请确认",labels:["确认","取消"]})&&(e.allCharacterProtos=e.allCharacterProtos.filter((e=>e!==p)),a.removeChild(m),I.setTitle(e.title+"【人数："+e.allCharacterProtos.length+"/10】"),n.click())});else if(t==P){I.addButton("◄").onclick=async function(){t=v,m.click()},p.getEftsList().length<10+p.getAdditionalEfts()?I.addButton("修炼新武功").onclick=async function(){await c.V("inspectEftsPage",{title:p.getName()+"：修炼新武功",allEftProtos:e.ownedEftProtos,mode:"LEARN_EFT",characterProto:p}),m.click()}:I.addButton("修炼新武功").disabled=!0;let a=!0;for(let e of E.getEftsList()){let t=10;if(e.hasEftEnhancement()&&(t+=e.getEftEnhancement().getAddMaxLevel()),e.getLevel()<t){a=!1;break}}a?I.addButton("升级武功").disabled=!0:I.addButton("升级武功").onclick=async function(){let t=[];for(let e of p.getEftsList())t.push(l.getEftProto(e.getId()));await c.V("inspectEftsPage",{title:p.getName()+"：升级武功",allEftProtos:t,ownedEftProtos:e.ownedEftProtos,mode:"UPGRADE_EFT",characterProto:p}),m.click()},E.getEftsList().length>0&&(h.get().getState().getCleared()||E.getPrestige()!=proto.jyf.Character.Prestige.LEGENDARY)?I.addButton("遗忘武功").onclick=async function(){let e=[];for(let t of p.getEftsList())e.push(l.getEftProto(t.getId()));await c.V("inspectEftsPage",{title:p.getName()+"：遗忘武功",allEftProtos:e,mode:"FORGET_EFT",characterProto:p}),m.click()}:I.addButton("遗忘武功").disabled=!0,p==e.mainCharacterProto&&h.get().getState().getPracticeActivated()&&(l.getRemainingPracticeCount(p)>0?I.addButton("闭关修炼").onclick=async function(){let t=[];for(let e of p.getEftsList())t.push(l.getEftProto(e.getId()));await c.V("inspectEftsPage",{title:p.getName()+"：闭关修炼",allEftProtos:t,ownedEftProtos:e.ownedEftProtos,mode:"PRACTICE_EFT",characterProto:p}),m.click()}:I.addButton("闭关修炼").disabled=!0)}else t==F&&(I.addButton("◄").onclick=async function(){t=v,m.click()},h.get().getState().getCleared()||E.getPrestige()!=proto.jyf.Character.Prestige.LEGENDARY?(I.addButton("武器").onclick=async function(){await c.V("inspectEquipmentsPage",{mode:"UPDATE_WEAPON",characterProto:p}),m.click()},I.addButton("防具").onclick=async function(){await c.V("inspectEquipmentsPage",{mode:"UPDATE_ARMOR",characterProto:p}),m.click()}):(I.addButton("武器").disabled=!0,I.addButton("防具").disabled=!0));else"SELECT_CHARACTER"==e.mode&&(I.addButton("选择").onclick=function(){e.selectedCharacterProto=p,I.closeNotification.notify()})},a.appendChild(m),e.mainCharacterProto==p&&(n=m)}n.click()}(e),await I.closeNotification.waitForNotification()}))}},17:(e,t,a)=>{"use strict";a.r(t),a.d(t,{PAGE_ID:()=>E,init:()=>I});var r=a(3379),n=a.n(r),o=a(3476),i={insert:"head",singleton:!1};n()(o.Z,i);o.Z.locals;var s=a(466),d=a(6221),c=a(5535),l=a(7460),p=a(2100),f=a(3920),u=a(2523);var g=a(3474),h=a.n(g);let y,m,j;const E="inspectEftsPage";function b(e,t){for(e.setEftsList(e.getEftsList().filter((e=>e.getId()!=t))),e.setEftEnhancementsList(e.getEftEnhancementsList().filter((e=>e.getId()!=t||1!=e.getAddMaxLevel())));;){let t=!1,a=p.finalizeCharacterProto(e);for(let r of a.getEftsList()){let a=10;if(r.hasEftEnhancement()&&(a+=r.getEftEnhancement().getAddMaxLevel()),r.getLevel()>a){p.getEftInfoProto(e,r.getId()).setLevel(a),t=!0;break}}if(!t)break}}function I(){y=document.getElementById(E),j=new f.Y(y),j.enableSearchButton((function(e){let t=y.querySelectorAll(".sidebar div");for(let a of t)a.innerText.includes(e)?a.classList.remove("hidden"):a.classList.add("hidden")})),y.querySelector(".mainContent").innerHTML=h(),c.d(E,(async function(e,t){j.closeSearchBar(),j.closeNotification=t,e||(e={}),e.title||(e.title="武功图鉴"),e.allEftProtos||(e.allEftProtos=p.getEftProtos()),e.mainEftProto||(e.mainEftProto=e.allEftProtos[0]),e.ownedEftIdSet=new Set(u.get().getOwnedEftIdsList()),function(e){"UPGRADE_EFT"==e.mode||"LEARN_EFT"==e.mode||"PRACTICE_EFT"==e.mode?j.setTitle(e.title+"【剩余潜能"+e.characterProto.getExp()+"点】"):e.mode?j.setTitle(e.title):j.setTitle(e.title+"【拥有秘籍："+e.ownedEftIdSet.size+"/"+p.getEftProtos().length+"】");let t=y.querySelector(".sidebar");t.innerHTML="";let a=y.querySelector(".description");a.innerHTML="";let r,n=y.querySelector(".controlPanel");n.innerHTML="",m=null;let o=new Map;for(let i of e.allEftProtos){let f=document.createElement("div");e.ownedEftIdSet.has(i.getId())||f.classList.add("unowned"),f.innerText=i.getName(),f.onclick=function(){let t=i.toObject(),r=null,g=10;if("UPGRADE_EFT"==e.mode||"PRACTICE_EFT"==e.mode){let t=p.finalizeCharacterProto(e.characterProto),a=p.getEftInfoProto(t,i.getId());r=a.getLevel(),a.hasEftEnhancement()&&(g+=a.getEftEnhancement().getAddMaxLevel())}let h=[];for(let e of p.getEftProtos()){if(e.getId()==i.getId())continue;let t=!1;for(let a of e.getEftEnhancementsList()){if(a.getId()==i.getId()){t=!0;break}if(0==a.getId()&&a.getType()==i.getType()){t=!0;break}}t&&h.push({name:e.getName(),id:e.getId()})}let y=[];for(let e of u.getCharacterProtos()){let t=p.getEftInfoProto(e,i.getId());null!=t&&y.push({name:e.getName(),level:t.getLevel()})}a.innerHTML=s.render('<div class="name">\n  {{ eftObj.name }}\n  {{# currentLevel }}等级：{{ currentLevel }}/{{ maxLevel }}{{/ currentLevel }}\n</div>\n\n<div class="section">属性（10级时）</div>\n<ul>\n  <span>类型：{{ eftTypeString }}</span>\n  {{# isAttackable }}\n  <span><a class="doc" data-docid="power">威力</a>：{{ eftObj.power }}</span>\n  <span>消耗内力：{{ eftObj.cost }}</span>\n  <span>攻击距离：{{ eftObj.attackDistance }}</span>\n  <span>打击范围：{{ eftObj.attackRange }}</span>\n  {{/ isAttackable }}\n</ul>\n\n<div class="section">属性加成</div>\n<ul>\n{{# eftObj.attributeEnhancementsList }}\n  <li>\n    {{^ requiredLevel }}\n      <p>每升一级：</p>\n    {{/ requiredLevel }}\n    {{> attributeEnhancementTemplate }}\n  </li>\n{{/ eftObj.attributeEnhancementsList }}\n</ul>\n\n<div class="section">武功加成</div>\n<ul>\n  {{# eftObj.eftEnhancementsList }}\n    <li>\n      {{^ requiredLevel }}\n      <p>每升一级：</p>\n      {{/ requiredLevel }}\n      {{> eftEnhancementTemplate }}\n    </li>\n  {{/ eftObj.eftEnhancementsList }}\n\n  {{# eftObj.jointAttack }}\n  <li>\n    <p>与<a data-eftid="{{eftId}}">{{ jointAttackEftName }}</a><a class="doc" data-docid="jointAttack">合击</a>时，触发<a>{{name}}</a>：</p>\n\n    {{# addAttack }}\n    <p><a class="doc" data-docid="attackAndDefense">攻击</a>+{{ addAttack }}</p>\n    {{/ addAttack }}\n\n    {{# addIgnoreSkill }}\n    <p><a class="doc" data-docid="ignoreSkill">以巧胜拙</a>+{{ addIgnoreSkill }}</p>\n    {{/ addIgnoreSkill }}\n\n    {{# addAccuracy }}\n    <p><a class="doc" data-docid="accuracy">出其不意</a>+{{ addAccuracy }}</p>\n    {{/ addAccuracy }}\n\n    {{# addCritical }}\n    <p><a class="doc" data-docid="critical">暴起一击</a>+{{ addCritical }}</p>\n    {{/ addCritical }}\n  </li>\n  {{/ eftObj.jointAttack }}\n</ul>\n\n<div class="section">修炼要求</div>\n<ul>\n  {{# eftObj.requiredHp }}\n  <p class="requiredHp">最大生命≥{{ eftObj.requiredHp }}</p>\n  {{/ eftObj.requiredHp }}\n\n  {{# eftObj.requiredMp }}\n  <p class="requiredMp">最大内力≥{{ eftObj.requiredMp }}</p>\n  {{/ eftObj.requiredMp }}\n\n  {{# eftObj.requiredAttack }}\n  <p class="requiredAttack">攻击≥{{ eftObj.requiredAttack }}</p>\n  {{/ eftObj.requiredAttack }}\n\n  {{# eftObj.requiredDefense }}\n  <p class="requiredDefense">防御≥{{ eftObj.requiredDefense }}</p>\n  {{/ eftObj.requiredDefense }}\n\n  {{# eftObj.requiredSpeed }}\n  <p class="requiredSpeed">速度≥{{ eftObj.requiredSpeed }}</p>\n  {{/ eftObj.requiredSpeed }}\n\n  {{# eftObj.requiredFist }}\n  <p class="requiredFist">拳掌≥{{ eftObj.requiredFist }}</p>\n  {{/ eftObj.requiredFist }}\n\n  {{# eftObj.requiredSword }}\n  <p class="requiredSword">御剑≥{{ eftObj.requiredSword }}</p>\n  {{/ eftObj.requiredSword }}\n\n  {{# eftObj.requiredKnife }}\n  <p class="requiredKnife">耍刀≥{{ eftObj.requiredKnife }}</p>\n  {{/ eftObj.requiredKnife }}\n\n  {{# eftObj.requiredUnusual }}\n  <p class="requiredUnusual">奇门≥{{ eftObj.requiredUnusual }}</p>\n  {{/ eftObj.requiredUnusual }}\n\n  {{# eftObj.requiredIq }}\n  <p class="requiredIq">悟性≥{{ eftObj.requiredIq }}</p>\n  {{/ eftObj.requiredIq }}\n\n  {{# eftObj.requiredMaximumIq }}\n  <p class="requiredMaximumIq">悟性≤{{ eftObj.requiredMaximumIq }}</p>\n  {{/ eftObj.requiredMaximumIq }}\n\n  {{# eftObj.requiredGender }}\n  <p class="requiredGender">性别为{{ requiredGenderToString }}</p>\n  {{/ eftObj.requiredGender }}\n</ul>\n\n<div class="section">相关武功</div>\n<ul>\n  {{# relatedEftNameAndIds }}\n  <p><a data-eftid="{{ id }}">{{ name }}</a></p>\n  {{/ relatedEftNameAndIds }}\n</ul>\n\n<div class="section">修炼者</div>\n<ul>\n  {{# learnedCharacterNameAndLevels }}\n  <li>\n    {{ name }} {{ level }}级\n  </li>\n  {{/ learnedCharacterNameAndLevels }}\n</ul>\n',{eftObj:t,relatedEftNameAndIds:h,learnedCharacterNameAndLevels:y,currentLevel:r,maxLevel:g,eftIdToName:function(){return this.id?p.getEftProto(this.id).getName():p.getEftProto(this).getName()},jointAttackEftName:function(){return p.getEftProto(i.getJointAttack().getEftId()).getName()},requiredGenderToString:function(){let e=i.getRequiredGender();return e==proto.jyf.Gender.GENDER_MALE?"男":e==proto.jyf.Gender.GENDER_FEMALE?"女":"？？？"},eftTypeString:function(){let e=this.type;return e||(e=i.getType()),e==proto.jyf.Eft.Type.FIST?"拳掌":e==proto.jyf.Eft.Type.SWORD?"剑法":e==proto.jyf.Eft.Type.KNIFE?"刀法":e==proto.jyf.Eft.Type.UNUSUAL?"奇门":e==proto.jyf.Eft.Type.INTERNAL?"内功":e==proto.jyf.Eft.Type.LIGHT?"轻功":"？？？"},isAttackable:function(){return p.isEftAttackable(i)},enhancementValue:function(){return this>0?"+"+this:this}},l.a),m&&m.classList.remove("selected"),f.classList.add("selected"),m=f;let E=a.querySelectorAll("a");for(let e of E){let t=Number(e.dataset.eftid);if(t==i.getId())continue;if(!o.has(t))continue;let a=o.get(t);e.onclick=function(){a.click()},e.classList.add("clickable")}for(let e of E){let t=e.dataset.docid;t&&(e.onclick=function(){c.V("documentPage",{docId:t})},e.classList.add("clickable"))}if("LEARN_EFT"==e.mode){n.innerHTML="";let t=new Set,r=p.characterAbleToLearnEft(e.characterProto,i,t);for(let e of t){let t=a.querySelector("."+e);t&&t.classList.add("incompatible")}n.innerHTML="";let o=10;r&&e.characterProto.getExp()>=o?j.addButton("花费"+o+"点潜能修炼【"+i.getName()+"】").onclick=async function(){if(i.getRequiredGender()==proto.jyf.Gender.GENDER_SHEMALE&&e.characterProto.getGender()!=proto.jyf.Gender.GENDER_SHEMALE){if(!u.get().getState().getCleared()&&e.characterProto.getPrestige()==proto.jyf.Character.Prestige.LEGENDARY)return void await d.s4({title:"欲练神功，引刀自宫。炼丹服药，内外皆通。然而"+e.characterProto.getName()+"并不愿意自宫。",labels:["哦"]});if(0!=await d.s4({title:"欲练神功，引刀自宫。炼丹服药，内外皆通。真的要让"+e.characterProto.getName()+"自宫吗？",labels:["确认","取消"]}))return}p.characterLearnEft(e.characterProto,i),e.characterProto.setExp(e.characterProto.getExp()-o),j.setTitle(e.title+"【剩余潜能："+e.characterProto.getExp()+"点】"),f.click()}:t.has("learned")?j.addButton("已修炼").disabled=!0:t.has("reachMaxNumEfts")?j.addButton("武功数量到达上限").disabled=!0:r?j.addButton("需要"+o+"点潜能").disabled=!0:j.addButton("不符合修炼要求").disabled=!0}else if("UPGRADE_EFT"==e.mode){n.innerHTML="";let t=p.getEftInfoProto(e.characterProto,i.getId()),a=10*t.getLevel();for(let r of e.ownedEftProtos)r.getId()==t.getId()&&(a/=10);t.getLevel()<g&&e.characterProto.getExp()>=a?j.addButton("花费"+a+"点潜能升级【"+i.getName()+"】").onclick=function(){e.characterProto.setExp(e.characterProto.getExp()-a),t.setLevel(t.getLevel()+1),j.setTitle(e.title+"【剩余潜能："+e.characterProto.getExp()+"点】"),f.click()}:t.getLevel()>=g?j.addButton("已到达等级上限").disabled=!0:j.addButton("需要"+a+"点潜能").disabled=!0}else if("PRACTICE_EFT"==e.mode){n.innerHTML="";let t=p.getEftInfoProto(e.characterProto,i.getId()),a=100*(g-8);t.getLevel()>=10&&e.characterProto.getExp()>=a&&p.getRemainingPracticeCount(e.characterProto)>0?j.addButton("花费"+a+"点潜能修炼【"+i.getName()+"】").onclick=function(){e.characterProto.setExp(e.characterProto.getExp()-a);let r=e.characterProto.addEftEnhancements();r.setId(t.getId()),r.setAddMaxLevel(1),j.setTitle(e.title+"【剩余潜能："+e.characterProto.getExp()+"点】"),f.click()}:p.getRemainingPracticeCount(e.characterProto)<=0?j.addButton("修炼次数到达上限").disabled=!0:t.getLevel()<10?j.addButton("武功当前等级太低").disabled=!0:j.addButton("需要"+a+"点潜能").disabled=!0}else"FORGET_EFT"==e.mode&&(n.innerHTML="",null!=p.getEftInfoProto(e.characterProto,i.getId())?j.addButton("忘记【"+i.getName()+"】").onclick=function(){b(e.characterProto,i.getId()),f.click()}:j.addButton("已忘记该武功").disabled=!0)},t.appendChild(f),e.mainEftProto==i&&(r=f),o.set(i.getId(),f)}r&&r.click()}(e),await j.closeNotification.waitForNotification()}))}},8191:(e,t,a)=>{"use strict";a.r(t),a.d(t,{PAGE_ID:()=>I,init:()=>A});var r=a(3379),n=a.n(r),o=a(1147),i={insert:"head",singleton:!1};n()(o.Z,i);o.Z.locals;var s=a(466),d=a(4566),c=a(6221),l=a(5535),p=a(2100),f=a(3920),u=a(2523),g=a(7460);const h='<div class="name"><span class="equipmentQuality{{ quality }}">{{ equipmentObj.name }}</span>{{^ inspectOnly }} （剩余：{{ count }}）{{/ inspectOnly }}</div>\n{{# equipmentObj }}\n\n{{# comment }}\n<p>{{ comment }}</p>\n{{/ comment }}\n<div class="section">类型：{{ typeName }}</div>\n<div class="section">属性</div>\n<ul>\n  {{# attributeEnhancementsList }}\n    <li>{{> attributeEnhancementTemplate }}</li>\n  {{/ attributeEnhancementsList }}\n\n  {{# eftEnhancementsList }}\n    <li>{{> eftEnhancementTemplate }}</li>\n  {{/ eftEnhancementsList}}\n</ul>\n\n{{# locationName }}\n<div class="section">主要产地</div>\n据说{{ name }}能在<a>{{ locationName }}</a>找到。\n{{/ locationName }}\n\n{{/ equipmentObj }}\n';var y=a(347),m=a.n(y);let j,E,b;const I="inspectEquipmentsPage";function M(e,t){if(0!=e.getId())for(let t of u.get().getStackedEquipmentsList())if(p.isSameEquipment(e,t)){t.setCount(t.getCount()+1);break}t?(t.setCount(t.getCount()-1),e.setId(t.getId()),e.setQuality(t.getQuality())):(e.setId(0),e.setQuality(0))}function v(e,t){let a,r=F(t);a=t==proto.jyf.Equipment.Type.WEAPON?e.characterProto.getWeapon():e.characterProto.getArmor(),b.setTitle(e.characterProto.getName()+"："+r);let n=j.querySelector(".sidebar");n.innerHTML="";let o=j.querySelector(".description");o.innerHTML="";let i,f=j.querySelector(".controlPanel");if(f.innerHTML="",E=null,0!=a.getId()){let e=!1;for(let t of u.get().getStackedEquipmentsList())if(p.isSameEquipment(a,t)){e=!0;break}if(!e){let e=u.get().addStackedEquipments();e.setId(a.getId()),e.setQuality(a.getQuality())}}{let e=document.createElement("div");e.innerText="无",e.onclick=function(){o.innerText="真正的高手是不需要装备的。",f.innerHTML="",E&&E.classList.remove("selected"),e.classList.add("selected"),E=e,0==a.getId()?b.addButton("当前无"+r).disabled=!0:b.addButton("选择").onclick=function(){M(a,null),e.click()}},n.appendChild(e),i=e}let y=[];for(let e of u.get().getStackedEquipmentsList())y.push(e);y.sort((function(e,t){let a=p.getEquipmentProto(e.getId()),r=p.getEquipmentProto(t.getId());return a.getOrderId()!=r.getOrderId()?a.getOrderId()-r.getOrderId():t.getQuality()-e.getQuality()}));for(let e of y){let r=p.isSameEquipment(a,e);if(!e.getCount()&&!r)continue;let u=p.getEquipmentProto(e.getId(),e.getQuality());if(u.getType()!=t)continue;let y=document.createElement("div");y.innerText=u.getName(),y.classList.add("equipmentQuality"+e.getQuality()),y.onclick=function(){let t=u.toObject();t.isWeapon=u.getType()==proto.jyf.Equipment.Type.WEAPON,o.innerHTML=s.render(h,{equipmentObj:t,count:e.getCount(),quality:e.getQuality(),eftIdToName:function(){return this.id?p.getEftProto(this.id).getName():p.getEftProto(this).getName()},eftTypeString:function(){let e=this.type;return this.id&&(e=p.getEftProto(this.id).getType()),e==proto.jyf.Eft.Type.FIST?"拳掌":e==proto.jyf.Eft.Type.SWORD?"剑法":e==proto.jyf.Eft.Type.KNIFE?"刀法":e==proto.jyf.Eft.Type.UNUSUAL?"奇门":e==proto.jyf.Eft.Type.INTERNAL?"内功":e==proto.jyf.Eft.Type.LIGHT?"轻功":""},enhancementValue:function(){return this>0?"+"+this:this},locationName:P(u),typeName:F(u.getType())},g.a);let r=o.querySelectorAll("a");for(let e of r)e.onclick=async function(){let t=Number(e.dataset.eftid);if(t)return void l.V("inspectEftsPage",{mainEftProto:p.getEftProto(t)});let a=e.dataset.docid;a?l.V("documentPage",{docId:a}):0==await c.s4({title:"是否前往"+p.getLocationProto(u.getLocationId()).getName()+"？",labels:["确认","取消"]})&&(d.U().nextLocationId=u.getLocationId())},e.classList.add("clickable");f.innerHTML="",E&&E.classList.remove("selected"),y.classList.add("selected"),E=y,p.isSameEquipment(a,e)?b.addButton("已装备").disabled=!0:b.addButton("选择").onclick=function(){M(a,e),y.click()}},n.appendChild(y),r&&(i=y)}i.click()}function P(e){let t=p.getLocationProto(e.getLocationId());return t?t.getName():null}function F(e){return e==proto.jyf.Equipment.Type.WEAPON?"武器":e==proto.jyf.Equipment.Type.ARMOR?"防具":"???"}function A(){j=document.getElementById(I),b=new f.Y(j),b.enableSearchButton((function(e){let t=j.querySelectorAll(".sidebar div");for(let a of t)a.innerText.includes(e)?a.classList.remove("hidden"):a.classList.add("hidden")})),j.querySelector(".mainContent").innerHTML=m(),l.d(I,(async function(e,t){b.closeSearchBar(),b.closeNotification=t,e||(e={}),"UPDATE_WEAPON"==e.mode?v(e,proto.jyf.Equipment.Type.WEAPON):"UPDATE_ARMOR"==e.mode?v(e,proto.jyf.Equipment.Type.ARMOR):(e.quality||(e.quality=0),e.equipmentProtos||(e.equipmentProtos=p.getEquipmentProtos()),e.title||(e.title="装备图鉴"),function(e){b.setTitle(e.title);let t=j.querySelector(".sidebar");t.innerHTML="";let a,r=j.querySelector(".description");r.innerHTML="",j.querySelector(".controlPanel").innerHTML="",E=null;let n=e.equipmentProtos.map((e=>e));n.sort((function(e,t){return e.getOrderId()-t.getOrderId()}));for(let o of n){let n=document.createElement("div");n.innerText=o.getName(),n.classList.add("equipmentQuality"+e.quality),n.onclick=function(){let t=o.toObject();t.isWeapon=o.getType()==proto.jyf.Equipment.Type.WEAPON,r.innerHTML=s.render(h,{equipmentObj:t,quality:e.quality,inspectOnly:!0,eftIdToName:function(){return this.id?p.getEftProto(this.id).getName():p.getEftProto(this).getName()},eftTypeString:function(){let e=this.type;return this.id&&(e=p.getEftProto(this.id).getType()),e==proto.jyf.Eft.Type.FIST?"拳掌":e==proto.jyf.Eft.Type.SWORD?"剑法":e==proto.jyf.Eft.Type.KNIFE?"刀法":e==proto.jyf.Eft.Type.UNUSUAL?"奇门":e==proto.jyf.Eft.Type.INTERNAL?"内功":e==proto.jyf.Eft.Type.LIGHT?"轻功":""},enhancementValue:function(){return this>0?"+"+this:this},locationName:P(o),typeName:F(o.getType())},g.a);let a=r.querySelectorAll("a");for(let e of a)e.onclick=async function(){let t=Number(e.dataset.eftid);if(t)return void l.V("inspectEftsPage",{mainEftProto:p.getEftProto(t)});let a=e.dataset.docid;a?l.V("documentPage",{docId:a}):0==await c.s4({title:"是否前往"+p.getLocationProto(o.getLocationId()).getName()+"？",labels:["确认","取消"]})&&(d.U().nextLocationId=o.getLocationId())};E&&E.classList.remove("selected"),n.classList.add("selected"),E=n},a||(a=n),t.appendChild(n)}a.click()}(e)),await b.closeNotification.waitForNotification()}))}},8268:(e,t,a)=>{"use strict";a.r(t),a.d(t,{PAGE_ID:()=>O,init:()=>Z});var r=a(3379),n=a.n(r),o=a(4460),i={insert:"head",singleton:!1};n()(o.Z,i);o.Z.locals;var s=a(4566),d=a(6276),c=a(5535),l=a(2100),p=a(3920),f=a(6221),u=a(2523),g=a(5159),h=a(3121),y=a(4150);function m(){c.V("inspectCharactersPage",{mainCharacterProto:u.getCharacterProto(this.dataset.id)})}function j(){c.V("inspectEftsPage",{mainEftProto:l.getEftProto(this.dataset.id)})}function E(){c.V("inspectEquipmentsPage",{title:"查看装备",equipmentProtos:[l.getEquipmentProto(this.dataset.id,this.dataset.quality)],quality:this.dataset.quality})}class b{constructor(e){this.dom_=e,this.pendingLogs_=[],e.innerHTML="";for(let t of u.get().getLogsList()){let a=document.createElement("div");this.render_(t,a),e.appendChild(a)}this.scrollIntoView(),this.process_()}addLog(e){this.pendingLogs_.push(e),u.get().addLogs(e);let t=u.get().getLogsList();t.length>100&&u.get().setLogsList(t.slice(t.length-100))}markAllAsRead(){let e=this.dom_.querySelectorAll("div");for(let t of e)t.classList.remove("new")}async wait(){await y.P(function(){return 0==this.pendingLogs_.length||this.destroyed_}.bind(this))}scrollIntoView(){this.dom_.lastElementChild&&this.dom_.lastElementChild.scrollIntoView(!1)}destroy(){this.destroyed_=!0}render_(e,t){for(let a of e.getRichContentsList()){let e=document.createElement("span");e.innerText=a.getText(),a.getType()==proto.jyf.Save.RichContent.Type.CHARACTER?(e.classList.add("characterLink"),e.dataset.id=a.getId(),e.onclick=m):a.getType()==proto.jyf.Save.RichContent.Type.EFT?(e.classList.add("eftLink"),e.dataset.id=a.getId(),e.onclick=j):a.getType()==proto.jyf.Save.RichContent.Type.EQUIPMENT&&(e.classList.add("equipmentQuality"+a.getQuality()),e.dataset.id=a.getId(),e.dataset.quality=a.getQuality(),e.onclick=E),t.appendChild(e)}}async process_(){for(;!this.destroyed_;){let e=h.U();if(await y._(Math.round((e.logSpeed-100)*(e.logSpeed-100)*3/25)),this.destroyed_)break;if(0==this.pendingLogs_.length)continue;let t=document.createElement("div");for(this.render_(this.pendingLogs_[0],t),t.classList.add("new"),this.dom_.appendChild(t);this.dom_.childElementCount>300;)this.dom_.removeChild(this.dom_.firstElementChild);this.scrollIntoView(),this.pendingLogs_.shift()}}}var I=a(8283);let M,v,P,F,A,C,D,S,T,L,w,R,k,B,W,q,x=[];const O="meleePage",N=new RegExp(/^[\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u3005\u3007\u3021-\u3029\u3038-\u303B\u3400-\u4DB5\u4E00-\u9FD5\uF900-\uFA6D\uFA70-\uFAD9]*$/);function _(e,t){e.setExp(e.getExp()+Math.round(1*e.getIq()*t/20))}function z(e){let t=e.getEftsList().filter((e=>e.getLevel()>=10&&!X(e.getId())));return 0==t.length?null:d.sS(t).getId()}function H(){return u.getCharacterProto(u.get().getTeamMemberIdsList()[0])}function G(){for(let e of x)e.classList.add("hidden")}async function U(e){await v.wait();for(let t of e)t.classList.remove("hidden");v.scrollIntoView();let t=u.get().getState().getLocationId();0==t?P.setTitle("江湖风云"):P.setTitle("江湖风云："+l.getLocationProto(t).getName())}function V(){ge(),u.get().getState().getCleared()?U([A,q,D,S]):U([A,B,D,S])}function J(e,t){e.onclick=function(){G(),v.markAllAsRead(),t()},x.push(e)}function Q(){v.destroy(),v=new b(M.querySelector(".mainContent")),G(),je("你进入了一个武侠的世界，这里有许多耳熟能详的人物。他们来自不同时空，甚至失去了一些记忆。"),U([L])}async function K(){let e=await f.s4({labels:["人物关系","重新开始","下载存档","上传存档","游戏设置","返回"]},(function(e){2==e?P.saveBinaryFile("save",u.get().serializeBinary()):3==e&&P.loadBinaryFile("save",(function(e){u.loadBinary(e),u.triggerInvalidateCallbacks(),v.destroy(),v=new b(M.querySelector(".mainContent")),G(),V()}))}));if(0==e)f.V_({title:"人物关系如下",text:u.showRelations()});else if(1==e){0==await f.s4({title:"即将删除当前存档并重新开始，请确认",labels:["确认","取消"]})&&(u.reset(),Q())}else if(4==e){let e=h.U(),t=await f.XP({title:"游戏设置",allowCancel:!0,inputs:[{label:"剧情文字速度",type:"slider",defaultValue:e.logSpeed},{label:"跳过战斗画面",type:"checkbox",defaultValue:e.skipBattleRendering}]});if(null==t)return;e.logSpeed=t[0],e.skipBattleRendering=t[1],h.a()}}function Z(){M=document.getElementById(O),P=new p.Y(M),P.setTitle("江湖风云"),P.showOptionsButton(),P.optionsButton.onclick=K,v=new b(M.querySelector(".mainContent")),c.d(O,(async function(e,t){P.closeNotification=t,v.scrollIntoView(),await P.closeNotification.waitForNotification()})),k=P.addButton("休息"),J(k,ie),F=P.addButton("帮助坏人"),J(F,le),C=P.addButton("帮助好人"),J(C,ce),w=P.addButton("与我无关"),J(w,pe),R=P.addButton("放弃"),J(R,fe),D=P.addButton("查看队伍"),J(D,ue),S=P.addButton("闯荡江湖"),J(S,ye),T=P.addButton("开始战斗"),J(T,de),L=P.addButton("介绍自己"),J(L,Ee),W=P.addButton("邀请入队"),J(W,re),q=P.addButton("武林寻踪"),J(q,te),B=P.addButton("修整十日"),J(B,se),A=P.addButton("前往别处"),J(A,ae),G(),u.get().getTeamMemberIdsList().length>0?V():Q()}function Y(e){for(let t of u.get().getTeamMemberIdsList())if(e.getId()==t)return!0;return!1}function X(e){for(let t of u.get().getOwnedEftIdsList())if(e==t)return!0;return!1}let $,ee;async function te(){let e={title:"邀请入队",allCharacterProtos:[],mode:"SELECT_CHARACTER"},t=H();for(let a of u.getCharacterProtos())!Y(a)&&g.NA(a,t)>0&&a.getPrestige()!=proto.jyf.Character.Prestige.UNKNOWN&&e.allCharacterProtos.push(a);await c.V("inspectCharactersPage",e),e.selectedCharacterProto?(s.U().nextLocationId=e.selectedCharacterProto.getLocationId(),ge(),je("经过多方打听，你终于找到了",e.selectedCharacterProto,"。希望"+l.getThirdPersonPronoun(e.selectedCharacterProto)+"加入你的队伍。"),u.get().getTeamMemberIdsList().length>=10?je("可是你的队伍已经满了。"):(je("你凭借三寸不烂之舌，成功地说服了",e.selectedCharacterProto,"加入你的队伍。"),u.get().addTeamMemberIds(e.selectedCharacterProto.getId())),je(""),U([k])):V()}async function ae(){let e={type:"select",label:"",options:l.getLocationProtos().map((e=>({text:e.getName(),value:e.getId()})))};e.defaultValue=u.get().getState().getLocationId();let t=await f.XP({title:"请选择想去的区域",allowCancel:!0,inputs:[e]});t&&(s.U().nextLocationId=t[0]),V()}function re(){if(u.get().getTeamMemberIdsList().length>=10)return je("虽然你很想邀请",re.person,"加入你的队伍，可是你的队伍已经满了。"),je(""),void U([k]);if(re.person.getPrestige()==proto.jyf.Character.Prestige.UNKNOWN)return je("你想邀请",re.person,"加入你的队伍，但是"+l.getThirdPersonPronoun(re.person)+"表示自己只是个跑龙套的，然后就溜了。"),je(""),void U([k]);let e=H();return g.NA(re.person,e)<=0?(je("你想邀请",re.person,"加入你的队伍，但是"+l.getThirdPersonPronoun(re.person)+"却表示与你道不同不相为谋。"),je(""),void U([k])):re.person.getPrestige()==proto.jyf.Character.Prestige.FLEDGLING||g.NA(re.person,e)>3?(je("在你的邀请下，",re.person,"加入了你的队伍。"),je(""),U([k]),void u.get().addTeamMemberIds(re.person.getId())):(de.battleOptions={characterInfos:[{characterProto:e,team:1},{characterProto:re.person,team:2}],battleMapProto:d.sS(l.getBattleMapProtos()),teamNames:[e.getName(),re.person.getName()]},je("你想邀请",re.person,"加入你的队伍，"+l.getThirdPersonPronoun(re.person)+"想再看看你的实力。"),U([T]),void(de.battleResultCallback=t=>{if(1==t)je("你成功的让",re.person,"心服口服地加入了你的队伍。"),u.get().addTeamMemberIds(re.person.getId());else if(je(re.person,"认为你还不够强。"),Math.random()<=.05){let e=z(re.person);null!=e&&(je("为了鼓励你，"+l.getThirdPersonPronoun(re.person)+"送了一本",l.getEftProto(e),"的秘籍给你。"),u.get().addOwnedEftIds(e))}je(""),U([k]),_(e,de.battleOptions.characterInfos.length)}))}function ne(e,t){je("你选择帮助",e,"。"),de.battleOptions={characterInfos:[],battleMapProto:d.sS(l.getBattleMapProtos()),teamNames:["我方","敌方"]};let a=H(),r=new Set;for(let n of u.get().getTeamMemberIdsList()){let o=u.getCharacterProto(n);if(o!=a&&g.NA(o,a)<=0)r.add(o.getId()),je(o,"因为看不惯你的为人，离开了队伍。");else if(o!=a&&g.NA(o,t)>g.NA(o,e)+g.NA(o,a))je(o,"不愿意帮助你和",e,"对付",t,"。");else{if(o!=a){let a=g.Q(o,e,t);"。"!=a&&je(o,"从你的队伍中一跃而出，来到了",e,"身边",a)}de.battleOptions.characterInfos.push({characterProto:u.getCharacterProto(n),team:1})}}U([T]),u.get().setTeamMemberIdsList(u.get().getTeamMemberIdsList().filter((e=>!r.has(e)))),de.battleOptions.characterInfos.push({characterProto:e,team:1}),de.battleOptions.characterInfos.push({characterProto:t,team:2}),de.battleResultCallback=t=>{let a=u.get().getState(),r=a.getRank();if(1==t){if(W.querySelector(".mdc-button__label").innerText="邀请"+e.getName()+"入队",re.person=e,je("你与",e,"击败了敌人。"),a.getCleared()||Math.random()<.2){let t=function(){let e=[],t=u.get().getState().getLocationId();for(let a of l.getEquipmentProtos()){let r={equipmentId:a.getId(),score:Math.random()};a.getLocationId()==t&&(r.score*=10),a.getRarity()>0&&(r.score*=1+d.b5(0,a.getRarity())),e.push(r)}e.sort(((e,t)=>t.score-e.score));let a=new proto.jyf.Character.EquipmentInfo;a.setId(e[0].equipmentId),Math.random()<.1&&a.setQuality(1);return a}();t&&(je("原来他们争斗的目标是",t,"。为了感谢你的帮助，",e,"把",t,"送给了你。"),u.addStackedEquipment(t))}je(""),U([W,k]),++r}else 2==t?(je("你与",e,"被痛揍了一顿。"),je(""),U([k]),r-=5):(je("双方打成了平手。"),je(""),U([k]));for(let e of u.get().getTeamMemberIdsList()){_(u.getCharacterProto(e),de.battleOptions.characterInfos.length)}a.setRank(d.uZ(r,0,50))};let n=r;e.getPrestige()!=proto.jyf.Character.Prestige.UNKNOWN&&n.add(e.getId()),t.getPrestige()!=proto.jyf.Character.Prestige.UNKNOWN&&n.add(t.getId());let o=he({filter:function(a){return!n.has(a.getId())&&g.NA(a,t)-g.NA(a,e)>0},scoreMultiplier:function(a){return g.NA(a,t)-g.NA(a,e)},duplicator:function(e){return e.getPrestige()!=proto.jyf.Character.Prestige.UNKNOWN?0:Math.round((50-u.get().getState().getRank())/10)}}),i=.8*u.get().getState().getRank();for(let a of o){if(de.battleOptions.characterInfos.length>=35)break;if(i<=0)break;de.battleOptions.characterInfos.push({characterProto:a,team:2}),je("一旁的",a,"选择帮助",t,g.Q(a,t,e));let r=a.getPrestige();r<=0&&(r=1),i-=r}}function oe(){let e=u.get().getState();e.setNumDays(e.getNumDays()+1);for(let t of u.get().getTeamMemberIdsList()){let a=u.getCharacterProto(t);if(e.getCleared()){if(Math.random()>.8)continue}else if(Math.random()>.1)continue;let r=z(a);null!=r&&(je(a,"心血来潮，写下了",l.getEftProto(r),"的秘籍。"),u.get().addOwnedEftIds(r))}e.getRank()>20&&!e.getPracticeActivated()&&(e.setPracticeActivated(!0),je("一场又一次战斗之后，你对许多武功有了新的感悟，似乎可以找时间闭关修炼一下。（最多可以修炼",l.getRemainingPracticeCount(H()),"次，每次提高指定武功等级上限1，可在【查看队伍 > 武功】中找到该选项。）")),je("第"+e.getNumDays()+"天就这么过去了。(进度已保存)"),je("")}function ie(){oe(),V(),me()}function se(){for(let e=0;e<10;++e)oe();V(),me()}async function de(){let e;if(h.U().skipBattleRendering){T.disabled=!0,T.classList.remove("hidden"),T.querySelector(".mdc-button__label").innerText="准备战斗中……";let t=new I.J(de.battleOptions);for(;t.nextFrame();)t.numFrames%10==0&&await y._(50),T.querySelector(".mdc-button__label").innerText="战斗中（第"+Math.ceil(t.numFrames/50)+"回合）";T.querySelector(".mdc-button__label").innerText="开始战斗",T.classList.add("hidden"),T.disabled=!1,e=t.survivedTeam}else e=await c.V("battleUiPage",{battleOptions:de.battleOptions});de.battleResultCallback(e)}function ce(){let e=H();e.setBenevolence(d.uZ(e.getBenevolence()+5,-100,100)),ne($,ee)}function le(){let e=H();e.setBenevolence(d.uZ(e.getBenevolence()-5,-100,100)),ne(ee,$)}function pe(){je("你选择无视他们。"),je(""),U([k])}function fe(){je("你选择放弃。"),je(""),U([k])}async function ue(){let e=[];for(let t of u.get().getTeamMemberIdsList())e.push(u.getCharacterProto(t));let t=l.getEftProtos().filter((function(e){return X(e.getId())})),a={title:"查看队伍",mainCharacterProto:e[0],allCharacterProtos:e,ownedEftProtos:t,mode:"INSPECT_TEAM",noSort:!0};await c.V("inspectCharactersPage",a);let r=!1,n=u.get().getTeamMemberIdsList().filter((function(e){for(let t of a.allCharacterProtos)if(t.getId()==e)return!0;let t=u.getCharacterProto(e);return je(t,"离开了队伍。"),t.clearStrategy(),r=!0,!1}));u.get().setTeamMemberIdsList(n),r&&je(""),V(),me()}function ge(){let e=u.get().getState();s.U().nextLocationId&&(s.U().nextLocationId!=e.getLocationId()&&(e.setLocationId(s.U().nextLocationId),e.setNumDays(e.getNumDays()+d.b5(3,5)),je("你花费数天时间来到了"+l.getLocationProto(e.getLocationId()).getName()+"。")),s.U().nextLocationId=0)}function he(e){e||(e={});let t=[],a=u.get().getState().getLocationId();for(let r of u.getCharacterProtos()){if(Y(r))continue;if(e.filter&&!e.filter(r))continue;let n=1;r.getLocationId()==a&&(n*=5),e.scoreMultiplier&&(n*=e.scoreMultiplier(r));let o=1;e.duplicator&&(o+=e.duplicator(r));for(let e=0;e<o;++e)t.push({characterId:r.getId(),score:n*Math.random()})}return t.sort(((e,t)=>t.score-e.score)),t.map((e=>u.getCharacterProto(e.characterId)))}function ye(){if(ge(),u.get().getState().getRank()>=50&&!u.get().getState().getCleared())return u.get().getState().setRank(40),void async function(){je("你发现了一个时空裂缝，似乎通过那里就能回到原来的世界。"),de.battleOptions={characterInfos:[],battleMapProto:d.sS(l.getBattleMapProtos()),teamNames:["我方","敌方"]};for(let e of u.get().getTeamMemberIdsList())de.battleOptions.characterInfos.push({characterProto:u.getCharacterProto(e),team:1});let e=[];for(let t of u.getCharacterProtos())Y(t)||t.getPrestige()!=proto.jyf.Character.Prestige.LEGENDARY||e.push(t);d.Cm(e);for(let t of e.slice(0,24))de.battleOptions.characterInfos.push({characterProto:t,team:2}),je(t,"表示，"+l.getThirdPersonPronoun(t)+"不会让你就这么通过裂缝。");U([T,R]),de.battleResultCallback=e=>{let t=u.get().getState(),a=t.getRank();1==e?(je("你击败了敌人，穿过了时空裂缝。"),je("你突然惊醒，原来那个世界只是一场梦。"),je("已通关（解除了各种限制，增加了队友写秘籍和装备掉落的概率，并可直接邀请所有愿意接受你的人物入队。增强你的队伍，试试PVP吧。）"),t.setNumDays(t.getNumDays()+1),t.setCleared(!0),je(""),V()):(je("你没能击败他们。裂缝消失了。"),je(""),U([k]));for(let e of u.get().getTeamMemberIdsList())_(u.getCharacterProto(e),de.battleOptions.characterInfos.length);t.setRank(d.uZ(a,0,50)),1==e&&me()}}();for(;;){let e=he()[0],t=he({filter:function(t){return!(t.getBenevolence()*e.getBenevolence()>=0)&&g.NA(e,t)<0},scoreMultiplier:function(t){return g.NA(e,t)}});if(0!=t.length){e.getBenevolence()>0?($=e,ee=t[0]):($=t[0],ee=e);break}}C.querySelector(".mdc-button__label").innerText="帮助"+$.getName(),F.querySelector(".mdc-button__label").innerText="帮助"+ee.getName(),je($,"与",ee,"起了冲突。"),U([C,F,w])}function me(){u.save()}function je(){let e=new proto.jyf.Save.Log;for(let t of arguments){let a=e.addRichContents();if(t instanceof proto.jyf.Character)a.setText(t.getName()),a.setType(proto.jyf.Save.RichContent.Type.CHARACTER),a.setId(t.getId());else if(t instanceof proto.jyf.Eft)a.setText(t.getName()),a.setType(proto.jyf.Save.RichContent.Type.EFT),a.setId(t.getId());else if(t instanceof proto.jyf.Character.EquipmentInfo){let e=l.getEquipmentProto(t.getId());a.setText(e.getName()),a.setType(proto.jyf.Save.RichContent.Type.EQUIPMENT),a.setId(e.getId()),a.setQuality(t.getQuality())}else a.setText(t)}v.addLog(e)}async function Ee(){let e="",t=await f.XP({title:"介绍自己",inputs:[{type:"text",label:"名字",validator:function(e){let t="必须是2-4个汉字";return e.length<2||e.length>4?t:e.match(N)?null:t}}]});e=t[0];let a=null;for(let t of u.getCharacterProtos())1!=t.getId()&&t.getName()==e&&(a=t);if(null!=a){for(let e of a.getEftsList())e.setLevel(1);a.setAdditionalEfts(2),a.setPrestige(proto.jyf.Character.Prestige.UNKNOWN),je("恍惚间，你有了一段新的记忆，原来你是：",a,"。")}else{let t=(await f.XP({title:"请选择性别",inputs:[{type:"select",label:"",options:[{text:"男",value:proto.jyf.Gender.GENDER_MALE},{text:"女",value:proto.jyf.Gender.GENDER_FEMALE}],defaultValue:proto.jyf.Gender.GENDER_MALE}]}))[0];if(a=u.getCharacterProto(1),t==proto.jyf.Gender.GENDER_FEMALE){let e=l.data.getEventCharactersList()[1].cloneMessage();a.setGender(e.getGender()),a.setFightPicId(e.getFightPicId()),a.setHeadPicId(e.getHeadPicId()),a.setAttributeEnhancementsList(e.getAttributeEnhancementsList())}a.setName(e),a.setAdditionalEfts(5),je("在这个世界，你给自己起了一个名字："+a.getName()+"。");let r={title:"请配置初始属性",mainCharacterProto:a,allCharacterProtos:[a],mode:"CREATE_STANDARD",adjustPoints:10};for(;r.adjustPoints>0;)await c.V("inspectCharactersPage",r)}u.get().addTeamMemberIds(a.getId()),u.get().getState().setLocationId(a.getLocationId()),je(""),V(),u.triggerInvalidateCallbacks(),me()}},949:(e,t,a)=>{"use strict";a.r(t),a.d(t,{PAGE_ID:()=>j,init:()=>L,loadPresetOpponent:()=>T});var r=a(3379),n=a.n(r),o=a(5595),i={insert:"head",singleton:!1};n()(o.Z,i);o.Z.locals;var s=a(3513),d=(a(8283),a(5535)),c=a(3920),l=a(6221),p=a(2523),f=a(6276),u=a(408),g=(a(4150),a(2100)),h=a(5159),y=a(987),m=a.n(y);const j="pvpPage";let E,b,I,M,v=10;const P=new RegExp(/^[1-9][0-9]*$/);function F(){let e={characterInfos:[],battleMapProto:f.sS(g.getBattleMapProtos()),teamNames:["我方","敌方"]},t=0;for(let a of p.get().getTeamMemberIdsList())if(e.characterInfos.push({characterProto:p.getCharacterProto(a),team:1}),++t,t>=v)break;t=0;for(let a of M.opponentTeam)if(e.characterInfos.push({characterProto:a,team:2}),++t,t>=v)break;return e}function A(e,t,a){if(!e)return;let r=null;if(a||(r=function(e){if(0==e.length||e.length>10)return"人数不对！";let t=e[0];if(1==t.getId()){t.setAdditionalEfts(5);let e=g.getCharacterProto(1),a=0;for(let r of Object.keys(s.x))a+=(t["get"+u.j(r)]()-e["get"+u.j(r)]())/s.x[r];if(10!=a)return"属性加点不对！"}else t.setAdditionalEfts(2);let a=new Set;for(let t of e){if(a.has(t.getId()))return"有重复人物："+t.getName();a.add(t.getId())}let r=0;for(let a of e){if(a.getEftsList().length>a.getAdditionalEfts()+10)return"武功数量不对："+a.getName();let n=new Set;if(a!=t&&h.NA(a,t)<=0)return a.getName()+"不应该出现在队伍里！";g.getCharacterProto(a.getId());let o=g.finalizeCharacterProto(a);for(let t of o.getEftsList()){let o=g.getEftProto(t.getId());if(n.has(o.getId()))return a.getName()+"有重复武功："+o.getName();if(n.add(o.getId()),!g.ableToLearnWithoutIqRequirement(a,o)){if(a.getIq()<o.getRequiredIq()||o.getRequiredMaximumIq()>0&&a.getIq()>o.getRequiredMaximumIq())return a.getName()+"的"+o.getName()+"不符合资质要求！";if(o.getRequiredGender()!=proto.jyf.Gender.GENDER_UNKNOWN&&a.getGender()!=o.getRequiredGender()){if(a.getGender()!=proto.jyf.Gender.GENDER_MALE||o.getRequiredGender()!=proto.jyf.Gender.GENDER_SHEMALE)return a.getName()+"的"+o.getName()+"不符合性别要求！";g.castrate(a)}}let i=10;if(t.hasEftEnhancement()&&(i+=t.getEftEnhancement().getAddMaxLevel()),t.getLevel()<=0)return a.getName()+"的"+o.getName()+"等级不对！";if(t.getLevel()>i){if(a!=e[0])return a.getName()+"的"+o.getName()+"等级不对！";r+=t.getLevel()-i}}}return r>g.getRemainingPracticeCount(e[0])?e[0].getName()+"的闭关修炼次数不对！":null}(e)),r)return void alert("该阵容有bug："+r);M.opponentTeam=e;let n=t;for(let t=0;t<e.length;++t)n+=e[t].getName(),t+1<e.length?n+="、":n+="。";E.querySelector(".opponentTeam").innerText=n}async function C(){let e=await l.s4({labels:["导入对方阵容","导出我方阵容","其他设置","返回"]});if(0==e){let e;try{let t;t=await l.XP({title:"请粘贴对方的阵容代码",inputs:[{type:"text",label:"阵容代码"}]}),e=p.fromTeamString(t[0].trim())}catch(e){console.log(e),alert("无法读取对方阵容，可能复制的代码不完整。")}A(e,"【手动导入】")}else if(1==e)l.V_({title:"请复制我方当前阵容的代码：",text:p.toTeamString(),showCopyButton:!0});else if(2==e){let e=await l.XP({title:"PVP设置",inputs:[{type:"text",label:"双方参战人数",validator:function(e){let t="必须是1到10之间的数字";if(!e.match(P))return t;let a=Number(e);return a<1||a>10?t:null},defaultValue:v.toString()}]});v=Number(e[0]),E.querySelector(".maxNumCharacters").innerText=v.toString()}}const D=["VjwO4cbbx71a4ZzrxfMkkVq4bgPvDpMZcjqKCUZ0Dk4P74KJp2OHpbkFtNNHcrgSe/y2zCyrAMDPo/eFVXgy+LMJ7UEuUCPW5/VXK402Msqc/RZIfQtgNtf30L/U3wJ0i1arRG7adFoej/VzcR/B6OlvERKTFSOaUG001xYMjAwvRxauEm5dJ8FgchtWAt5e0X/AahFzDRZzcZk4oaLsgrD5g3klt/hzFY0FESJBFVA5WrugtdRaEGK26ymeAQepysQTO2vjrXY7JbEWuYcdjZdKDTljpJLb8/kX0ARPFX5gOz5P2/AD0WPk1HY7wo1Jwqk9H08XTKRDZdUpxqyN1Zb06KX+w6w+Qmh2/wzOZcjoceBCH8N10wuR7Ex/0JERu40JbUdH5iaGDdIiJoAPzJ8/Lmd7IowumI3DuiA8ChJR3k4GL3NOvPUQF8RQE2e0KQ==","VjYP+dTY9qatWBwOb20PjRaTQzbBFOIbCzibCVlvL0xl7Z6IoWOEpKoEqdFLXqk6Qnyt2jqgK9P5nM2GZEww6ZxZy14ANAGt3dBvLeAeA/Kv9XlyWyjsHfPIq7/jxx5Dq2qGbQT0ZDQIp+lmQv7S4/XGIzy2JDmtUhg22hQOjHcvBxaVBl1xBulqbDmaE4lS5F3ZU+xAHjNBZK8sibTBgL/7iXoJmM5ZdaMgIQg3F0kVZKWMlLhzO0e12x62Pxewn98wODjWm9QNHJkIp4kNlIRgPC1XkJpG25s59RRsPU5gI3p3nvAH0fD30nAr0IIjtL07AU4QUYxdYcos2b+Rx4jh9rzfTKk8HniE7DvS+vTvTrdVY9ZexCWR70wL0ZYTm4wvWFNr1jaDM98RTK4DuLIWB2tr4bwVt5r0kAcDPyZZvn9L2W24gI0WAJplL326QBiPbqeUqk7611J5x0huZgGwU/SyZMZuAva8q6daZb0tEkLJXBHwR1Lofq10OccBC4ZlLqhUUnK8BeQmlB2NmMeE46j9Cn1LywIVqIlrHN6519Rje1GhBK7wqZGKLcrthSYPkRvh","VjMM3N3a34OtbD348+XRuAyKZxngFpkaBiOSEih3DlUX9J+QvmGGvqYdg/9VdpC2Wkap1gGxJ8fkjeOKTnYw2aQp+x84KyDc5v9VB6AkN+LLz15SAxH5CO3X2qDYtBZFhVC3WgbEXkU4mtJZTj7S0evgDAhPJgK4Vx0i3XwIpQYxbgmEG1RDPtNbVjmEB8RLxUruRFrfDjVkapEnppfkqrfnmmcVhthEHbM9NQMpA0wMRY6am/XhOEeK4Sm1Fwup7cQROULWl9cNH5ELpIgvu7dLBmxNjbKYyK0J2hhcCE1QGQRGqcoY84bM/Uk026hnjoIzkWcsYp04R/ULwtiK0LzHyJD1X4UecFKtyDXuVefkUjxqTf0ExQWT4U1905QTmIwqW15qtBinFNUJbhQR775WPn9fH4AbnpP1vhMMKSVZtH0w2mKfZ6rmOPJmJUuYfzKQIA==","VjMO4cbY8rSgaRj44uUcqwCmeh3pH45xGCSMCERoCCEP6YCNvmaYurYZstN0XZkJXly0/pqiEdbLqcW/VkkKqJQdwXkaIxv02vtgIbESDejd9nVyUyvWHfHL377+8DRFmz28bj79XnMA4+lrQvrS4/XLIza3EyOYUxgurBUTjAI2AxecHGVwHutSxRK8Adx7z03sHUBlBO9xSrYlpbXl6bvSg2cUiNlDHb0/PwIHLl4JbY6ogd9pKk200RHsORqIvP4xJ0W8j8cQAI0duZUdmoJ+DQF2povw3rE+/S1WPnRLGT1/2PAH0d330lY93JlWrrg6A04/U6BdFcss2q6T/4j54YTbRK0GWXDA7DnSwffvTu5WbtVuyT2Gxll/05sRm4w1WHNr7jabP+dhRKgD94AVBQtxNbX0orXJsQcPKidaiX0/2026mY5iAeZnH0uwSQiPXKKm7UbI73VhTFtbeviCTMq5fMVtdu2ms9hZZb0rCkjTSD3hb1DtXKh8ff0CCZ9HH6oFVWiqtPMKtBScgs+i5bfhFRVU12kdmLFdLfG4ycAuYnCDKHLRd4rQKdkvDPsavUPDAoB593KE","VjYMyMLY0pOueRYCY0gPkxahQzDHGrMPJy+UCVB0DU0Q652LonuFpKUFrdJHc7gSewKV3CKuGdDL38+gdEgI+Zku73YiOz/I0INBNJIFAuqo9XZxRgH9MO/j+bXsqy5TqUK8XG/CbVkmjs5rex7t2dXaJSulJQC6SS8OqS0mrPsEVSmjBTtfI9hEXiWuOvx+1UjXZHlwPwVySKQ7lZvLokLSoEcLg8xDdrkWOB8bMGw7TbSitdVsEXecwwqOKy6f03EnAG3OlsoKAo0QuJofiZd+DihilZHW85s/9S1ePHZ7O4FtjfY4557Zy18ez4JJuqoGHlMWTL1DfsMY4paS5Z7v6NbMcpkTckmj1iTwR93McMNBacF30wST+GZb1Io4vrsT+U1Q4AC7L/snT6s6wYMhPntLKZcxi5P1qDgoAzlxmksDAHmAo54fOeh/JUyCTCmfbJ+t237N7UFaKUtsdRKARNNJXAJIcfq2p6VMSPF7","VjMO0sbZw5ihSA74++XUuwyKFRbtDYQFIDnlCFJ1AEwB7IqLpGGJpq4Eg/9VdJCbWna1zmOJMcKcivq24U8I+b4v5WwWOQnd+uw+N5gFJ+qc9EdxfgflN+XiyZf09RZFqyyMSyZ6dmMElNNSdgH6xMnGOTSsETurSG000BYjoD8GZ3mMLW90POpiKwGyCwBL91vKamtyMww0cpYhuaCUgL/jhmAMgup3PYs3uCsRA1Q1fY6igO0uIlSM9QmXOSiV5PIZB0fIl8cTC4wUuOEf/pR8DTJbmrnKjJs/9SFePnQhIRZngPA38p+h9VYqyZtRr7Q7AE0KU6lcFMoA95S7xSDwwqbOXocoSyWd/wz9d4fvTsFXa8F00guS9k140pESlIwhWXhq7jebPeehZ4gR7ZI9F14mAJoPa6bPng4IPiIyuVci8kmpnpELLPF9JE+BVwSGR4OBzVTrxF1zGwFuWzA+XMyZVMwcHPe2h959SaE2GV3NVgDKemPzUKFnXK4iHbJnBbtqRV3kK9YQwT2ioNuO5b7iYxdf1zAHnLBSLOq7k+48Zli4Kvr6V5iEYP7xF2ILguWXqI5b21Dc5VOJfb8=","VjYP+/Lb6Y6scBkCY0gPlxagQzDsGYwBFDiRCld0D00T7IWLvmGfpbAFrtJHc7gQQ1WV2iKSK9PxnM37ZEwIyITK0k0GDCDR//BWKowXH4K26WsZTRjFGu7B74Xp7D1tv3vbdC/iUXm+pOlXcBziwdXaJyujFSSFQgc8xHwQ5B4nQy24N35fEvg3dRKMJsTl513oR3tzJBNYb4ovvrL9nqGQm0gXndtQMZgaESsZA1RIfY6aofXUOEeK6Su/GQ2o78QROTrVkdUiH7MIvooXu69HPil1lqqvwrgvwCTIPnZwBxdzttUL54Te71Mq55hWrZg7Gk0cfoV4TeAw9oz9/Y3jxax4ZL84YUqezC/yS93JcbZBa8Bb0yaS9E9p/7A1tKUxd18H7DOBG8+6Z7gHx4AMJ39LJpUziOT0kRIuKz1av3wp92ifr6QIL8oLFXi4aQjDVreV3xLJ8EdII39URhDAdOGmfdpaBOSOi+Jodb8bMjHifwfETi/7QOtOWu81MZVFJpN0b3mJENg2izqckPa8l5vLCDlxujE2tpSGFhuA7/hgUWKTNiew","VjwN3sbVwLBa45x31f8Fiy2kYiiYE5ZxGCuNFURpE3AP84CUvnaZlp4Nnepcb7E5X0TyxjOxGNpVms+qYn4AxLAvl20NIT7K+uxINrIFL+uH2UhZfALPMNXu85TO8CwCo2qMSiaYZmUglMRrYQvn2dbaJyu8Dj6HRQU3xSU5hjMVfyWvBXtlU/BzfzSWt81Y8X3PcWMDJRFPbYohvrr9hKHnmhMVqfBQMZhXESsZA1RIfY6ar/XJOEeKwym2GQmq4N0QOk7U5dd5HbQJpIovu7dJPil9lqrSwrgX4TwxJGV2GDemnfA3nZHS7lkrxppOr7A6Dk8KU9RfbskA9pS6/Y3T5LTmfqwGX3DA5h/IVP1wW+d8bMBs0gqS7k9/0pQQkoxaWQxrzxqJOs8Sfqsx+bovDU9JFq1Cu6bPoTLLAwFls2ke2U+6g41iAeRlPFG2ZBqzcYue61743XZTD1lxajmqWs7IV/NPE87WifdZXNc1EFzcTiDIcGHdfJ1NP/YpMIBpDfhYRmemKbQAoT2duj6tx5fzEghRyRpzhqxVLve9+IQMV2CSI2j/fZmMMvb3Fx8Jji+BDNt/6HbtB245LukxOyJiHVBEEg==","VjMN1M7Yy6GtZQT4+OXiuAyKYQPpG5gaBTiQClh2B0wJ7r6KrGCJpa0Gg/5VdagSeVCn0yqiGdbL3cW/bmcSgp4I6W8kICTI4vlKNZAHAuu09H5yJSn3MM3g85TG8CwGo2q0aD61bHACgfOlSyTHwd7MODevHDqiUyMv1xYNjAMscxa0L11xBulqbDmaE4lS5F3XU9NDHjNAcZwirqHog7n6nnoLmMdaAaAjIDA3D0YVZK2MlMVzO3+aw0S8Ki6q05w3BkPMh80bH5EJpIoCl4RjFgNKuITBwL015jR1HmB0YCduteYznLfk1EgKwKB2s7A5BFIWQbxFftUxxLeNzaXYxozEYqUvQ2Gn+g7rZ/TXXuUtR+hS3jg923Zf75MNh5AzR2RZ3Cy7C+8gTZw4xYI1EV5uCrwtp7eYkjsqJhtCmkAezGauoptiAOFnOlGeZTSleoiwxnT/1XppCmN4Yn2YX8yoR3pcJdKeqNZbQL0rCW/SSz3QbXzCYIB6VP0ECa91HJBEVwi6OOM9qJm0oOa4/rbhFhVV1DIfmbFWL+m45+04S3K/Gn/jdLCQI5HrBj0cFxQdDaIh1VDS5VPvQw==",[g.data.getEventCharactersList()[2]]],S={nextIndex:0};function T(){let e=D[S.nextIndex];Array.isArray(e)?A(e,"【预设阵容"+(S.nextIndex+1)+"】",!0):A(p.fromTeamString(e),"【预设阵容"+(S.nextIndex+1)+"】")}function L(){E=document.getElementById(j),b=new c.Y(E),b.setTitle("PVP（测试版）"),E.querySelector(".mainContent").innerHTML=m(),b.showOptionsButton(),b.optionsButton.onclick=C,I=b.addButton("切换对手"),I.onclick=async function(){++S.nextIndex,S.nextIndex>=D.length&&(S.nextIndex=0),T()},M=b.addButton("开始挑战"),M.onclick=async function(){await d.V("battleUiPage",{battleOptions:F()})},T(),d.d(j,(async function(e,t){b.closeNotification=t,await b.closeNotification.waitForNotification()}))}},68:(e,t,a)=>{var r=a(3019),n=r,o=Function("return this")();n.exportSymbol("proto.jyf.PicDetail",null,o),n.exportSymbol("proto.jyf.PicDetail.FrameInfo",null,o),n.exportSymbol("proto.jyf.Pics",null,o),proto.jyf.PicDetail=function(e){r.Message.initialize(this,e,0,-1,proto.jyf.PicDetail.repeatedFields_,null)},n.inherits(proto.jyf.PicDetail,r.Message),n.DEBUG&&!COMPILED&&(proto.jyf.PicDetail.displayName="proto.jyf.PicDetail"),proto.jyf.PicDetail.FrameInfo=function(e){r.Message.initialize(this,e,0,-1,null,null)},n.inherits(proto.jyf.PicDetail.FrameInfo,r.Message),n.DEBUG&&!COMPILED&&(proto.jyf.PicDetail.FrameInfo.displayName="proto.jyf.PicDetail.FrameInfo"),proto.jyf.Pics=function(e){r.Message.initialize(this,e,0,-1,proto.jyf.Pics.repeatedFields_,null)},n.inherits(proto.jyf.Pics,r.Message),n.DEBUG&&!COMPILED&&(proto.jyf.Pics.displayName="proto.jyf.Pics"),proto.jyf.PicDetail.repeatedFields_=[2,3],r.Message.GENERATE_TO_OBJECT&&(proto.jyf.PicDetail.prototype.toObject=function(e){return proto.jyf.PicDetail.toObject(e,this)},proto.jyf.PicDetail.toObject=function(e,t){var a,n={id:r.Message.getFieldWithDefault(t,1,0),framesList:r.Message.toObjectList(t.getFramesList(),proto.jyf.PicDetail.FrameInfo.toObject,e),numSubframesList:null==(a=r.Message.getRepeatedField(t,3))?void 0:a};return e&&(n.$jspbMessageInstance=t),n}),proto.jyf.PicDetail.deserializeBinary=function(e){var t=new r.BinaryReader(e),a=new proto.jyf.PicDetail;return proto.jyf.PicDetail.deserializeBinaryFromReader(a,t)},proto.jyf.PicDetail.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var a=t.readInt32();e.setId(a);break;case 2:a=new proto.jyf.PicDetail.FrameInfo;t.readMessage(a,proto.jyf.PicDetail.FrameInfo.deserializeBinaryFromReader),e.addFrames(a);break;case 3:a=t.readPackedInt32();e.setNumSubframesList(a);break;default:t.skipField()}}return e},proto.jyf.PicDetail.prototype.serializeBinary=function(){var e=new r.BinaryWriter;return proto.jyf.PicDetail.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.jyf.PicDetail.serializeBinaryToWriter=function(e,t){var a=void 0;0!==(a=e.getId())&&t.writeInt32(1,a),(a=e.getFramesList()).length>0&&t.writeRepeatedMessage(2,a,proto.jyf.PicDetail.FrameInfo.serializeBinaryToWriter),(a=e.getNumSubframesList()).length>0&&t.writePackedInt32(3,a)},r.Message.GENERATE_TO_OBJECT&&(proto.jyf.PicDetail.FrameInfo.prototype.toObject=function(e){return proto.jyf.PicDetail.FrameInfo.toObject(e,this)},proto.jyf.PicDetail.FrameInfo.toObject=function(e,t){var a={pivotX:r.Message.getFieldWithDefault(t,1,0),pivotY:r.Message.getFieldWithDefault(t,2,0),hasAlphaChannel:r.Message.getBooleanFieldWithDefault(t,3,!1)};return e&&(a.$jspbMessageInstance=t),a}),proto.jyf.PicDetail.FrameInfo.deserializeBinary=function(e){var t=new r.BinaryReader(e),a=new proto.jyf.PicDetail.FrameInfo;return proto.jyf.PicDetail.FrameInfo.deserializeBinaryFromReader(a,t)},proto.jyf.PicDetail.FrameInfo.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var a=t.readInt32();e.setPivotX(a);break;case 2:a=t.readInt32();e.setPivotY(a);break;case 3:a=t.readBool();e.setHasAlphaChannel(a);break;default:t.skipField()}}return e},proto.jyf.PicDetail.FrameInfo.prototype.serializeBinary=function(){var e=new r.BinaryWriter;return proto.jyf.PicDetail.FrameInfo.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.jyf.PicDetail.FrameInfo.serializeBinaryToWriter=function(e,t){var a=void 0;0!==(a=e.getPivotX())&&t.writeInt32(1,a),0!==(a=e.getPivotY())&&t.writeInt32(2,a),(a=e.getHasAlphaChannel())&&t.writeBool(3,a)},proto.jyf.PicDetail.FrameInfo.prototype.getPivotX=function(){return r.Message.getFieldWithDefault(this,1,0)},proto.jyf.PicDetail.FrameInfo.prototype.setPivotX=function(e){return r.Message.setProto3IntField(this,1,e)},proto.jyf.PicDetail.FrameInfo.prototype.getPivotY=function(){return r.Message.getFieldWithDefault(this,2,0)},proto.jyf.PicDetail.FrameInfo.prototype.setPivotY=function(e){return r.Message.setProto3IntField(this,2,e)},proto.jyf.PicDetail.FrameInfo.prototype.getHasAlphaChannel=function(){return r.Message.getBooleanFieldWithDefault(this,3,!1)},proto.jyf.PicDetail.FrameInfo.prototype.setHasAlphaChannel=function(e){return r.Message.setProto3BooleanField(this,3,e)},proto.jyf.PicDetail.prototype.getId=function(){return r.Message.getFieldWithDefault(this,1,0)},proto.jyf.PicDetail.prototype.setId=function(e){return r.Message.setProto3IntField(this,1,e)},proto.jyf.PicDetail.prototype.getFramesList=function(){return r.Message.getRepeatedWrapperField(this,proto.jyf.PicDetail.FrameInfo,2)},proto.jyf.PicDetail.prototype.setFramesList=function(e){return r.Message.setRepeatedWrapperField(this,2,e)},proto.jyf.PicDetail.prototype.addFrames=function(e,t){return r.Message.addToRepeatedWrapperField(this,2,e,proto.jyf.PicDetail.FrameInfo,t)},proto.jyf.PicDetail.prototype.clearFramesList=function(){return this.setFramesList([])},proto.jyf.PicDetail.prototype.getNumSubframesList=function(){return r.Message.getRepeatedField(this,3)},proto.jyf.PicDetail.prototype.setNumSubframesList=function(e){return r.Message.setField(this,3,e||[])},proto.jyf.PicDetail.prototype.addNumSubframes=function(e,t){return r.Message.addToRepeatedField(this,3,e,t)},proto.jyf.PicDetail.prototype.clearNumSubframesList=function(){return this.setNumSubframesList([])},proto.jyf.Pics.repeatedFields_=[1,2,3],r.Message.GENERATE_TO_OBJECT&&(proto.jyf.Pics.prototype.toObject=function(e){return proto.jyf.Pics.toObject(e,this)},proto.jyf.Pics.toObject=function(e,t){var a={fightsList:r.Message.toObjectList(t.getFightsList(),proto.jyf.PicDetail.toObject,e),eftsList:r.Message.toObjectList(t.getEftsList(),proto.jyf.PicDetail.toObject,e),battleMapsList:r.Message.toObjectList(t.getBattleMapsList(),proto.jyf.PicDetail.toObject,e)};return e&&(a.$jspbMessageInstance=t),a}),proto.jyf.Pics.deserializeBinary=function(e){var t=new r.BinaryReader(e),a=new proto.jyf.Pics;return proto.jyf.Pics.deserializeBinaryFromReader(a,t)},proto.jyf.Pics.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var a=new proto.jyf.PicDetail;t.readMessage(a,proto.jyf.PicDetail.deserializeBinaryFromReader),e.addFights(a);break;case 2:a=new proto.jyf.PicDetail;t.readMessage(a,proto.jyf.PicDetail.deserializeBinaryFromReader),e.addEfts(a);break;case 3:a=new proto.jyf.PicDetail;t.readMessage(a,proto.jyf.PicDetail.deserializeBinaryFromReader),e.addBattleMaps(a);break;default:t.skipField()}}return e},proto.jyf.Pics.prototype.serializeBinary=function(){var e=new r.BinaryWriter;return proto.jyf.Pics.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.jyf.Pics.serializeBinaryToWriter=function(e,t){var a=void 0;(a=e.getFightsList()).length>0&&t.writeRepeatedMessage(1,a,proto.jyf.PicDetail.serializeBinaryToWriter),(a=e.getEftsList()).length>0&&t.writeRepeatedMessage(2,a,proto.jyf.PicDetail.serializeBinaryToWriter),(a=e.getBattleMapsList()).length>0&&t.writeRepeatedMessage(3,a,proto.jyf.PicDetail.serializeBinaryToWriter)},proto.jyf.Pics.prototype.getFightsList=function(){return r.Message.getRepeatedWrapperField(this,proto.jyf.PicDetail,1)},proto.jyf.Pics.prototype.setFightsList=function(e){return r.Message.setRepeatedWrapperField(this,1,e)},proto.jyf.Pics.prototype.addFights=function(e,t){return r.Message.addToRepeatedWrapperField(this,1,e,proto.jyf.PicDetail,t)},proto.jyf.Pics.prototype.clearFightsList=function(){return this.setFightsList([])},proto.jyf.Pics.prototype.getEftsList=function(){return r.Message.getRepeatedWrapperField(this,proto.jyf.PicDetail,2)},proto.jyf.Pics.prototype.setEftsList=function(e){return r.Message.setRepeatedWrapperField(this,2,e)},proto.jyf.Pics.prototype.addEfts=function(e,t){return r.Message.addToRepeatedWrapperField(this,2,e,proto.jyf.PicDetail,t)},proto.jyf.Pics.prototype.clearEftsList=function(){return this.setEftsList([])},proto.jyf.Pics.prototype.getBattleMapsList=function(){return r.Message.getRepeatedWrapperField(this,proto.jyf.PicDetail,3)},proto.jyf.Pics.prototype.setBattleMapsList=function(e){return r.Message.setRepeatedWrapperField(this,3,e)},proto.jyf.Pics.prototype.addBattleMaps=function(e,t){return r.Message.addToRepeatedWrapperField(this,3,e,proto.jyf.PicDetail,t)},proto.jyf.Pics.prototype.clearBattleMapsList=function(){return this.setBattleMapsList([])},n.object.extend(t,proto.jyf)},448:(e,t,a)=>{var r=a(3019),n=r,o=Function("return this")();n.exportSymbol("proto.jyf.AttributeEnhancement",null,o),n.exportSymbol("proto.jyf.BattleMap",null,o),n.exportSymbol("proto.jyf.BattleMap.Point",null,o),n.exportSymbol("proto.jyf.Character",null,o),n.exportSymbol("proto.jyf.Character.EftInfo",null,o),n.exportSymbol("proto.jyf.Character.EquipmentInfo",null,o),n.exportSymbol("proto.jyf.Character.Prestige",null,o),n.exportSymbol("proto.jyf.Data",null,o),n.exportSymbol("proto.jyf.Eft",null,o),n.exportSymbol("proto.jyf.Eft.JointAttack",null,o),n.exportSymbol("proto.jyf.Eft.Type",null,o),n.exportSymbol("proto.jyf.Eft.UnusualType",null,o),n.exportSymbol("proto.jyf.EftEnhancement",null,o),n.exportSymbol("proto.jyf.Equipment",null,o),n.exportSymbol("proto.jyf.Equipment.Type",null,o),n.exportSymbol("proto.jyf.Gender",null,o),n.exportSymbol("proto.jyf.Location",null,o),n.exportSymbol("proto.jyf.Relation",null,o),n.exportSymbol("proto.jyf.Save",null,o),n.exportSymbol("proto.jyf.Save.Log",null,o),n.exportSymbol("proto.jyf.Save.RichContent",null,o),n.exportSymbol("proto.jyf.Save.RichContent.Type",null,o),n.exportSymbol("proto.jyf.Save.StackedEquipmentInfo",null,o),n.exportSymbol("proto.jyf.Save.State",null,o),n.exportSymbol("proto.jyf.Strategy",null,o),n.exportSymbol("proto.jyf.Strategy.Eft",null,o),n.exportSymbol("proto.jyf.Strategy.Target",null,o),n.exportSymbol("proto.jyf.Team",null,o),n.exportSymbol("proto.jyf.TrimmedCharacter",null,o),proto.jyf.Strategy=function(e){r.Message.initialize(this,e,0,-1,null,null)},n.inherits(proto.jyf.Strategy,r.Message),n.DEBUG&&!COMPILED&&(proto.jyf.Strategy.displayName="proto.jyf.Strategy"),proto.jyf.EftEnhancement=function(e){r.Message.initialize(this,e,0,-1,null,null)},n.inherits(proto.jyf.EftEnhancement,r.Message),n.DEBUG&&!COMPILED&&(proto.jyf.EftEnhancement.displayName="proto.jyf.EftEnhancement"),proto.jyf.AttributeEnhancement=function(e){r.Message.initialize(this,e,0,-1,null,null)},n.inherits(proto.jyf.AttributeEnhancement,r.Message),n.DEBUG&&!COMPILED&&(proto.jyf.AttributeEnhancement.displayName="proto.jyf.AttributeEnhancement"),proto.jyf.Character=function(e){r.Message.initialize(this,e,0,-1,proto.jyf.Character.repeatedFields_,null)},n.inherits(proto.jyf.Character,r.Message),n.DEBUG&&!COMPILED&&(proto.jyf.Character.displayName="proto.jyf.Character"),proto.jyf.Character.EftInfo=function(e){r.Message.initialize(this,e,0,-1,null,null)},n.inherits(proto.jyf.Character.EftInfo,r.Message),n.DEBUG&&!COMPILED&&(proto.jyf.Character.EftInfo.displayName="proto.jyf.Character.EftInfo"),proto.jyf.Character.EquipmentInfo=function(e){r.Message.initialize(this,e,0,-1,null,null)},n.inherits(proto.jyf.Character.EquipmentInfo,r.Message),n.DEBUG&&!COMPILED&&(proto.jyf.Character.EquipmentInfo.displayName="proto.jyf.Character.EquipmentInfo"),proto.jyf.Eft=function(e){r.Message.initialize(this,e,0,-1,proto.jyf.Eft.repeatedFields_,null)},n.inherits(proto.jyf.Eft,r.Message),n.DEBUG&&!COMPILED&&(proto.jyf.Eft.displayName="proto.jyf.Eft"),proto.jyf.Eft.JointAttack=function(e){r.Message.initialize(this,e,0,-1,null,null)},n.inherits(proto.jyf.Eft.JointAttack,r.Message),n.DEBUG&&!COMPILED&&(proto.jyf.Eft.JointAttack.displayName="proto.jyf.Eft.JointAttack"),proto.jyf.Equipment=function(e){r.Message.initialize(this,e,0,-1,proto.jyf.Equipment.repeatedFields_,null)},n.inherits(proto.jyf.Equipment,r.Message),n.DEBUG&&!COMPILED&&(proto.jyf.Equipment.displayName="proto.jyf.Equipment"),proto.jyf.Location=function(e){r.Message.initialize(this,e,0,-1,null,null)},n.inherits(proto.jyf.Location,r.Message),n.DEBUG&&!COMPILED&&(proto.jyf.Location.displayName="proto.jyf.Location"),proto.jyf.BattleMap=function(e){r.Message.initialize(this,e,0,-1,proto.jyf.BattleMap.repeatedFields_,null)},n.inherits(proto.jyf.BattleMap,r.Message),n.DEBUG&&!COMPILED&&(proto.jyf.BattleMap.displayName="proto.jyf.BattleMap"),proto.jyf.BattleMap.Point=function(e){r.Message.initialize(this,e,0,-1,null,null)},n.inherits(proto.jyf.BattleMap.Point,r.Message),n.DEBUG&&!COMPILED&&(proto.jyf.BattleMap.Point.displayName="proto.jyf.BattleMap.Point"),proto.jyf.Relation=function(e){r.Message.initialize(this,e,0,-1,proto.jyf.Relation.repeatedFields_,null)},n.inherits(proto.jyf.Relation,r.Message),n.DEBUG&&!COMPILED&&(proto.jyf.Relation.displayName="proto.jyf.Relation"),proto.jyf.Data=function(e){r.Message.initialize(this,e,0,-1,proto.jyf.Data.repeatedFields_,null)},n.inherits(proto.jyf.Data,r.Message),n.DEBUG&&!COMPILED&&(proto.jyf.Data.displayName="proto.jyf.Data"),proto.jyf.Save=function(e){r.Message.initialize(this,e,0,-1,proto.jyf.Save.repeatedFields_,null)},n.inherits(proto.jyf.Save,r.Message),n.DEBUG&&!COMPILED&&(proto.jyf.Save.displayName="proto.jyf.Save"),proto.jyf.Save.StackedEquipmentInfo=function(e){r.Message.initialize(this,e,0,-1,null,null)},n.inherits(proto.jyf.Save.StackedEquipmentInfo,r.Message),n.DEBUG&&!COMPILED&&(proto.jyf.Save.StackedEquipmentInfo.displayName="proto.jyf.Save.StackedEquipmentInfo"),proto.jyf.Save.RichContent=function(e){r.Message.initialize(this,e,0,-1,null,null)},n.inherits(proto.jyf.Save.RichContent,r.Message),n.DEBUG&&!COMPILED&&(proto.jyf.Save.RichContent.displayName="proto.jyf.Save.RichContent"),proto.jyf.Save.Log=function(e){r.Message.initialize(this,e,0,-1,proto.jyf.Save.Log.repeatedFields_,null)},n.inherits(proto.jyf.Save.Log,r.Message),n.DEBUG&&!COMPILED&&(proto.jyf.Save.Log.displayName="proto.jyf.Save.Log"),proto.jyf.Save.State=function(e){r.Message.initialize(this,e,0,-1,null,null)},n.inherits(proto.jyf.Save.State,r.Message),n.DEBUG&&!COMPILED&&(proto.jyf.Save.State.displayName="proto.jyf.Save.State"),proto.jyf.TrimmedCharacter=function(e){r.Message.initialize(this,e,0,-1,proto.jyf.TrimmedCharacter.repeatedFields_,null)},n.inherits(proto.jyf.TrimmedCharacter,r.Message),n.DEBUG&&!COMPILED&&(proto.jyf.TrimmedCharacter.displayName="proto.jyf.TrimmedCharacter"),proto.jyf.Team=function(e){r.Message.initialize(this,e,0,-1,proto.jyf.Team.repeatedFields_,null)},n.inherits(proto.jyf.Team,r.Message),n.DEBUG&&!COMPILED&&(proto.jyf.Team.displayName="proto.jyf.Team"),r.Message.GENERATE_TO_OBJECT&&(proto.jyf.Strategy.prototype.toObject=function(e){return proto.jyf.Strategy.toObject(e,this)},proto.jyf.Strategy.toObject=function(e,t){var a={autoTarget:r.Message.getFieldWithDefault(t,1,0),targetCharacterId:r.Message.getFieldWithDefault(t,2,0),autoEft:r.Message.getFieldWithDefault(t,3,0),eftId:r.Message.getFieldWithDefault(t,4,0)};return e&&(a.$jspbMessageInstance=t),a}),proto.jyf.Strategy.deserializeBinary=function(e){var t=new r.BinaryReader(e),a=new proto.jyf.Strategy;return proto.jyf.Strategy.deserializeBinaryFromReader(a,t)},proto.jyf.Strategy.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var a=t.readEnum();e.setAutoTarget(a);break;case 2:a=t.readInt32();e.setTargetCharacterId(a);break;case 3:a=t.readEnum();e.setAutoEft(a);break;case 4:a=t.readInt32();e.setEftId(a);break;default:t.skipField()}}return e},proto.jyf.Strategy.prototype.serializeBinary=function(){var e=new r.BinaryWriter;return proto.jyf.Strategy.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.jyf.Strategy.serializeBinaryToWriter=function(e,t){var a=void 0;0!==(a=e.getAutoTarget())&&t.writeEnum(1,a),0!==(a=e.getTargetCharacterId())&&t.writeInt32(2,a),0!==(a=e.getAutoEft())&&t.writeEnum(3,a),0!==(a=e.getEftId())&&t.writeInt32(4,a)},proto.jyf.Strategy.Target={TARGET_UNSPECIFIED:0,TARGET_NEAREST_ENEMY:1,TARGET_ENEMY_WITH_MOST_HP:2,TARGET_ENEMY_WITH_LEAST_HP:3,TARGET_NORTH:10,TARGET_SOUTH:11,TARGET_EAST:12,TARGET_WEST:13},proto.jyf.Strategy.Eft={EFT_UNSPECIFIED:0,EFT_MOST_DAMAGE:1,EFT_NONE:2,EFT_RANDOM:3},proto.jyf.Strategy.prototype.getAutoTarget=function(){return r.Message.getFieldWithDefault(this,1,0)},proto.jyf.Strategy.prototype.setAutoTarget=function(e){return r.Message.setProto3EnumField(this,1,e)},proto.jyf.Strategy.prototype.getTargetCharacterId=function(){return r.Message.getFieldWithDefault(this,2,0)},proto.jyf.Strategy.prototype.setTargetCharacterId=function(e){return r.Message.setProto3IntField(this,2,e)},proto.jyf.Strategy.prototype.getAutoEft=function(){return r.Message.getFieldWithDefault(this,3,0)},proto.jyf.Strategy.prototype.setAutoEft=function(e){return r.Message.setProto3EnumField(this,3,e)},proto.jyf.Strategy.prototype.getEftId=function(){return r.Message.getFieldWithDefault(this,4,0)},proto.jyf.Strategy.prototype.setEftId=function(e){return r.Message.setProto3IntField(this,4,e)},r.Message.GENERATE_TO_OBJECT&&(proto.jyf.EftEnhancement.prototype.toObject=function(e){return proto.jyf.EftEnhancement.toObject(e,this)},proto.jyf.EftEnhancement.toObject=function(e,t){var a={requiredLevel:r.Message.getFieldWithDefault(t,1,0),requiredAnyDead:r.Message.getBooleanFieldWithDefault(t,19,!1),ignoreIqRequirement:r.Message.getBooleanFieldWithDefault(t,21,!1),id:r.Message.getFieldWithDefault(t,3,0),type:r.Message.getFieldWithDefault(t,4,0),addPower:r.Message.getFieldWithDefault(t,5,0),addPowerPercent:r.Message.getFieldWithDefault(t,22,0),addAttackRange:r.Message.getFieldWithDefault(t,18,0),addMp:r.Message.getFieldWithDefault(t,6,0),addMaxLevel:r.Message.getFieldWithDefault(t,7,0),addInjury:r.Message.getFieldWithDefault(t,8,0),addPoison:r.Message.getFieldWithDefault(t,9,0),addCritical:r.Message.getFieldWithDefault(t,10,0),addBorrowStrength:r.Message.getFieldWithDefault(t,11,0),addIgnoreDefense:r.Message.getFieldWithDefault(t,12,0),addIgnoreSkill:r.Message.getFieldWithDefault(t,13,0),addDamageIncrease:r.Message.getFieldWithDefault(t,14,0),addDamageIncreaseToFemale:r.Message.getFieldWithDefault(t,20,0),addAccuracy:r.Message.getFieldWithDefault(t,15,0),addSharp:r.Message.getFieldWithDefault(t,16,0),addHpAbsorb:r.Message.getFieldWithDefault(t,17,0)};return e&&(a.$jspbMessageInstance=t),a}),proto.jyf.EftEnhancement.deserializeBinary=function(e){var t=new r.BinaryReader(e),a=new proto.jyf.EftEnhancement;return proto.jyf.EftEnhancement.deserializeBinaryFromReader(a,t)},proto.jyf.EftEnhancement.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var a=t.readInt32();e.setRequiredLevel(a);break;case 19:a=t.readBool();e.setRequiredAnyDead(a);break;case 21:a=t.readBool();e.setIgnoreIqRequirement(a);break;case 3:a=t.readInt32();e.setId(a);break;case 4:a=t.readEnum();e.setType(a);break;case 5:a=t.readInt32();e.setAddPower(a);break;case 22:a=t.readInt32();e.setAddPowerPercent(a);break;case 18:a=t.readInt32();e.setAddAttackRange(a);break;case 6:a=t.readInt32();e.setAddMp(a);break;case 7:a=t.readInt32();e.setAddMaxLevel(a);break;case 8:a=t.readInt32();e.setAddInjury(a);break;case 9:a=t.readInt32();e.setAddPoison(a);break;case 10:a=t.readInt32();e.setAddCritical(a);break;case 11:a=t.readInt32();e.setAddBorrowStrength(a);break;case 12:a=t.readInt32();e.setAddIgnoreDefense(a);break;case 13:a=t.readInt32();e.setAddIgnoreSkill(a);break;case 14:a=t.readInt32();e.setAddDamageIncrease(a);break;case 20:a=t.readInt32();e.setAddDamageIncreaseToFemale(a);break;case 15:a=t.readInt32();e.setAddAccuracy(a);break;case 16:a=t.readInt32();e.setAddSharp(a);break;case 17:a=t.readInt32();e.setAddHpAbsorb(a);break;default:t.skipField()}}return e},proto.jyf.EftEnhancement.prototype.serializeBinary=function(){var e=new r.BinaryWriter;return proto.jyf.EftEnhancement.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.jyf.EftEnhancement.serializeBinaryToWriter=function(e,t){var a=void 0;0!==(a=e.getRequiredLevel())&&t.writeInt32(1,a),(a=e.getRequiredAnyDead())&&t.writeBool(19,a),(a=e.getIgnoreIqRequirement())&&t.writeBool(21,a),0!==(a=e.getId())&&t.writeInt32(3,a),0!==(a=e.getType())&&t.writeEnum(4,a),0!==(a=e.getAddPower())&&t.writeInt32(5,a),0!==(a=e.getAddPowerPercent())&&t.writeInt32(22,a),0!==(a=e.getAddAttackRange())&&t.writeInt32(18,a),0!==(a=e.getAddMp())&&t.writeInt32(6,a),0!==(a=e.getAddMaxLevel())&&t.writeInt32(7,a),0!==(a=e.getAddInjury())&&t.writeInt32(8,a),0!==(a=e.getAddPoison())&&t.writeInt32(9,a),0!==(a=e.getAddCritical())&&t.writeInt32(10,a),0!==(a=e.getAddBorrowStrength())&&t.writeInt32(11,a),0!==(a=e.getAddIgnoreDefense())&&t.writeInt32(12,a),0!==(a=e.getAddIgnoreSkill())&&t.writeInt32(13,a),0!==(a=e.getAddDamageIncrease())&&t.writeInt32(14,a),0!==(a=e.getAddDamageIncreaseToFemale())&&t.writeInt32(20,a),0!==(a=e.getAddAccuracy())&&t.writeInt32(15,a),0!==(a=e.getAddSharp())&&t.writeInt32(16,a),0!==(a=e.getAddHpAbsorb())&&t.writeInt32(17,a)},proto.jyf.EftEnhancement.prototype.getRequiredLevel=function(){return r.Message.getFieldWithDefault(this,1,0)},proto.jyf.EftEnhancement.prototype.setRequiredLevel=function(e){return r.Message.setProto3IntField(this,1,e)},proto.jyf.EftEnhancement.prototype.getRequiredAnyDead=function(){return r.Message.getBooleanFieldWithDefault(this,19,!1)},proto.jyf.EftEnhancement.prototype.setRequiredAnyDead=function(e){return r.Message.setProto3BooleanField(this,19,e)},proto.jyf.EftEnhancement.prototype.getIgnoreIqRequirement=function(){return r.Message.getBooleanFieldWithDefault(this,21,!1)},proto.jyf.EftEnhancement.prototype.setIgnoreIqRequirement=function(e){return r.Message.setProto3BooleanField(this,21,e)},proto.jyf.EftEnhancement.prototype.getId=function(){return r.Message.getFieldWithDefault(this,3,0)},proto.jyf.EftEnhancement.prototype.setId=function(e){return r.Message.setProto3IntField(this,3,e)},proto.jyf.EftEnhancement.prototype.getType=function(){return r.Message.getFieldWithDefault(this,4,0)},proto.jyf.EftEnhancement.prototype.setType=function(e){return r.Message.setProto3EnumField(this,4,e)},proto.jyf.EftEnhancement.prototype.getAddPower=function(){return r.Message.getFieldWithDefault(this,5,0)},proto.jyf.EftEnhancement.prototype.setAddPower=function(e){return r.Message.setProto3IntField(this,5,e)},proto.jyf.EftEnhancement.prototype.getAddPowerPercent=function(){return r.Message.getFieldWithDefault(this,22,0)},proto.jyf.EftEnhancement.prototype.setAddPowerPercent=function(e){return r.Message.setProto3IntField(this,22,e)},proto.jyf.EftEnhancement.prototype.getAddAttackRange=function(){return r.Message.getFieldWithDefault(this,18,0)},proto.jyf.EftEnhancement.prototype.setAddAttackRange=function(e){return r.Message.setProto3IntField(this,18,e)},proto.jyf.EftEnhancement.prototype.getAddMp=function(){return r.Message.getFieldWithDefault(this,6,0)},proto.jyf.EftEnhancement.prototype.setAddMp=function(e){return r.Message.setProto3IntField(this,6,e)},proto.jyf.EftEnhancement.prototype.getAddMaxLevel=function(){return r.Message.getFieldWithDefault(this,7,0)},proto.jyf.EftEnhancement.prototype.setAddMaxLevel=function(e){return r.Message.setProto3IntField(this,7,e)},proto.jyf.EftEnhancement.prototype.getAddInjury=function(){return r.Message.getFieldWithDefault(this,8,0)},proto.jyf.EftEnhancement.prototype.setAddInjury=function(e){return r.Message.setProto3IntField(this,8,e)},proto.jyf.EftEnhancement.prototype.getAddPoison=function(){return r.Message.getFieldWithDefault(this,9,0)},proto.jyf.EftEnhancement.prototype.setAddPoison=function(e){return r.Message.setProto3IntField(this,9,e)},proto.jyf.EftEnhancement.prototype.getAddCritical=function(){return r.Message.getFieldWithDefault(this,10,0)},proto.jyf.EftEnhancement.prototype.setAddCritical=function(e){return r.Message.setProto3IntField(this,10,e)},proto.jyf.EftEnhancement.prototype.getAddBorrowStrength=function(){return r.Message.getFieldWithDefault(this,11,0)},proto.jyf.EftEnhancement.prototype.setAddBorrowStrength=function(e){return r.Message.setProto3IntField(this,11,e)},proto.jyf.EftEnhancement.prototype.getAddIgnoreDefense=function(){return r.Message.getFieldWithDefault(this,12,0)},proto.jyf.EftEnhancement.prototype.setAddIgnoreDefense=function(e){return r.Message.setProto3IntField(this,12,e)},proto.jyf.EftEnhancement.prototype.getAddIgnoreSkill=function(){return r.Message.getFieldWithDefault(this,13,0)},proto.jyf.EftEnhancement.prototype.setAddIgnoreSkill=function(e){return r.Message.setProto3IntField(this,13,e)},proto.jyf.EftEnhancement.prototype.getAddDamageIncrease=function(){return r.Message.getFieldWithDefault(this,14,0)},proto.jyf.EftEnhancement.prototype.setAddDamageIncrease=function(e){return r.Message.setProto3IntField(this,14,e)},proto.jyf.EftEnhancement.prototype.getAddDamageIncreaseToFemale=function(){return r.Message.getFieldWithDefault(this,20,0)},proto.jyf.EftEnhancement.prototype.setAddDamageIncreaseToFemale=function(e){return r.Message.setProto3IntField(this,20,e)},proto.jyf.EftEnhancement.prototype.getAddAccuracy=function(){return r.Message.getFieldWithDefault(this,15,0)},proto.jyf.EftEnhancement.prototype.setAddAccuracy=function(e){return r.Message.setProto3IntField(this,15,e)},proto.jyf.EftEnhancement.prototype.getAddSharp=function(){return r.Message.getFieldWithDefault(this,16,0)},proto.jyf.EftEnhancement.prototype.setAddSharp=function(e){return r.Message.setProto3IntField(this,16,e)},proto.jyf.EftEnhancement.prototype.getAddHpAbsorb=function(){return r.Message.getFieldWithDefault(this,17,0)},proto.jyf.EftEnhancement.prototype.setAddHpAbsorb=function(e){return r.Message.setProto3IntField(this,17,e)},r.Message.GENERATE_TO_OBJECT&&(proto.jyf.AttributeEnhancement.prototype.toObject=function(e){return proto.jyf.AttributeEnhancement.toObject(e,this)},proto.jyf.AttributeEnhancement.toObject=function(e,t){var a={requiredLevel:r.Message.getFieldWithDefault(t,1,0),requiredEftId:r.Message.getFieldWithDefault(t,3,0),multiplyByEftType:r.Message.getFieldWithDefault(t,46,0),requiredAnyDead:r.Message.getBooleanFieldWithDefault(t,43,!1),displayName:r.Message.getFieldWithDefault(t,4,""),addHp:r.Message.getFieldWithDefault(t,5,0),addMp:r.Message.getFieldWithDefault(t,6,0),addAttack:r.Message.getFieldWithDefault(t,7,0),addDefense:r.Message.getFieldWithDefault(t,8,0),addSpeed:r.Message.getFieldWithDefault(t,9,0),addFist:r.Message.getFieldWithDefault(t,10,0),addSword:r.Message.getFieldWithDefault(t,11,0),addKnife:r.Message.getFieldWithDefault(t,12,0),addUnusual:r.Message.getFieldWithDefault(t,13,0),addInjury:r.Message.getFieldWithDefault(t,14,0),addPoison:r.Message.getFieldWithDefault(t,15,0),addCritical:r.Message.getFieldWithDefault(t,16,0),addCriticalDamageIncrease:r.Message.getFieldWithDefault(t,48,0),addDoubleHit:r.Message.getFieldWithDefault(t,17,0),addBorrowStrength:r.Message.getFieldWithDefault(t,18,0),addIgnoreDefense:r.Message.getFieldWithDefault(t,19,0),addIgnoreSkill:r.Message.getFieldWithDefault(t,20,0),addDamageIncrease:r.Message.getFieldWithDefault(t,21,0),addDamageIncreaseToFemale:r.Message.getFieldWithDefault(t,44,0),addDamageIncreaseWithLessHp:r.Message.getFieldWithDefault(t,49,0),addAccuracy:r.Message.getFieldWithDefault(t,22,0),addSharp:r.Message.getFieldWithDefault(t,40,0),addHpAbsorb:r.Message.getFieldWithDefault(t,41,0),addHpRecovery:r.Message.getFieldWithDefault(t,23,0),addEvilHpRecovery:r.Message.getFieldWithDefault(t,42,0),addMpRecovery:r.Message.getFieldWithDefault(t,24,0),addInjuryRecovery:r.Message.getFieldWithDefault(t,25,0),addPoisonRecovery:r.Message.getFieldWithDefault(t,26,0),addDamageReduce:r.Message.getFieldWithDefault(t,27,0),addDamageReduceFromMale:r.Message.getFieldWithDefault(t,45,0),addArmorDefense:r.Message.getFieldWithDefault(t,28,0),addDodge:r.Message.getFieldWithDefault(t,29,0),addCounterattack:r.Message.getFieldWithDefault(t,30,0),addShiftAttack:r.Message.getFieldWithDefault(t,31,0),addDamageRebound:r.Message.getFieldWithDefault(t,32,0),addSlapRebound:r.Message.getFieldWithDefault(t,33,0),addBreakMove:r.Message.getFieldWithDefault(t,34,0),addMpDefense:r.Message.getFieldWithDefault(t,35,0),addMpDefenseNoCd:r.Message.getFieldWithDefault(t,47,0),addStrengthAccumulation:r.Message.getFieldWithDefault(t,36,0),addMpAbsorb:r.Message.getFieldWithDefault(t,37,0),addRevival:r.Message.getFieldWithDefault(t,38,0),addStiff:r.Message.getFieldWithDefault(t,39,0)};return e&&(a.$jspbMessageInstance=t),a}),proto.jyf.AttributeEnhancement.deserializeBinary=function(e){var t=new r.BinaryReader(e),a=new proto.jyf.AttributeEnhancement;return proto.jyf.AttributeEnhancement.deserializeBinaryFromReader(a,t)},proto.jyf.AttributeEnhancement.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var a=t.readInt32();e.setRequiredLevel(a);break;case 3:a=t.readInt32();e.setRequiredEftId(a);break;case 46:a=t.readEnum();e.setMultiplyByEftType(a);break;case 43:a=t.readBool();e.setRequiredAnyDead(a);break;case 4:a=t.readString();e.setDisplayName(a);break;case 5:a=t.readInt32();e.setAddHp(a);break;case 6:a=t.readInt32();e.setAddMp(a);break;case 7:a=t.readInt32();e.setAddAttack(a);break;case 8:a=t.readInt32();e.setAddDefense(a);break;case 9:a=t.readInt32();e.setAddSpeed(a);break;case 10:a=t.readInt32();e.setAddFist(a);break;case 11:a=t.readInt32();e.setAddSword(a);break;case 12:a=t.readInt32();e.setAddKnife(a);break;case 13:a=t.readInt32();e.setAddUnusual(a);break;case 14:a=t.readInt32();e.setAddInjury(a);break;case 15:a=t.readInt32();e.setAddPoison(a);break;case 16:a=t.readInt32();e.setAddCritical(a);break;case 48:a=t.readInt32();e.setAddCriticalDamageIncrease(a);break;case 17:a=t.readInt32();e.setAddDoubleHit(a);break;case 18:a=t.readInt32();e.setAddBorrowStrength(a);break;case 19:a=t.readInt32();e.setAddIgnoreDefense(a);break;case 20:a=t.readInt32();e.setAddIgnoreSkill(a);break;case 21:a=t.readInt32();e.setAddDamageIncrease(a);break;case 44:a=t.readInt32();e.setAddDamageIncreaseToFemale(a);break;case 49:a=t.readInt32();e.setAddDamageIncreaseWithLessHp(a);break;case 22:a=t.readInt32();e.setAddAccuracy(a);break;case 40:a=t.readInt32();e.setAddSharp(a);break;case 41:a=t.readInt32();e.setAddHpAbsorb(a);break;case 23:a=t.readInt32();e.setAddHpRecovery(a);break;case 42:a=t.readInt32();e.setAddEvilHpRecovery(a);break;case 24:a=t.readInt32();e.setAddMpRecovery(a);break;case 25:a=t.readInt32();e.setAddInjuryRecovery(a);break;case 26:a=t.readInt32();e.setAddPoisonRecovery(a);break;case 27:a=t.readInt32();e.setAddDamageReduce(a);break;case 45:a=t.readInt32();e.setAddDamageReduceFromMale(a);break;case 28:a=t.readInt32();e.setAddArmorDefense(a);break;case 29:a=t.readInt32();e.setAddDodge(a);break;case 30:a=t.readInt32();e.setAddCounterattack(a);break;case 31:a=t.readInt32();e.setAddShiftAttack(a);break;case 32:a=t.readInt32();e.setAddDamageRebound(a);break;case 33:a=t.readInt32();e.setAddSlapRebound(a);break;case 34:a=t.readInt32();e.setAddBreakMove(a);break;case 35:a=t.readInt32();e.setAddMpDefense(a);break;case 47:a=t.readInt32();e.setAddMpDefenseNoCd(a);break;case 36:a=t.readInt32();e.setAddStrengthAccumulation(a);break;case 37:a=t.readInt32();e.setAddMpAbsorb(a);break;case 38:a=t.readInt32();e.setAddRevival(a);break;case 39:a=t.readInt32();e.setAddStiff(a);break;default:t.skipField()}}return e},proto.jyf.AttributeEnhancement.prototype.serializeBinary=function(){var e=new r.BinaryWriter;return proto.jyf.AttributeEnhancement.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.jyf.AttributeEnhancement.serializeBinaryToWriter=function(e,t){var a=void 0;0!==(a=e.getRequiredLevel())&&t.writeInt32(1,a),0!==(a=e.getRequiredEftId())&&t.writeInt32(3,a),0!==(a=e.getMultiplyByEftType())&&t.writeEnum(46,a),(a=e.getRequiredAnyDead())&&t.writeBool(43,a),(a=e.getDisplayName()).length>0&&t.writeString(4,a),0!==(a=e.getAddHp())&&t.writeInt32(5,a),0!==(a=e.getAddMp())&&t.writeInt32(6,a),0!==(a=e.getAddAttack())&&t.writeInt32(7,a),0!==(a=e.getAddDefense())&&t.writeInt32(8,a),0!==(a=e.getAddSpeed())&&t.writeInt32(9,a),0!==(a=e.getAddFist())&&t.writeInt32(10,a),0!==(a=e.getAddSword())&&t.writeInt32(11,a),0!==(a=e.getAddKnife())&&t.writeInt32(12,a),0!==(a=e.getAddUnusual())&&t.writeInt32(13,a),0!==(a=e.getAddInjury())&&t.writeInt32(14,a),0!==(a=e.getAddPoison())&&t.writeInt32(15,a),0!==(a=e.getAddCritical())&&t.writeInt32(16,a),0!==(a=e.getAddCriticalDamageIncrease())&&t.writeInt32(48,a),0!==(a=e.getAddDoubleHit())&&t.writeInt32(17,a),0!==(a=e.getAddBorrowStrength())&&t.writeInt32(18,a),0!==(a=e.getAddIgnoreDefense())&&t.writeInt32(19,a),0!==(a=e.getAddIgnoreSkill())&&t.writeInt32(20,a),0!==(a=e.getAddDamageIncrease())&&t.writeInt32(21,a),0!==(a=e.getAddDamageIncreaseToFemale())&&t.writeInt32(44,a),0!==(a=e.getAddDamageIncreaseWithLessHp())&&t.writeInt32(49,a),0!==(a=e.getAddAccuracy())&&t.writeInt32(22,a),0!==(a=e.getAddSharp())&&t.writeInt32(40,a),0!==(a=e.getAddHpAbsorb())&&t.writeInt32(41,a),0!==(a=e.getAddHpRecovery())&&t.writeInt32(23,a),0!==(a=e.getAddEvilHpRecovery())&&t.writeInt32(42,a),0!==(a=e.getAddMpRecovery())&&t.writeInt32(24,a),0!==(a=e.getAddInjuryRecovery())&&t.writeInt32(25,a),0!==(a=e.getAddPoisonRecovery())&&t.writeInt32(26,a),0!==(a=e.getAddDamageReduce())&&t.writeInt32(27,a),0!==(a=e.getAddDamageReduceFromMale())&&t.writeInt32(45,a),0!==(a=e.getAddArmorDefense())&&t.writeInt32(28,a),0!==(a=e.getAddDodge())&&t.writeInt32(29,a),0!==(a=e.getAddCounterattack())&&t.writeInt32(30,a),0!==(a=e.getAddShiftAttack())&&t.writeInt32(31,a),0!==(a=e.getAddDamageRebound())&&t.writeInt32(32,a),0!==(a=e.getAddSlapRebound())&&t.writeInt32(33,a),0!==(a=e.getAddBreakMove())&&t.writeInt32(34,a),0!==(a=e.getAddMpDefense())&&t.writeInt32(35,a),0!==(a=e.getAddMpDefenseNoCd())&&t.writeInt32(47,a),0!==(a=e.getAddStrengthAccumulation())&&t.writeInt32(36,a),0!==(a=e.getAddMpAbsorb())&&t.writeInt32(37,a),0!==(a=e.getAddRevival())&&t.writeInt32(38,a),0!==(a=e.getAddStiff())&&t.writeInt32(39,a)},proto.jyf.AttributeEnhancement.prototype.getRequiredLevel=function(){return r.Message.getFieldWithDefault(this,1,0)},proto.jyf.AttributeEnhancement.prototype.setRequiredLevel=function(e){return r.Message.setProto3IntField(this,1,e)},proto.jyf.AttributeEnhancement.prototype.getRequiredEftId=function(){return r.Message.getFieldWithDefault(this,3,0)},proto.jyf.AttributeEnhancement.prototype.setRequiredEftId=function(e){return r.Message.setProto3IntField(this,3,e)},proto.jyf.AttributeEnhancement.prototype.getMultiplyByEftType=function(){return r.Message.getFieldWithDefault(this,46,0)},proto.jyf.AttributeEnhancement.prototype.setMultiplyByEftType=function(e){return r.Message.setProto3EnumField(this,46,e)},proto.jyf.AttributeEnhancement.prototype.getRequiredAnyDead=function(){return r.Message.getBooleanFieldWithDefault(this,43,!1)},proto.jyf.AttributeEnhancement.prototype.setRequiredAnyDead=function(e){return r.Message.setProto3BooleanField(this,43,e)},proto.jyf.AttributeEnhancement.prototype.getDisplayName=function(){return r.Message.getFieldWithDefault(this,4,"")},proto.jyf.AttributeEnhancement.prototype.setDisplayName=function(e){return r.Message.setProto3StringField(this,4,e)},proto.jyf.AttributeEnhancement.prototype.getAddHp=function(){return r.Message.getFieldWithDefault(this,5,0)},proto.jyf.AttributeEnhancement.prototype.setAddHp=function(e){return r.Message.setProto3IntField(this,5,e)},proto.jyf.AttributeEnhancement.prototype.getAddMp=function(){return r.Message.getFieldWithDefault(this,6,0)},proto.jyf.AttributeEnhancement.prototype.setAddMp=function(e){return r.Message.setProto3IntField(this,6,e)},proto.jyf.AttributeEnhancement.prototype.getAddAttack=function(){return r.Message.getFieldWithDefault(this,7,0)},proto.jyf.AttributeEnhancement.prototype.setAddAttack=function(e){return r.Message.setProto3IntField(this,7,e)},proto.jyf.AttributeEnhancement.prototype.getAddDefense=function(){return r.Message.getFieldWithDefault(this,8,0)},proto.jyf.AttributeEnhancement.prototype.setAddDefense=function(e){return r.Message.setProto3IntField(this,8,e)},proto.jyf.AttributeEnhancement.prototype.getAddSpeed=function(){return r.Message.getFieldWithDefault(this,9,0)},proto.jyf.AttributeEnhancement.prototype.setAddSpeed=function(e){return r.Message.setProto3IntField(this,9,e)},proto.jyf.AttributeEnhancement.prototype.getAddFist=function(){return r.Message.getFieldWithDefault(this,10,0)},proto.jyf.AttributeEnhancement.prototype.setAddFist=function(e){return r.Message.setProto3IntField(this,10,e)},proto.jyf.AttributeEnhancement.prototype.getAddSword=function(){return r.Message.getFieldWithDefault(this,11,0)},proto.jyf.AttributeEnhancement.prototype.setAddSword=function(e){return r.Message.setProto3IntField(this,11,e)},proto.jyf.AttributeEnhancement.prototype.getAddKnife=function(){return r.Message.getFieldWithDefault(this,12,0)},proto.jyf.AttributeEnhancement.prototype.setAddKnife=function(e){return r.Message.setProto3IntField(this,12,e)},proto.jyf.AttributeEnhancement.prototype.getAddUnusual=function(){return r.Message.getFieldWithDefault(this,13,0)},proto.jyf.AttributeEnhancement.prototype.setAddUnusual=function(e){return r.Message.setProto3IntField(this,13,e)},proto.jyf.AttributeEnhancement.prototype.getAddInjury=function(){return r.Message.getFieldWithDefault(this,14,0)},proto.jyf.AttributeEnhancement.prototype.setAddInjury=function(e){return r.Message.setProto3IntField(this,14,e)},proto.jyf.AttributeEnhancement.prototype.getAddPoison=function(){return r.Message.getFieldWithDefault(this,15,0)},proto.jyf.AttributeEnhancement.prototype.setAddPoison=function(e){return r.Message.setProto3IntField(this,15,e)},proto.jyf.AttributeEnhancement.prototype.getAddCritical=function(){return r.Message.getFieldWithDefault(this,16,0)},proto.jyf.AttributeEnhancement.prototype.setAddCritical=function(e){return r.Message.setProto3IntField(this,16,e)},proto.jyf.AttributeEnhancement.prototype.getAddCriticalDamageIncrease=function(){return r.Message.getFieldWithDefault(this,48,0)},proto.jyf.AttributeEnhancement.prototype.setAddCriticalDamageIncrease=function(e){return r.Message.setProto3IntField(this,48,e)},proto.jyf.AttributeEnhancement.prototype.getAddDoubleHit=function(){return r.Message.getFieldWithDefault(this,17,0)},proto.jyf.AttributeEnhancement.prototype.setAddDoubleHit=function(e){return r.Message.setProto3IntField(this,17,e)},proto.jyf.AttributeEnhancement.prototype.getAddBorrowStrength=function(){return r.Message.getFieldWithDefault(this,18,0)},proto.jyf.AttributeEnhancement.prototype.setAddBorrowStrength=function(e){return r.Message.setProto3IntField(this,18,e)},proto.jyf.AttributeEnhancement.prototype.getAddIgnoreDefense=function(){return r.Message.getFieldWithDefault(this,19,0)},proto.jyf.AttributeEnhancement.prototype.setAddIgnoreDefense=function(e){return r.Message.setProto3IntField(this,19,e)},proto.jyf.AttributeEnhancement.prototype.getAddIgnoreSkill=function(){return r.Message.getFieldWithDefault(this,20,0)},proto.jyf.AttributeEnhancement.prototype.setAddIgnoreSkill=function(e){return r.Message.setProto3IntField(this,20,e)},proto.jyf.AttributeEnhancement.prototype.getAddDamageIncrease=function(){return r.Message.getFieldWithDefault(this,21,0)},proto.jyf.AttributeEnhancement.prototype.setAddDamageIncrease=function(e){return r.Message.setProto3IntField(this,21,e)},proto.jyf.AttributeEnhancement.prototype.getAddDamageIncreaseToFemale=function(){return r.Message.getFieldWithDefault(this,44,0)},proto.jyf.AttributeEnhancement.prototype.setAddDamageIncreaseToFemale=function(e){return r.Message.setProto3IntField(this,44,e)},proto.jyf.AttributeEnhancement.prototype.getAddDamageIncreaseWithLessHp=function(){return r.Message.getFieldWithDefault(this,49,0)},proto.jyf.AttributeEnhancement.prototype.setAddDamageIncreaseWithLessHp=function(e){return r.Message.setProto3IntField(this,49,e)},proto.jyf.AttributeEnhancement.prototype.getAddAccuracy=function(){return r.Message.getFieldWithDefault(this,22,0)},proto.jyf.AttributeEnhancement.prototype.setAddAccuracy=function(e){return r.Message.setProto3IntField(this,22,e)},proto.jyf.AttributeEnhancement.prototype.getAddSharp=function(){return r.Message.getFieldWithDefault(this,40,0)},proto.jyf.AttributeEnhancement.prototype.setAddSharp=function(e){return r.Message.setProto3IntField(this,40,e)},proto.jyf.AttributeEnhancement.prototype.getAddHpAbsorb=function(){return r.Message.getFieldWithDefault(this,41,0)},proto.jyf.AttributeEnhancement.prototype.setAddHpAbsorb=function(e){return r.Message.setProto3IntField(this,41,e)},proto.jyf.AttributeEnhancement.prototype.getAddHpRecovery=function(){return r.Message.getFieldWithDefault(this,23,0)},proto.jyf.AttributeEnhancement.prototype.setAddHpRecovery=function(e){return r.Message.setProto3IntField(this,23,e)},proto.jyf.AttributeEnhancement.prototype.getAddEvilHpRecovery=function(){return r.Message.getFieldWithDefault(this,42,0)},proto.jyf.AttributeEnhancement.prototype.setAddEvilHpRecovery=function(e){return r.Message.setProto3IntField(this,42,e)},proto.jyf.AttributeEnhancement.prototype.getAddMpRecovery=function(){return r.Message.getFieldWithDefault(this,24,0)},proto.jyf.AttributeEnhancement.prototype.setAddMpRecovery=function(e){return r.Message.setProto3IntField(this,24,e)},proto.jyf.AttributeEnhancement.prototype.getAddInjuryRecovery=function(){return r.Message.getFieldWithDefault(this,25,0)},proto.jyf.AttributeEnhancement.prototype.setAddInjuryRecovery=function(e){return r.Message.setProto3IntField(this,25,e)},proto.jyf.AttributeEnhancement.prototype.getAddPoisonRecovery=function(){return r.Message.getFieldWithDefault(this,26,0)},proto.jyf.AttributeEnhancement.prototype.setAddPoisonRecovery=function(e){return r.Message.setProto3IntField(this,26,e)},proto.jyf.AttributeEnhancement.prototype.getAddDamageReduce=function(){return r.Message.getFieldWithDefault(this,27,0)},proto.jyf.AttributeEnhancement.prototype.setAddDamageReduce=function(e){return r.Message.setProto3IntField(this,27,e)},proto.jyf.AttributeEnhancement.prototype.getAddDamageReduceFromMale=function(){return r.Message.getFieldWithDefault(this,45,0)},proto.jyf.AttributeEnhancement.prototype.setAddDamageReduceFromMale=function(e){return r.Message.setProto3IntField(this,45,e)},proto.jyf.AttributeEnhancement.prototype.getAddArmorDefense=function(){return r.Message.getFieldWithDefault(this,28,0)},proto.jyf.AttributeEnhancement.prototype.setAddArmorDefense=function(e){return r.Message.setProto3IntField(this,28,e)},proto.jyf.AttributeEnhancement.prototype.getAddDodge=function(){return r.Message.getFieldWithDefault(this,29,0)},proto.jyf.AttributeEnhancement.prototype.setAddDodge=function(e){return r.Message.setProto3IntField(this,29,e)},proto.jyf.AttributeEnhancement.prototype.getAddCounterattack=function(){return r.Message.getFieldWithDefault(this,30,0)},proto.jyf.AttributeEnhancement.prototype.setAddCounterattack=function(e){return r.Message.setProto3IntField(this,30,e)},proto.jyf.AttributeEnhancement.prototype.getAddShiftAttack=function(){return r.Message.getFieldWithDefault(this,31,0)},proto.jyf.AttributeEnhancement.prototype.setAddShiftAttack=function(e){return r.Message.setProto3IntField(this,31,e)},proto.jyf.AttributeEnhancement.prototype.getAddDamageRebound=function(){return r.Message.getFieldWithDefault(this,32,0)},proto.jyf.AttributeEnhancement.prototype.setAddDamageRebound=function(e){return r.Message.setProto3IntField(this,32,e)},proto.jyf.AttributeEnhancement.prototype.getAddSlapRebound=function(){return r.Message.getFieldWithDefault(this,33,0)},proto.jyf.AttributeEnhancement.prototype.setAddSlapRebound=function(e){return r.Message.setProto3IntField(this,33,e)},proto.jyf.AttributeEnhancement.prototype.getAddBreakMove=function(){return r.Message.getFieldWithDefault(this,34,0)},proto.jyf.AttributeEnhancement.prototype.setAddBreakMove=function(e){return r.Message.setProto3IntField(this,34,e)},proto.jyf.AttributeEnhancement.prototype.getAddMpDefense=function(){return r.Message.getFieldWithDefault(this,35,0)},proto.jyf.AttributeEnhancement.prototype.setAddMpDefense=function(e){return r.Message.setProto3IntField(this,35,e)},proto.jyf.AttributeEnhancement.prototype.getAddMpDefenseNoCd=function(){return r.Message.getFieldWithDefault(this,47,0)},proto.jyf.AttributeEnhancement.prototype.setAddMpDefenseNoCd=function(e){return r.Message.setProto3IntField(this,47,e)},proto.jyf.AttributeEnhancement.prototype.getAddStrengthAccumulation=function(){return r.Message.getFieldWithDefault(this,36,0)},proto.jyf.AttributeEnhancement.prototype.setAddStrengthAccumulation=function(e){return r.Message.setProto3IntField(this,36,e)},proto.jyf.AttributeEnhancement.prototype.getAddMpAbsorb=function(){return r.Message.getFieldWithDefault(this,37,0)},proto.jyf.AttributeEnhancement.prototype.setAddMpAbsorb=function(e){return r.Message.setProto3IntField(this,37,e)},proto.jyf.AttributeEnhancement.prototype.getAddRevival=function(){return r.Message.getFieldWithDefault(this,38,0)},proto.jyf.AttributeEnhancement.prototype.setAddRevival=function(e){return r.Message.setProto3IntField(this,38,e)},proto.jyf.AttributeEnhancement.prototype.getAddStiff=function(){return r.Message.getFieldWithDefault(this,39,0)},proto.jyf.AttributeEnhancement.prototype.setAddStiff=function(e){return r.Message.setProto3IntField(this,39,e)},proto.jyf.Character.repeatedFields_=[14,24,25],r.Message.GENERATE_TO_OBJECT&&(proto.jyf.Character.prototype.toObject=function(e){return proto.jyf.Character.toObject(e,this)},proto.jyf.Character.toObject=function(e,t){var a,n={id:r.Message.getFieldWithDefault(t,1,0),orderId:r.Message.getFieldWithDefault(t,62,0),name:r.Message.getFieldWithDefault(t,2,""),gender:r.Message.getFieldWithDefault(t,3,0),comment:r.Message.getFieldWithDefault(t,4,""),hp:r.Message.getFieldWithDefault(t,5,0),mp:r.Message.getFieldWithDefault(t,6,0),attack:r.Message.getFieldWithDefault(t,7,0),defense:r.Message.getFieldWithDefault(t,8,0),speed:r.Message.getFieldWithDefault(t,9,0),fightPicId:r.Message.getFieldWithDefault(t,11,0),headPicId:r.Message.getFieldWithDefault(t,13,0),eftsList:r.Message.toObjectList(t.getEftsList(),proto.jyf.Character.EftInfo.toObject,e),fist:r.Message.getFieldWithDefault(t,15,0),sword:r.Message.getFieldWithDefault(t,16,0),knife:r.Message.getFieldWithDefault(t,17,0),unusual:r.Message.getFieldWithDefault(t,18,0),iq:r.Message.getFieldWithDefault(t,19,0),benevolence:r.Message.getFieldWithDefault(t,20,0),prestige:r.Message.getFieldWithDefault(t,21,0),strategy:(a=t.getStrategy())&&proto.jyf.Strategy.toObject(e,a),exp:r.Message.getFieldWithDefault(t,23,0),attributeEnhancementsList:r.Message.toObjectList(t.getAttributeEnhancementsList(),proto.jyf.AttributeEnhancement.toObject,e),eftEnhancementsList:r.Message.toObjectList(t.getEftEnhancementsList(),proto.jyf.EftEnhancement.toObject,e),additionalEfts:r.Message.getFieldWithDefault(t,26,0),injury:r.Message.getFieldWithDefault(t,27,0),poison:r.Message.getFieldWithDefault(t,28,0),critical:r.Message.getFieldWithDefault(t,29,0),criticalDamageIncrease:r.Message.getFieldWithDefault(t,64,0),doubleHit:r.Message.getFieldWithDefault(t,30,0),borrowStrength:r.Message.getFieldWithDefault(t,31,0),ignoreDefense:r.Message.getFieldWithDefault(t,32,0),ignoreSkill:r.Message.getFieldWithDefault(t,33,0),damageIncrease:r.Message.getFieldWithDefault(t,34,0),damageIncreaseToFemale:r.Message.getFieldWithDefault(t,60,0),damageIncreaseWithLessHp:r.Message.getFieldWithDefault(t,65,0),accuracy:r.Message.getFieldWithDefault(t,35,0),sharp:r.Message.getFieldWithDefault(t,56,0),hpAbsorb:r.Message.getFieldWithDefault(t,58,0),hpRecovery:r.Message.getFieldWithDefault(t,36,0),evilHpRecovery:r.Message.getFieldWithDefault(t,59,0),mpRecovery:r.Message.getFieldWithDefault(t,37,0),injuryRecovery:r.Message.getFieldWithDefault(t,38,0),poisonRecovery:r.Message.getFieldWithDefault(t,39,0),damageReduce:r.Message.getFieldWithDefault(t,40,0),damageReduceFromMale:r.Message.getFieldWithDefault(t,61,0),armorDefense:r.Message.getFieldWithDefault(t,41,0),dodge:r.Message.getFieldWithDefault(t,42,0),counterattack:r.Message.getFieldWithDefault(t,43,0),shiftAttack:r.Message.getFieldWithDefault(t,44,0),damageRebound:r.Message.getFieldWithDefault(t,45,0),slapRebound:r.Message.getFieldWithDefault(t,46,0),breakMove:r.Message.getFieldWithDefault(t,47,0),mpDefense:r.Message.getFieldWithDefault(t,48,0),mpDefenseNoCd:r.Message.getFieldWithDefault(t,63,0),strengthAccumulation:r.Message.getFieldWithDefault(t,49,0),mpAbsorb:r.Message.getFieldWithDefault(t,50,0),revival:r.Message.getFieldWithDefault(t,51,0),stiff:r.Message.getFieldWithDefault(t,52,0),weapon:(a=t.getWeapon())&&proto.jyf.Character.EquipmentInfo.toObject(e,a),armor:(a=t.getArmor())&&proto.jyf.Character.EquipmentInfo.toObject(e,a),locationId:r.Message.getFieldWithDefault(t,57,0)};return e&&(n.$jspbMessageInstance=t),n}),proto.jyf.Character.deserializeBinary=function(e){var t=new r.BinaryReader(e),a=new proto.jyf.Character;return proto.jyf.Character.deserializeBinaryFromReader(a,t)},proto.jyf.Character.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var a=t.readInt32();e.setId(a);break;case 62:a=t.readInt32();e.setOrderId(a);break;case 2:a=t.readString();e.setName(a);break;case 3:a=t.readEnum();e.setGender(a);break;case 4:a=t.readString();e.setComment(a);break;case 5:a=t.readInt32();e.setHp(a);break;case 6:a=t.readInt32();e.setMp(a);break;case 7:a=t.readInt32();e.setAttack(a);break;case 8:a=t.readInt32();e.setDefense(a);break;case 9:a=t.readInt32();e.setSpeed(a);break;case 11:a=t.readInt32();e.setFightPicId(a);break;case 13:a=t.readInt32();e.setHeadPicId(a);break;case 14:a=new proto.jyf.Character.EftInfo;t.readMessage(a,proto.jyf.Character.EftInfo.deserializeBinaryFromReader),e.addEfts(a);break;case 15:a=t.readInt32();e.setFist(a);break;case 16:a=t.readInt32();e.setSword(a);break;case 17:a=t.readInt32();e.setKnife(a);break;case 18:a=t.readInt32();e.setUnusual(a);break;case 19:a=t.readInt32();e.setIq(a);break;case 20:a=t.readInt32();e.setBenevolence(a);break;case 21:a=t.readEnum();e.setPrestige(a);break;case 22:a=new proto.jyf.Strategy;t.readMessage(a,proto.jyf.Strategy.deserializeBinaryFromReader),e.setStrategy(a);break;case 23:a=t.readInt32();e.setExp(a);break;case 24:a=new proto.jyf.AttributeEnhancement;t.readMessage(a,proto.jyf.AttributeEnhancement.deserializeBinaryFromReader),e.addAttributeEnhancements(a);break;case 25:a=new proto.jyf.EftEnhancement;t.readMessage(a,proto.jyf.EftEnhancement.deserializeBinaryFromReader),e.addEftEnhancements(a);break;case 26:a=t.readInt32();e.setAdditionalEfts(a);break;case 27:a=t.readInt32();e.setInjury(a);break;case 28:a=t.readInt32();e.setPoison(a);break;case 29:a=t.readInt32();e.setCritical(a);break;case 64:a=t.readInt32();e.setCriticalDamageIncrease(a);break;case 30:a=t.readInt32();e.setDoubleHit(a);break;case 31:a=t.readInt32();e.setBorrowStrength(a);break;case 32:a=t.readInt32();e.setIgnoreDefense(a);break;case 33:a=t.readInt32();e.setIgnoreSkill(a);break;case 34:a=t.readInt32();e.setDamageIncrease(a);break;case 60:a=t.readInt32();e.setDamageIncreaseToFemale(a);break;case 65:a=t.readInt32();e.setDamageIncreaseWithLessHp(a);break;case 35:a=t.readInt32();e.setAccuracy(a);break;case 56:a=t.readInt32();e.setSharp(a);break;case 58:a=t.readInt32();e.setHpAbsorb(a);break;case 36:a=t.readInt32();e.setHpRecovery(a);break;case 59:a=t.readInt32();e.setEvilHpRecovery(a);break;case 37:a=t.readInt32();e.setMpRecovery(a);break;case 38:a=t.readInt32();e.setInjuryRecovery(a);break;case 39:a=t.readInt32();e.setPoisonRecovery(a);break;case 40:a=t.readInt32();e.setDamageReduce(a);break;case 61:a=t.readInt32();e.setDamageReduceFromMale(a);break;case 41:a=t.readInt32();e.setArmorDefense(a);break;case 42:a=t.readInt32();e.setDodge(a);break;case 43:a=t.readInt32();e.setCounterattack(a);break;case 44:a=t.readInt32();e.setShiftAttack(a);break;case 45:a=t.readInt32();e.setDamageRebound(a);break;case 46:a=t.readInt32();e.setSlapRebound(a);break;case 47:a=t.readInt32();e.setBreakMove(a);break;case 48:a=t.readInt32();e.setMpDefense(a);break;case 63:a=t.readInt32();e.setMpDefenseNoCd(a);break;case 49:a=t.readInt32();e.setStrengthAccumulation(a);break;case 50:a=t.readInt32();e.setMpAbsorb(a);break;case 51:a=t.readInt32();e.setRevival(a);break;case 52:a=t.readInt32();e.setStiff(a);break;case 53:a=new proto.jyf.Character.EquipmentInfo;t.readMessage(a,proto.jyf.Character.EquipmentInfo.deserializeBinaryFromReader),e.setWeapon(a);break;case 54:a=new proto.jyf.Character.EquipmentInfo;t.readMessage(a,proto.jyf.Character.EquipmentInfo.deserializeBinaryFromReader),e.setArmor(a);break;case 57:a=t.readInt32();e.setLocationId(a);break;default:t.skipField()}}return e},proto.jyf.Character.prototype.serializeBinary=function(){var e=new r.BinaryWriter;return proto.jyf.Character.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.jyf.Character.serializeBinaryToWriter=function(e,t){var a=void 0;0!==(a=e.getId())&&t.writeInt32(1,a),0!==(a=e.getOrderId())&&t.writeInt32(62,a),(a=e.getName()).length>0&&t.writeString(2,a),0!==(a=e.getGender())&&t.writeEnum(3,a),(a=e.getComment()).length>0&&t.writeString(4,a),0!==(a=e.getHp())&&t.writeInt32(5,a),0!==(a=e.getMp())&&t.writeInt32(6,a),0!==(a=e.getAttack())&&t.writeInt32(7,a),0!==(a=e.getDefense())&&t.writeInt32(8,a),0!==(a=e.getSpeed())&&t.writeInt32(9,a),0!==(a=e.getFightPicId())&&t.writeInt32(11,a),0!==(a=e.getHeadPicId())&&t.writeInt32(13,a),(a=e.getEftsList()).length>0&&t.writeRepeatedMessage(14,a,proto.jyf.Character.EftInfo.serializeBinaryToWriter),0!==(a=e.getFist())&&t.writeInt32(15,a),0!==(a=e.getSword())&&t.writeInt32(16,a),0!==(a=e.getKnife())&&t.writeInt32(17,a),0!==(a=e.getUnusual())&&t.writeInt32(18,a),0!==(a=e.getIq())&&t.writeInt32(19,a),0!==(a=e.getBenevolence())&&t.writeInt32(20,a),0!==(a=e.getPrestige())&&t.writeEnum(21,a),null!=(a=e.getStrategy())&&t.writeMessage(22,a,proto.jyf.Strategy.serializeBinaryToWriter),0!==(a=e.getExp())&&t.writeInt32(23,a),(a=e.getAttributeEnhancementsList()).length>0&&t.writeRepeatedMessage(24,a,proto.jyf.AttributeEnhancement.serializeBinaryToWriter),(a=e.getEftEnhancementsList()).length>0&&t.writeRepeatedMessage(25,a,proto.jyf.EftEnhancement.serializeBinaryToWriter),0!==(a=e.getAdditionalEfts())&&t.writeInt32(26,a),0!==(a=e.getInjury())&&t.writeInt32(27,a),0!==(a=e.getPoison())&&t.writeInt32(28,a),0!==(a=e.getCritical())&&t.writeInt32(29,a),0!==(a=e.getCriticalDamageIncrease())&&t.writeInt32(64,a),0!==(a=e.getDoubleHit())&&t.writeInt32(30,a),0!==(a=e.getBorrowStrength())&&t.writeInt32(31,a),0!==(a=e.getIgnoreDefense())&&t.writeInt32(32,a),0!==(a=e.getIgnoreSkill())&&t.writeInt32(33,a),0!==(a=e.getDamageIncrease())&&t.writeInt32(34,a),0!==(a=e.getDamageIncreaseToFemale())&&t.writeInt32(60,a),0!==(a=e.getDamageIncreaseWithLessHp())&&t.writeInt32(65,a),0!==(a=e.getAccuracy())&&t.writeInt32(35,a),0!==(a=e.getSharp())&&t.writeInt32(56,a),0!==(a=e.getHpAbsorb())&&t.writeInt32(58,a),0!==(a=e.getHpRecovery())&&t.writeInt32(36,a),0!==(a=e.getEvilHpRecovery())&&t.writeInt32(59,a),0!==(a=e.getMpRecovery())&&t.writeInt32(37,a),0!==(a=e.getInjuryRecovery())&&t.writeInt32(38,a),0!==(a=e.getPoisonRecovery())&&t.writeInt32(39,a),0!==(a=e.getDamageReduce())&&t.writeInt32(40,a),0!==(a=e.getDamageReduceFromMale())&&t.writeInt32(61,a),0!==(a=e.getArmorDefense())&&t.writeInt32(41,a),0!==(a=e.getDodge())&&t.writeInt32(42,a),0!==(a=e.getCounterattack())&&t.writeInt32(43,a),0!==(a=e.getShiftAttack())&&t.writeInt32(44,a),0!==(a=e.getDamageRebound())&&t.writeInt32(45,a),0!==(a=e.getSlapRebound())&&t.writeInt32(46,a),0!==(a=e.getBreakMove())&&t.writeInt32(47,a),0!==(a=e.getMpDefense())&&t.writeInt32(48,a),0!==(a=e.getMpDefenseNoCd())&&t.writeInt32(63,a),0!==(a=e.getStrengthAccumulation())&&t.writeInt32(49,a),0!==(a=e.getMpAbsorb())&&t.writeInt32(50,a),0!==(a=e.getRevival())&&t.writeInt32(51,a),0!==(a=e.getStiff())&&t.writeInt32(52,a),null!=(a=e.getWeapon())&&t.writeMessage(53,a,proto.jyf.Character.EquipmentInfo.serializeBinaryToWriter),null!=(a=e.getArmor())&&t.writeMessage(54,a,proto.jyf.Character.EquipmentInfo.serializeBinaryToWriter),0!==(a=e.getLocationId())&&t.writeInt32(57,a)},proto.jyf.Character.Prestige={UNKNOWN:0,FLEDGLING:1,PRESTIGIOUS:2,LEGENDARY:3},r.Message.GENERATE_TO_OBJECT&&(proto.jyf.Character.EftInfo.prototype.toObject=function(e){return proto.jyf.Character.EftInfo.toObject(e,this)},proto.jyf.Character.EftInfo.toObject=function(e,t){var a,n={id:r.Message.getFieldWithDefault(t,2,0),level:r.Message.getFieldWithDefault(t,3,0),displayName:r.Message.getFieldWithDefault(t,5,""),eftEnhancement:(a=t.getEftEnhancement())&&proto.jyf.EftEnhancement.toObject(e,a)};return e&&(n.$jspbMessageInstance=t),n}),proto.jyf.Character.EftInfo.deserializeBinary=function(e){var t=new r.BinaryReader(e),a=new proto.jyf.Character.EftInfo;return proto.jyf.Character.EftInfo.deserializeBinaryFromReader(a,t)},proto.jyf.Character.EftInfo.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 2:var a=t.readInt32();e.setId(a);break;case 3:a=t.readInt32();e.setLevel(a);break;case 5:a=t.readString();e.setDisplayName(a);break;case 4:a=new proto.jyf.EftEnhancement;t.readMessage(a,proto.jyf.EftEnhancement.deserializeBinaryFromReader),e.setEftEnhancement(a);break;default:t.skipField()}}return e},proto.jyf.Character.EftInfo.prototype.serializeBinary=function(){var e=new r.BinaryWriter;return proto.jyf.Character.EftInfo.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.jyf.Character.EftInfo.serializeBinaryToWriter=function(e,t){var a=void 0;0!==(a=e.getId())&&t.writeInt32(2,a),0!==(a=e.getLevel())&&t.writeInt32(3,a),(a=e.getDisplayName()).length>0&&t.writeString(5,a),null!=(a=e.getEftEnhancement())&&t.writeMessage(4,a,proto.jyf.EftEnhancement.serializeBinaryToWriter)},proto.jyf.Character.EftInfo.prototype.getId=function(){return r.Message.getFieldWithDefault(this,2,0)},proto.jyf.Character.EftInfo.prototype.setId=function(e){return r.Message.setProto3IntField(this,2,e)},proto.jyf.Character.EftInfo.prototype.getLevel=function(){return r.Message.getFieldWithDefault(this,3,0)},proto.jyf.Character.EftInfo.prototype.setLevel=function(e){return r.Message.setProto3IntField(this,3,e)},proto.jyf.Character.EftInfo.prototype.getDisplayName=function(){return r.Message.getFieldWithDefault(this,5,"")},proto.jyf.Character.EftInfo.prototype.setDisplayName=function(e){return r.Message.setProto3StringField(this,5,e)},proto.jyf.Character.EftInfo.prototype.getEftEnhancement=function(){return r.Message.getWrapperField(this,proto.jyf.EftEnhancement,4)},proto.jyf.Character.EftInfo.prototype.setEftEnhancement=function(e){return r.Message.setWrapperField(this,4,e)},proto.jyf.Character.EftInfo.prototype.clearEftEnhancement=function(){return this.setEftEnhancement(void 0)},proto.jyf.Character.EftInfo.prototype.hasEftEnhancement=function(){return null!=r.Message.getField(this,4)},r.Message.GENERATE_TO_OBJECT&&(proto.jyf.Character.EquipmentInfo.prototype.toObject=function(e){return proto.jyf.Character.EquipmentInfo.toObject(e,this)},proto.jyf.Character.EquipmentInfo.toObject=function(e,t){var a={id:r.Message.getFieldWithDefault(t,2,0),quality:r.Message.getFieldWithDefault(t,3,0)};return e&&(a.$jspbMessageInstance=t),a}),proto.jyf.Character.EquipmentInfo.deserializeBinary=function(e){var t=new r.BinaryReader(e),a=new proto.jyf.Character.EquipmentInfo;return proto.jyf.Character.EquipmentInfo.deserializeBinaryFromReader(a,t)},proto.jyf.Character.EquipmentInfo.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 2:var a=t.readInt32();e.setId(a);break;case 3:a=t.readInt32();e.setQuality(a);break;default:t.skipField()}}return e},proto.jyf.Character.EquipmentInfo.prototype.serializeBinary=function(){var e=new r.BinaryWriter;return proto.jyf.Character.EquipmentInfo.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.jyf.Character.EquipmentInfo.serializeBinaryToWriter=function(e,t){var a=void 0;0!==(a=e.getId())&&t.writeInt32(2,a),0!==(a=e.getQuality())&&t.writeInt32(3,a)},proto.jyf.Character.EquipmentInfo.prototype.getId=function(){return r.Message.getFieldWithDefault(this,2,0)},proto.jyf.Character.EquipmentInfo.prototype.setId=function(e){return r.Message.setProto3IntField(this,2,e)},proto.jyf.Character.EquipmentInfo.prototype.getQuality=function(){return r.Message.getFieldWithDefault(this,3,0)},proto.jyf.Character.EquipmentInfo.prototype.setQuality=function(e){return r.Message.setProto3IntField(this,3,e)},proto.jyf.Character.prototype.getId=function(){return r.Message.getFieldWithDefault(this,1,0)},proto.jyf.Character.prototype.setId=function(e){return r.Message.setProto3IntField(this,1,e)},proto.jyf.Character.prototype.getOrderId=function(){return r.Message.getFieldWithDefault(this,62,0)},proto.jyf.Character.prototype.setOrderId=function(e){return r.Message.setProto3IntField(this,62,e)},proto.jyf.Character.prototype.getName=function(){return r.Message.getFieldWithDefault(this,2,"")},proto.jyf.Character.prototype.setName=function(e){return r.Message.setProto3StringField(this,2,e)},proto.jyf.Character.prototype.getGender=function(){return r.Message.getFieldWithDefault(this,3,0)},proto.jyf.Character.prototype.setGender=function(e){return r.Message.setProto3EnumField(this,3,e)},proto.jyf.Character.prototype.getComment=function(){return r.Message.getFieldWithDefault(this,4,"")},proto.jyf.Character.prototype.setComment=function(e){return r.Message.setProto3StringField(this,4,e)},proto.jyf.Character.prototype.getHp=function(){return r.Message.getFieldWithDefault(this,5,0)},proto.jyf.Character.prototype.setHp=function(e){return r.Message.setProto3IntField(this,5,e)},proto.jyf.Character.prototype.getMp=function(){return r.Message.getFieldWithDefault(this,6,0)},proto.jyf.Character.prototype.setMp=function(e){return r.Message.setProto3IntField(this,6,e)},proto.jyf.Character.prototype.getAttack=function(){return r.Message.getFieldWithDefault(this,7,0)},proto.jyf.Character.prototype.setAttack=function(e){return r.Message.setProto3IntField(this,7,e)},proto.jyf.Character.prototype.getDefense=function(){return r.Message.getFieldWithDefault(this,8,0)},proto.jyf.Character.prototype.setDefense=function(e){return r.Message.setProto3IntField(this,8,e)},proto.jyf.Character.prototype.getSpeed=function(){return r.Message.getFieldWithDefault(this,9,0)},proto.jyf.Character.prototype.setSpeed=function(e){return r.Message.setProto3IntField(this,9,e)},proto.jyf.Character.prototype.getFightPicId=function(){return r.Message.getFieldWithDefault(this,11,0)},proto.jyf.Character.prototype.setFightPicId=function(e){return r.Message.setProto3IntField(this,11,e)},proto.jyf.Character.prototype.getHeadPicId=function(){return r.Message.getFieldWithDefault(this,13,0)},proto.jyf.Character.prototype.setHeadPicId=function(e){return r.Message.setProto3IntField(this,13,e)},proto.jyf.Character.prototype.getEftsList=function(){return r.Message.getRepeatedWrapperField(this,proto.jyf.Character.EftInfo,14)},proto.jyf.Character.prototype.setEftsList=function(e){return r.Message.setRepeatedWrapperField(this,14,e)},proto.jyf.Character.prototype.addEfts=function(e,t){return r.Message.addToRepeatedWrapperField(this,14,e,proto.jyf.Character.EftInfo,t)},proto.jyf.Character.prototype.clearEftsList=function(){return this.setEftsList([])},proto.jyf.Character.prototype.getFist=function(){return r.Message.getFieldWithDefault(this,15,0)},proto.jyf.Character.prototype.setFist=function(e){return r.Message.setProto3IntField(this,15,e)},proto.jyf.Character.prototype.getSword=function(){return r.Message.getFieldWithDefault(this,16,0)},proto.jyf.Character.prototype.setSword=function(e){return r.Message.setProto3IntField(this,16,e)},proto.jyf.Character.prototype.getKnife=function(){return r.Message.getFieldWithDefault(this,17,0)},proto.jyf.Character.prototype.setKnife=function(e){return r.Message.setProto3IntField(this,17,e)},proto.jyf.Character.prototype.getUnusual=function(){return r.Message.getFieldWithDefault(this,18,0)},proto.jyf.Character.prototype.setUnusual=function(e){return r.Message.setProto3IntField(this,18,e)},proto.jyf.Character.prototype.getIq=function(){return r.Message.getFieldWithDefault(this,19,0)},proto.jyf.Character.prototype.setIq=function(e){return r.Message.setProto3IntField(this,19,e)},proto.jyf.Character.prototype.getBenevolence=function(){return r.Message.getFieldWithDefault(this,20,0)},proto.jyf.Character.prototype.setBenevolence=function(e){return r.Message.setProto3IntField(this,20,e)},proto.jyf.Character.prototype.getPrestige=function(){return r.Message.getFieldWithDefault(this,21,0)},proto.jyf.Character.prototype.setPrestige=function(e){return r.Message.setProto3EnumField(this,21,e)},proto.jyf.Character.prototype.getStrategy=function(){return r.Message.getWrapperField(this,proto.jyf.Strategy,22)},proto.jyf.Character.prototype.setStrategy=function(e){return r.Message.setWrapperField(this,22,e)},proto.jyf.Character.prototype.clearStrategy=function(){return this.setStrategy(void 0)},proto.jyf.Character.prototype.hasStrategy=function(){return null!=r.Message.getField(this,22)},proto.jyf.Character.prototype.getExp=function(){return r.Message.getFieldWithDefault(this,23,0)},proto.jyf.Character.prototype.setExp=function(e){return r.Message.setProto3IntField(this,23,e)},proto.jyf.Character.prototype.getAttributeEnhancementsList=function(){return r.Message.getRepeatedWrapperField(this,proto.jyf.AttributeEnhancement,24)},proto.jyf.Character.prototype.setAttributeEnhancementsList=function(e){return r.Message.setRepeatedWrapperField(this,24,e)},proto.jyf.Character.prototype.addAttributeEnhancements=function(e,t){return r.Message.addToRepeatedWrapperField(this,24,e,proto.jyf.AttributeEnhancement,t)},proto.jyf.Character.prototype.clearAttributeEnhancementsList=function(){return this.setAttributeEnhancementsList([])},proto.jyf.Character.prototype.getEftEnhancementsList=function(){return r.Message.getRepeatedWrapperField(this,proto.jyf.EftEnhancement,25)},proto.jyf.Character.prototype.setEftEnhancementsList=function(e){return r.Message.setRepeatedWrapperField(this,25,e)},proto.jyf.Character.prototype.addEftEnhancements=function(e,t){return r.Message.addToRepeatedWrapperField(this,25,e,proto.jyf.EftEnhancement,t)},proto.jyf.Character.prototype.clearEftEnhancementsList=function(){return this.setEftEnhancementsList([])},proto.jyf.Character.prototype.getAdditionalEfts=function(){return r.Message.getFieldWithDefault(this,26,0)},proto.jyf.Character.prototype.setAdditionalEfts=function(e){return r.Message.setProto3IntField(this,26,e)},proto.jyf.Character.prototype.getInjury=function(){return r.Message.getFieldWithDefault(this,27,0)},proto.jyf.Character.prototype.setInjury=function(e){return r.Message.setProto3IntField(this,27,e)},proto.jyf.Character.prototype.getPoison=function(){return r.Message.getFieldWithDefault(this,28,0)},proto.jyf.Character.prototype.setPoison=function(e){return r.Message.setProto3IntField(this,28,e)},proto.jyf.Character.prototype.getCritical=function(){return r.Message.getFieldWithDefault(this,29,0)},proto.jyf.Character.prototype.setCritical=function(e){return r.Message.setProto3IntField(this,29,e)},proto.jyf.Character.prototype.getCriticalDamageIncrease=function(){return r.Message.getFieldWithDefault(this,64,0)},proto.jyf.Character.prototype.setCriticalDamageIncrease=function(e){return r.Message.setProto3IntField(this,64,e)},proto.jyf.Character.prototype.getDoubleHit=function(){return r.Message.getFieldWithDefault(this,30,0)},proto.jyf.Character.prototype.setDoubleHit=function(e){return r.Message.setProto3IntField(this,30,e)},proto.jyf.Character.prototype.getBorrowStrength=function(){return r.Message.getFieldWithDefault(this,31,0)},proto.jyf.Character.prototype.setBorrowStrength=function(e){return r.Message.setProto3IntField(this,31,e)},proto.jyf.Character.prototype.getIgnoreDefense=function(){return r.Message.getFieldWithDefault(this,32,0)},proto.jyf.Character.prototype.setIgnoreDefense=function(e){return r.Message.setProto3IntField(this,32,e)},proto.jyf.Character.prototype.getIgnoreSkill=function(){return r.Message.getFieldWithDefault(this,33,0)},proto.jyf.Character.prototype.setIgnoreSkill=function(e){return r.Message.setProto3IntField(this,33,e)},proto.jyf.Character.prototype.getDamageIncrease=function(){return r.Message.getFieldWithDefault(this,34,0)},proto.jyf.Character.prototype.setDamageIncrease=function(e){return r.Message.setProto3IntField(this,34,e)},proto.jyf.Character.prototype.getDamageIncreaseToFemale=function(){return r.Message.getFieldWithDefault(this,60,0)},proto.jyf.Character.prototype.setDamageIncreaseToFemale=function(e){return r.Message.setProto3IntField(this,60,e)},proto.jyf.Character.prototype.getDamageIncreaseWithLessHp=function(){return r.Message.getFieldWithDefault(this,65,0)},proto.jyf.Character.prototype.setDamageIncreaseWithLessHp=function(e){return r.Message.setProto3IntField(this,65,e)},proto.jyf.Character.prototype.getAccuracy=function(){return r.Message.getFieldWithDefault(this,35,0)},proto.jyf.Character.prototype.setAccuracy=function(e){return r.Message.setProto3IntField(this,35,e)},proto.jyf.Character.prototype.getSharp=function(){return r.Message.getFieldWithDefault(this,56,0)},proto.jyf.Character.prototype.setSharp=function(e){return r.Message.setProto3IntField(this,56,e)},proto.jyf.Character.prototype.getHpAbsorb=function(){return r.Message.getFieldWithDefault(this,58,0)},proto.jyf.Character.prototype.setHpAbsorb=function(e){return r.Message.setProto3IntField(this,58,e)},proto.jyf.Character.prototype.getHpRecovery=function(){return r.Message.getFieldWithDefault(this,36,0)},proto.jyf.Character.prototype.setHpRecovery=function(e){return r.Message.setProto3IntField(this,36,e)},proto.jyf.Character.prototype.getEvilHpRecovery=function(){return r.Message.getFieldWithDefault(this,59,0)},proto.jyf.Character.prototype.setEvilHpRecovery=function(e){return r.Message.setProto3IntField(this,59,e)},proto.jyf.Character.prototype.getMpRecovery=function(){return r.Message.getFieldWithDefault(this,37,0)},proto.jyf.Character.prototype.setMpRecovery=function(e){return r.Message.setProto3IntField(this,37,e)},proto.jyf.Character.prototype.getInjuryRecovery=function(){return r.Message.getFieldWithDefault(this,38,0)},proto.jyf.Character.prototype.setInjuryRecovery=function(e){return r.Message.setProto3IntField(this,38,e)},proto.jyf.Character.prototype.getPoisonRecovery=function(){return r.Message.getFieldWithDefault(this,39,0)},proto.jyf.Character.prototype.setPoisonRecovery=function(e){return r.Message.setProto3IntField(this,39,e)},proto.jyf.Character.prototype.getDamageReduce=function(){return r.Message.getFieldWithDefault(this,40,0)},proto.jyf.Character.prototype.setDamageReduce=function(e){return r.Message.setProto3IntField(this,40,e)},proto.jyf.Character.prototype.getDamageReduceFromMale=function(){return r.Message.getFieldWithDefault(this,61,0)},proto.jyf.Character.prototype.setDamageReduceFromMale=function(e){return r.Message.setProto3IntField(this,61,e)},proto.jyf.Character.prototype.getArmorDefense=function(){return r.Message.getFieldWithDefault(this,41,0)},proto.jyf.Character.prototype.setArmorDefense=function(e){return r.Message.setProto3IntField(this,41,e)},proto.jyf.Character.prototype.getDodge=function(){return r.Message.getFieldWithDefault(this,42,0)},proto.jyf.Character.prototype.setDodge=function(e){return r.Message.setProto3IntField(this,42,e)},proto.jyf.Character.prototype.getCounterattack=function(){return r.Message.getFieldWithDefault(this,43,0)},proto.jyf.Character.prototype.setCounterattack=function(e){return r.Message.setProto3IntField(this,43,e)},proto.jyf.Character.prototype.getShiftAttack=function(){return r.Message.getFieldWithDefault(this,44,0)},proto.jyf.Character.prototype.setShiftAttack=function(e){return r.Message.setProto3IntField(this,44,e)},proto.jyf.Character.prototype.getDamageRebound=function(){return r.Message.getFieldWithDefault(this,45,0)},proto.jyf.Character.prototype.setDamageRebound=function(e){return r.Message.setProto3IntField(this,45,e)},proto.jyf.Character.prototype.getSlapRebound=function(){return r.Message.getFieldWithDefault(this,46,0)},proto.jyf.Character.prototype.setSlapRebound=function(e){return r.Message.setProto3IntField(this,46,e)},proto.jyf.Character.prototype.getBreakMove=function(){return r.Message.getFieldWithDefault(this,47,0)},proto.jyf.Character.prototype.setBreakMove=function(e){return r.Message.setProto3IntField(this,47,e)},proto.jyf.Character.prototype.getMpDefense=function(){return r.Message.getFieldWithDefault(this,48,0)},proto.jyf.Character.prototype.setMpDefense=function(e){return r.Message.setProto3IntField(this,48,e)},proto.jyf.Character.prototype.getMpDefenseNoCd=function(){return r.Message.getFieldWithDefault(this,63,0)},proto.jyf.Character.prototype.setMpDefenseNoCd=function(e){return r.Message.setProto3IntField(this,63,e)},proto.jyf.Character.prototype.getStrengthAccumulation=function(){return r.Message.getFieldWithDefault(this,49,0)},proto.jyf.Character.prototype.setStrengthAccumulation=function(e){return r.Message.setProto3IntField(this,49,e)},proto.jyf.Character.prototype.getMpAbsorb=function(){return r.Message.getFieldWithDefault(this,50,0)},proto.jyf.Character.prototype.setMpAbsorb=function(e){return r.Message.setProto3IntField(this,50,e)},proto.jyf.Character.prototype.getRevival=function(){return r.Message.getFieldWithDefault(this,51,0)},proto.jyf.Character.prototype.setRevival=function(e){return r.Message.setProto3IntField(this,51,e)},proto.jyf.Character.prototype.getStiff=function(){return r.Message.getFieldWithDefault(this,52,0)},proto.jyf.Character.prototype.setStiff=function(e){return r.Message.setProto3IntField(this,52,e)},proto.jyf.Character.prototype.getWeapon=function(){return r.Message.getWrapperField(this,proto.jyf.Character.EquipmentInfo,53)},proto.jyf.Character.prototype.setWeapon=function(e){return r.Message.setWrapperField(this,53,e)},proto.jyf.Character.prototype.clearWeapon=function(){return this.setWeapon(void 0)},proto.jyf.Character.prototype.hasWeapon=function(){return null!=r.Message.getField(this,53)},proto.jyf.Character.prototype.getArmor=function(){return r.Message.getWrapperField(this,proto.jyf.Character.EquipmentInfo,54)},proto.jyf.Character.prototype.setArmor=function(e){return r.Message.setWrapperField(this,54,e)},proto.jyf.Character.prototype.clearArmor=function(){return this.setArmor(void 0)},proto.jyf.Character.prototype.hasArmor=function(){return null!=r.Message.getField(this,54)},proto.jyf.Character.prototype.getLocationId=function(){return r.Message.getFieldWithDefault(this,57,0)},proto.jyf.Character.prototype.setLocationId=function(e){return r.Message.setProto3IntField(this,57,e)},proto.jyf.Eft.repeatedFields_=[15,16],r.Message.GENERATE_TO_OBJECT&&(proto.jyf.Eft.prototype.toObject=function(e){return proto.jyf.Eft.toObject(e,this)},proto.jyf.Eft.toObject=function(e,t){var a,n={id:r.Message.getFieldWithDefault(t,1,0),name:r.Message.getFieldWithDefault(t,2,""),comment:r.Message.getFieldWithDefault(t,3,""),type:r.Message.getFieldWithDefault(t,4,0),unusualType:r.Message.getFieldWithDefault(t,5,0),power:r.Message.getFieldWithDefault(t,6,0),cost:r.Message.getFieldWithDefault(t,7,0),attackDistance:r.Message.getFieldWithDefault(t,8,0),attackRange:r.Message.getFieldWithDefault(t,9,0),picId:r.Message.getFieldWithDefault(t,11,0),soundId:r.Message.getFieldWithDefault(t,13,0),attributeEnhancementsList:r.Message.toObjectList(t.getAttributeEnhancementsList(),proto.jyf.AttributeEnhancement.toObject,e),eftEnhancementsList:r.Message.toObjectList(t.getEftEnhancementsList(),proto.jyf.EftEnhancement.toObject,e),jointAttack:(a=t.getJointAttack())&&proto.jyf.Eft.JointAttack.toObject(e,a),requiredHp:r.Message.getFieldWithDefault(t,18,0),requiredMp:r.Message.getFieldWithDefault(t,19,0),requiredAttack:r.Message.getFieldWithDefault(t,20,0),requiredDefense:r.Message.getFieldWithDefault(t,21,0),requiredSpeed:r.Message.getFieldWithDefault(t,22,0),requiredFist:r.Message.getFieldWithDefault(t,23,0),requiredSword:r.Message.getFieldWithDefault(t,24,0),requiredKnife:r.Message.getFieldWithDefault(t,25,0),requiredUnusual:r.Message.getFieldWithDefault(t,26,0),requiredIq:r.Message.getFieldWithDefault(t,27,0),requiredMaximumIq:r.Message.getFieldWithDefault(t,28,0),requiredGender:r.Message.getFieldWithDefault(t,29,0)};return e&&(n.$jspbMessageInstance=t),n}),proto.jyf.Eft.deserializeBinary=function(e){var t=new r.BinaryReader(e),a=new proto.jyf.Eft;return proto.jyf.Eft.deserializeBinaryFromReader(a,t)},proto.jyf.Eft.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var a=t.readInt32();e.setId(a);break;case 2:a=t.readString();e.setName(a);break;case 3:a=t.readString();e.setComment(a);break;case 4:a=t.readEnum();e.setType(a);break;case 5:a=t.readEnum();e.setUnusualType(a);break;case 6:a=t.readInt32();e.setPower(a);break;case 7:a=t.readInt32();e.setCost(a);break;case 8:a=t.readInt32();e.setAttackDistance(a);break;case 9:a=t.readInt32();e.setAttackRange(a);break;case 11:a=t.readInt32();e.setPicId(a);break;case 13:a=t.readInt32();e.setSoundId(a);break;case 15:a=new proto.jyf.AttributeEnhancement;t.readMessage(a,proto.jyf.AttributeEnhancement.deserializeBinaryFromReader),e.addAttributeEnhancements(a);break;case 16:a=new proto.jyf.EftEnhancement;t.readMessage(a,proto.jyf.EftEnhancement.deserializeBinaryFromReader),e.addEftEnhancements(a);break;case 17:a=new proto.jyf.Eft.JointAttack;t.readMessage(a,proto.jyf.Eft.JointAttack.deserializeBinaryFromReader),e.setJointAttack(a);break;case 18:a=t.readInt32();e.setRequiredHp(a);break;case 19:a=t.readInt32();e.setRequiredMp(a);break;case 20:a=t.readInt32();e.setRequiredAttack(a);break;case 21:a=t.readInt32();e.setRequiredDefense(a);break;case 22:a=t.readInt32();e.setRequiredSpeed(a);break;case 23:a=t.readInt32();e.setRequiredFist(a);break;case 24:a=t.readInt32();e.setRequiredSword(a);break;case 25:a=t.readInt32();e.setRequiredKnife(a);break;case 26:a=t.readInt32();e.setRequiredUnusual(a);break;case 27:a=t.readInt32();e.setRequiredIq(a);break;case 28:a=t.readInt32();e.setRequiredMaximumIq(a);break;case 29:a=t.readEnum();e.setRequiredGender(a);break;default:t.skipField()}}return e},proto.jyf.Eft.prototype.serializeBinary=function(){var e=new r.BinaryWriter;return proto.jyf.Eft.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.jyf.Eft.serializeBinaryToWriter=function(e,t){var a=void 0;0!==(a=e.getId())&&t.writeInt32(1,a),(a=e.getName()).length>0&&t.writeString(2,a),(a=e.getComment()).length>0&&t.writeString(3,a),0!==(a=e.getType())&&t.writeEnum(4,a),0!==(a=e.getUnusualType())&&t.writeEnum(5,a),0!==(a=e.getPower())&&t.writeInt32(6,a),0!==(a=e.getCost())&&t.writeInt32(7,a),0!==(a=e.getAttackDistance())&&t.writeInt32(8,a),0!==(a=e.getAttackRange())&&t.writeInt32(9,a),0!==(a=e.getPicId())&&t.writeInt32(11,a),0!==(a=e.getSoundId())&&t.writeInt32(13,a),(a=e.getAttributeEnhancementsList()).length>0&&t.writeRepeatedMessage(15,a,proto.jyf.AttributeEnhancement.serializeBinaryToWriter),(a=e.getEftEnhancementsList()).length>0&&t.writeRepeatedMessage(16,a,proto.jyf.EftEnhancement.serializeBinaryToWriter),null!=(a=e.getJointAttack())&&t.writeMessage(17,a,proto.jyf.Eft.JointAttack.serializeBinaryToWriter),0!==(a=e.getRequiredHp())&&t.writeInt32(18,a),0!==(a=e.getRequiredMp())&&t.writeInt32(19,a),0!==(a=e.getRequiredAttack())&&t.writeInt32(20,a),0!==(a=e.getRequiredDefense())&&t.writeInt32(21,a),0!==(a=e.getRequiredSpeed())&&t.writeInt32(22,a),0!==(a=e.getRequiredFist())&&t.writeInt32(23,a),0!==(a=e.getRequiredSword())&&t.writeInt32(24,a),0!==(a=e.getRequiredKnife())&&t.writeInt32(25,a),0!==(a=e.getRequiredUnusual())&&t.writeInt32(26,a),0!==(a=e.getRequiredIq())&&t.writeInt32(27,a),0!==(a=e.getRequiredMaximumIq())&&t.writeInt32(28,a),0!==(a=e.getRequiredGender())&&t.writeEnum(29,a)},proto.jyf.Eft.Type={UNKNOWN:0,FIST:1,SWORD:2,KNIFE:3,UNUSUAL:4,INTERNAL:5,LIGHT:6},proto.jyf.Eft.UnusualType={UNUSUAL_UNKNOWN:0,UNUSUAL_LONG:1,UNUSUAL_SHORT:2,UNUSUAL_SOFT:3,UNUSUAL_ARROW:4,UNUSUAL_INTERNAL:5},r.Message.GENERATE_TO_OBJECT&&(proto.jyf.Eft.JointAttack.prototype.toObject=function(e){return proto.jyf.Eft.JointAttack.toObject(e,this)},proto.jyf.Eft.JointAttack.toObject=function(e,t){var a={name:r.Message.getFieldWithDefault(t,1,""),eftId:r.Message.getFieldWithDefault(t,3,0),addAttack:r.Message.getFieldWithDefault(t,4,0),addIgnoreSkill:r.Message.getFieldWithDefault(t,5,0),addAccuracy:r.Message.getFieldWithDefault(t,6,0),addCritical:r.Message.getFieldWithDefault(t,7,0)};return e&&(a.$jspbMessageInstance=t),a}),proto.jyf.Eft.JointAttack.deserializeBinary=function(e){var t=new r.BinaryReader(e),a=new proto.jyf.Eft.JointAttack;return proto.jyf.Eft.JointAttack.deserializeBinaryFromReader(a,t)},proto.jyf.Eft.JointAttack.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var a=t.readString();e.setName(a);break;case 3:a=t.readInt32();e.setEftId(a);break;case 4:a=t.readInt32();e.setAddAttack(a);break;case 5:a=t.readInt32();e.setAddIgnoreSkill(a);break;case 6:a=t.readInt32();e.setAddAccuracy(a);break;case 7:a=t.readInt32();e.setAddCritical(a);break;default:t.skipField()}}return e},proto.jyf.Eft.JointAttack.prototype.serializeBinary=function(){var e=new r.BinaryWriter;return proto.jyf.Eft.JointAttack.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.jyf.Eft.JointAttack.serializeBinaryToWriter=function(e,t){var a=void 0;(a=e.getName()).length>0&&t.writeString(1,a),0!==(a=e.getEftId())&&t.writeInt32(3,a),0!==(a=e.getAddAttack())&&t.writeInt32(4,a),0!==(a=e.getAddIgnoreSkill())&&t.writeInt32(5,a),0!==(a=e.getAddAccuracy())&&t.writeInt32(6,a),0!==(a=e.getAddCritical())&&t.writeInt32(7,a)},proto.jyf.Eft.JointAttack.prototype.getName=function(){return r.Message.getFieldWithDefault(this,1,"")},proto.jyf.Eft.JointAttack.prototype.setName=function(e){return r.Message.setProto3StringField(this,1,e)},proto.jyf.Eft.JointAttack.prototype.getEftId=function(){return r.Message.getFieldWithDefault(this,3,0)},proto.jyf.Eft.JointAttack.prototype.setEftId=function(e){return r.Message.setProto3IntField(this,3,e)},proto.jyf.Eft.JointAttack.prototype.getAddAttack=function(){return r.Message.getFieldWithDefault(this,4,0)},proto.jyf.Eft.JointAttack.prototype.setAddAttack=function(e){return r.Message.setProto3IntField(this,4,e)},proto.jyf.Eft.JointAttack.prototype.getAddIgnoreSkill=function(){return r.Message.getFieldWithDefault(this,5,0)},proto.jyf.Eft.JointAttack.prototype.setAddIgnoreSkill=function(e){return r.Message.setProto3IntField(this,5,e)},proto.jyf.Eft.JointAttack.prototype.getAddAccuracy=function(){return r.Message.getFieldWithDefault(this,6,0)},proto.jyf.Eft.JointAttack.prototype.setAddAccuracy=function(e){return r.Message.setProto3IntField(this,6,e)},proto.jyf.Eft.JointAttack.prototype.getAddCritical=function(){return r.Message.getFieldWithDefault(this,7,0)},proto.jyf.Eft.JointAttack.prototype.setAddCritical=function(e){return r.Message.setProto3IntField(this,7,e)},proto.jyf.Eft.prototype.getId=function(){return r.Message.getFieldWithDefault(this,1,0)},proto.jyf.Eft.prototype.setId=function(e){return r.Message.setProto3IntField(this,1,e)},proto.jyf.Eft.prototype.getName=function(){return r.Message.getFieldWithDefault(this,2,"")},proto.jyf.Eft.prototype.setName=function(e){return r.Message.setProto3StringField(this,2,e)},proto.jyf.Eft.prototype.getComment=function(){return r.Message.getFieldWithDefault(this,3,"")},proto.jyf.Eft.prototype.setComment=function(e){return r.Message.setProto3StringField(this,3,e)},proto.jyf.Eft.prototype.getType=function(){return r.Message.getFieldWithDefault(this,4,0)},proto.jyf.Eft.prototype.setType=function(e){return r.Message.setProto3EnumField(this,4,e)},proto.jyf.Eft.prototype.getUnusualType=function(){return r.Message.getFieldWithDefault(this,5,0)},proto.jyf.Eft.prototype.setUnusualType=function(e){return r.Message.setProto3EnumField(this,5,e)},proto.jyf.Eft.prototype.getPower=function(){return r.Message.getFieldWithDefault(this,6,0)},proto.jyf.Eft.prototype.setPower=function(e){return r.Message.setProto3IntField(this,6,e)},proto.jyf.Eft.prototype.getCost=function(){return r.Message.getFieldWithDefault(this,7,0)},proto.jyf.Eft.prototype.setCost=function(e){return r.Message.setProto3IntField(this,7,e)},proto.jyf.Eft.prototype.getAttackDistance=function(){return r.Message.getFieldWithDefault(this,8,0)},proto.jyf.Eft.prototype.setAttackDistance=function(e){return r.Message.setProto3IntField(this,8,e)},proto.jyf.Eft.prototype.getAttackRange=function(){return r.Message.getFieldWithDefault(this,9,0)},proto.jyf.Eft.prototype.setAttackRange=function(e){return r.Message.setProto3IntField(this,9,e)},proto.jyf.Eft.prototype.getPicId=function(){return r.Message.getFieldWithDefault(this,11,0)},proto.jyf.Eft.prototype.setPicId=function(e){return r.Message.setProto3IntField(this,11,e)},proto.jyf.Eft.prototype.getSoundId=function(){return r.Message.getFieldWithDefault(this,13,0)},proto.jyf.Eft.prototype.setSoundId=function(e){return r.Message.setProto3IntField(this,13,e)},proto.jyf.Eft.prototype.getAttributeEnhancementsList=function(){return r.Message.getRepeatedWrapperField(this,proto.jyf.AttributeEnhancement,15)},proto.jyf.Eft.prototype.setAttributeEnhancementsList=function(e){return r.Message.setRepeatedWrapperField(this,15,e)},proto.jyf.Eft.prototype.addAttributeEnhancements=function(e,t){return r.Message.addToRepeatedWrapperField(this,15,e,proto.jyf.AttributeEnhancement,t)},proto.jyf.Eft.prototype.clearAttributeEnhancementsList=function(){return this.setAttributeEnhancementsList([])},proto.jyf.Eft.prototype.getEftEnhancementsList=function(){return r.Message.getRepeatedWrapperField(this,proto.jyf.EftEnhancement,16)},proto.jyf.Eft.prototype.setEftEnhancementsList=function(e){return r.Message.setRepeatedWrapperField(this,16,e)},proto.jyf.Eft.prototype.addEftEnhancements=function(e,t){return r.Message.addToRepeatedWrapperField(this,16,e,proto.jyf.EftEnhancement,t)},proto.jyf.Eft.prototype.clearEftEnhancementsList=function(){return this.setEftEnhancementsList([])},proto.jyf.Eft.prototype.getJointAttack=function(){return r.Message.getWrapperField(this,proto.jyf.Eft.JointAttack,17)},proto.jyf.Eft.prototype.setJointAttack=function(e){return r.Message.setWrapperField(this,17,e)},proto.jyf.Eft.prototype.clearJointAttack=function(){return this.setJointAttack(void 0)},proto.jyf.Eft.prototype.hasJointAttack=function(){return null!=r.Message.getField(this,17)},proto.jyf.Eft.prototype.getRequiredHp=function(){return r.Message.getFieldWithDefault(this,18,0)},proto.jyf.Eft.prototype.setRequiredHp=function(e){return r.Message.setProto3IntField(this,18,e)},proto.jyf.Eft.prototype.getRequiredMp=function(){return r.Message.getFieldWithDefault(this,19,0)},proto.jyf.Eft.prototype.setRequiredMp=function(e){return r.Message.setProto3IntField(this,19,e)},proto.jyf.Eft.prototype.getRequiredAttack=function(){return r.Message.getFieldWithDefault(this,20,0)},proto.jyf.Eft.prototype.setRequiredAttack=function(e){return r.Message.setProto3IntField(this,20,e)},proto.jyf.Eft.prototype.getRequiredDefense=function(){return r.Message.getFieldWithDefault(this,21,0)},proto.jyf.Eft.prototype.setRequiredDefense=function(e){return r.Message.setProto3IntField(this,21,e)},proto.jyf.Eft.prototype.getRequiredSpeed=function(){return r.Message.getFieldWithDefault(this,22,0)},proto.jyf.Eft.prototype.setRequiredSpeed=function(e){return r.Message.setProto3IntField(this,22,e)},proto.jyf.Eft.prototype.getRequiredFist=function(){return r.Message.getFieldWithDefault(this,23,0)},proto.jyf.Eft.prototype.setRequiredFist=function(e){return r.Message.setProto3IntField(this,23,e)},proto.jyf.Eft.prototype.getRequiredSword=function(){return r.Message.getFieldWithDefault(this,24,0)},proto.jyf.Eft.prototype.setRequiredSword=function(e){return r.Message.setProto3IntField(this,24,e)},proto.jyf.Eft.prototype.getRequiredKnife=function(){return r.Message.getFieldWithDefault(this,25,0)},proto.jyf.Eft.prototype.setRequiredKnife=function(e){return r.Message.setProto3IntField(this,25,e)},proto.jyf.Eft.prototype.getRequiredUnusual=function(){return r.Message.getFieldWithDefault(this,26,0)},proto.jyf.Eft.prototype.setRequiredUnusual=function(e){return r.Message.setProto3IntField(this,26,e)},proto.jyf.Eft.prototype.getRequiredIq=function(){return r.Message.getFieldWithDefault(this,27,0)},proto.jyf.Eft.prototype.setRequiredIq=function(e){return r.Message.setProto3IntField(this,27,e)},proto.jyf.Eft.prototype.getRequiredMaximumIq=function(){return r.Message.getFieldWithDefault(this,28,0)},proto.jyf.Eft.prototype.setRequiredMaximumIq=function(e){return r.Message.setProto3IntField(this,28,e)},proto.jyf.Eft.prototype.getRequiredGender=function(){return r.Message.getFieldWithDefault(this,29,0)},proto.jyf.Eft.prototype.setRequiredGender=function(e){return r.Message.setProto3EnumField(this,29,e)},proto.jyf.Equipment.repeatedFields_=[6,7],r.Message.GENERATE_TO_OBJECT&&(proto.jyf.Equipment.prototype.toObject=function(e){return proto.jyf.Equipment.toObject(e,this)},proto.jyf.Equipment.toObject=function(e,t){var a={id:r.Message.getFieldWithDefault(t,1,0),name:r.Message.getFieldWithDefault(t,2,""),orderId:r.Message.getFieldWithDefault(t,3,0),comment:r.Message.getFieldWithDefault(t,4,""),type:r.Message.getFieldWithDefault(t,5,0),eftType:r.Message.getFieldWithDefault(t,11,0),attributeEnhancementsList:r.Message.toObjectList(t.getAttributeEnhancementsList(),proto.jyf.AttributeEnhancement.toObject,e),eftEnhancementsList:r.Message.toObjectList(t.getEftEnhancementsList(),proto.jyf.EftEnhancement.toObject,e),rarity:r.Message.getFieldWithDefault(t,8,0),locationId:r.Message.getFieldWithDefault(t,10,0)};return e&&(a.$jspbMessageInstance=t),a}),proto.jyf.Equipment.deserializeBinary=function(e){var t=new r.BinaryReader(e),a=new proto.jyf.Equipment;return proto.jyf.Equipment.deserializeBinaryFromReader(a,t)},proto.jyf.Equipment.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var a=t.readInt32();e.setId(a);break;case 2:a=t.readString();e.setName(a);break;case 3:a=t.readInt32();e.setOrderId(a);break;case 4:a=t.readString();e.setComment(a);break;case 5:a=t.readEnum();e.setType(a);break;case 11:a=t.readEnum();e.setEftType(a);break;case 6:a=new proto.jyf.AttributeEnhancement;t.readMessage(a,proto.jyf.AttributeEnhancement.deserializeBinaryFromReader),e.addAttributeEnhancements(a);break;case 7:a=new proto.jyf.EftEnhancement;t.readMessage(a,proto.jyf.EftEnhancement.deserializeBinaryFromReader),e.addEftEnhancements(a);break;case 8:a=t.readInt32();e.setRarity(a);break;case 10:a=t.readInt32();e.setLocationId(a);break;default:t.skipField()}}return e},proto.jyf.Equipment.prototype.serializeBinary=function(){var e=new r.BinaryWriter;return proto.jyf.Equipment.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.jyf.Equipment.serializeBinaryToWriter=function(e,t){var a=void 0;0!==(a=e.getId())&&t.writeInt32(1,a),(a=e.getName()).length>0&&t.writeString(2,a),0!==(a=e.getOrderId())&&t.writeInt32(3,a),(a=e.getComment()).length>0&&t.writeString(4,a),0!==(a=e.getType())&&t.writeEnum(5,a),0!==(a=e.getEftType())&&t.writeEnum(11,a),(a=e.getAttributeEnhancementsList()).length>0&&t.writeRepeatedMessage(6,a,proto.jyf.AttributeEnhancement.serializeBinaryToWriter),(a=e.getEftEnhancementsList()).length>0&&t.writeRepeatedMessage(7,a,proto.jyf.EftEnhancement.serializeBinaryToWriter),0!==(a=e.getRarity())&&t.writeInt32(8,a),0!==(a=e.getLocationId())&&t.writeInt32(10,a)},proto.jyf.Equipment.Type={UNKNOWN:0,WEAPON:1,ARMOR:2},proto.jyf.Equipment.prototype.getId=function(){return r.Message.getFieldWithDefault(this,1,0)},proto.jyf.Equipment.prototype.setId=function(e){return r.Message.setProto3IntField(this,1,e)},proto.jyf.Equipment.prototype.getName=function(){return r.Message.getFieldWithDefault(this,2,"")},proto.jyf.Equipment.prototype.setName=function(e){return r.Message.setProto3StringField(this,2,e)},proto.jyf.Equipment.prototype.getOrderId=function(){return r.Message.getFieldWithDefault(this,3,0)},proto.jyf.Equipment.prototype.setOrderId=function(e){return r.Message.setProto3IntField(this,3,e)},proto.jyf.Equipment.prototype.getComment=function(){return r.Message.getFieldWithDefault(this,4,"")},proto.jyf.Equipment.prototype.setComment=function(e){return r.Message.setProto3StringField(this,4,e)},proto.jyf.Equipment.prototype.getType=function(){return r.Message.getFieldWithDefault(this,5,0)},proto.jyf.Equipment.prototype.setType=function(e){return r.Message.setProto3EnumField(this,5,e)},proto.jyf.Equipment.prototype.getEftType=function(){return r.Message.getFieldWithDefault(this,11,0)},proto.jyf.Equipment.prototype.setEftType=function(e){return r.Message.setProto3EnumField(this,11,e)},proto.jyf.Equipment.prototype.getAttributeEnhancementsList=function(){return r.Message.getRepeatedWrapperField(this,proto.jyf.AttributeEnhancement,6)},proto.jyf.Equipment.prototype.setAttributeEnhancementsList=function(e){return r.Message.setRepeatedWrapperField(this,6,e)},proto.jyf.Equipment.prototype.addAttributeEnhancements=function(e,t){return r.Message.addToRepeatedWrapperField(this,6,e,proto.jyf.AttributeEnhancement,t)},proto.jyf.Equipment.prototype.clearAttributeEnhancementsList=function(){return this.setAttributeEnhancementsList([])},proto.jyf.Equipment.prototype.getEftEnhancementsList=function(){return r.Message.getRepeatedWrapperField(this,proto.jyf.EftEnhancement,7)},proto.jyf.Equipment.prototype.setEftEnhancementsList=function(e){return r.Message.setRepeatedWrapperField(this,7,e)},proto.jyf.Equipment.prototype.addEftEnhancements=function(e,t){return r.Message.addToRepeatedWrapperField(this,7,e,proto.jyf.EftEnhancement,t)},proto.jyf.Equipment.prototype.clearEftEnhancementsList=function(){return this.setEftEnhancementsList([])},proto.jyf.Equipment.prototype.getRarity=function(){return r.Message.getFieldWithDefault(this,8,0)},proto.jyf.Equipment.prototype.setRarity=function(e){return r.Message.setProto3IntField(this,8,e)},proto.jyf.Equipment.prototype.getLocationId=function(){return r.Message.getFieldWithDefault(this,10,0)},proto.jyf.Equipment.prototype.setLocationId=function(e){return r.Message.setProto3IntField(this,10,e)},r.Message.GENERATE_TO_OBJECT&&(proto.jyf.Location.prototype.toObject=function(e){return proto.jyf.Location.toObject(e,this)},proto.jyf.Location.toObject=function(e,t){var a={id:r.Message.getFieldWithDefault(t,1,0),name:r.Message.getFieldWithDefault(t,2,"")};return e&&(a.$jspbMessageInstance=t),a}),proto.jyf.Location.deserializeBinary=function(e){var t=new r.BinaryReader(e),a=new proto.jyf.Location;return proto.jyf.Location.deserializeBinaryFromReader(a,t)},proto.jyf.Location.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var a=t.readInt32();e.setId(a);break;case 2:a=t.readString();e.setName(a);break;default:t.skipField()}}return e},proto.jyf.Location.prototype.serializeBinary=function(){var e=new r.BinaryWriter;return proto.jyf.Location.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.jyf.Location.serializeBinaryToWriter=function(e,t){var a=void 0;0!==(a=e.getId())&&t.writeInt32(1,a),(a=e.getName()).length>0&&t.writeString(2,a)},proto.jyf.Location.prototype.getId=function(){return r.Message.getFieldWithDefault(this,1,0)},proto.jyf.Location.prototype.setId=function(e){return r.Message.setProto3IntField(this,1,e)},proto.jyf.Location.prototype.getName=function(){return r.Message.getFieldWithDefault(this,2,"")},proto.jyf.Location.prototype.setName=function(e){return r.Message.setProto3StringField(this,2,e)},proto.jyf.BattleMap.repeatedFields_=[8,9,10],r.Message.GENERATE_TO_OBJECT&&(proto.jyf.BattleMap.prototype.toObject=function(e){return proto.jyf.BattleMap.toObject(e,this)},proto.jyf.BattleMap.toObject=function(e,t){var a,n={id:r.Message.getFieldWithDefault(t,1,0),name:r.Message.getFieldWithDefault(t,2,""),comment:r.Message.getFieldWithDefault(t,3,""),musicId:r.Message.getFieldWithDefault(t,5,0),width:r.Message.getFieldWithDefault(t,6,0),height:r.Message.getFieldWithDefault(t,7,0),earthPicIdsList:null==(a=r.Message.getRepeatedField(t,8))?void 0:a,buildingPicIdsList:null==(a=r.Message.getRepeatedField(t,9))?void 0:a,polygonList:r.Message.toObjectList(t.getPolygonList(),proto.jyf.BattleMap.Point.toObject,e)};return e&&(n.$jspbMessageInstance=t),n}),proto.jyf.BattleMap.deserializeBinary=function(e){var t=new r.BinaryReader(e),a=new proto.jyf.BattleMap;return proto.jyf.BattleMap.deserializeBinaryFromReader(a,t)},proto.jyf.BattleMap.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var a=t.readInt32();e.setId(a);break;case 2:a=t.readString();e.setName(a);break;case 3:a=t.readString();e.setComment(a);break;case 5:a=t.readInt32();e.setMusicId(a);break;case 6:a=t.readInt32();e.setWidth(a);break;case 7:a=t.readInt32();e.setHeight(a);break;case 8:a=t.readPackedInt32();e.setEarthPicIdsList(a);break;case 9:a=t.readPackedInt32();e.setBuildingPicIdsList(a);break;case 10:a=new proto.jyf.BattleMap.Point;t.readMessage(a,proto.jyf.BattleMap.Point.deserializeBinaryFromReader),e.addPolygon(a);break;default:t.skipField()}}return e},proto.jyf.BattleMap.prototype.serializeBinary=function(){var e=new r.BinaryWriter;return proto.jyf.BattleMap.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.jyf.BattleMap.serializeBinaryToWriter=function(e,t){var a=void 0;0!==(a=e.getId())&&t.writeInt32(1,a),(a=e.getName()).length>0&&t.writeString(2,a),(a=e.getComment()).length>0&&t.writeString(3,a),0!==(a=e.getMusicId())&&t.writeInt32(5,a),0!==(a=e.getWidth())&&t.writeInt32(6,a),0!==(a=e.getHeight())&&t.writeInt32(7,a),(a=e.getEarthPicIdsList()).length>0&&t.writePackedInt32(8,a),(a=e.getBuildingPicIdsList()).length>0&&t.writePackedInt32(9,a),(a=e.getPolygonList()).length>0&&t.writeRepeatedMessage(10,a,proto.jyf.BattleMap.Point.serializeBinaryToWriter)},r.Message.GENERATE_TO_OBJECT&&(proto.jyf.BattleMap.Point.prototype.toObject=function(e){return proto.jyf.BattleMap.Point.toObject(e,this)},proto.jyf.BattleMap.Point.toObject=function(e,t){var a={x:r.Message.getFieldWithDefault(t,1,0),y:r.Message.getFieldWithDefault(t,2,0)};return e&&(a.$jspbMessageInstance=t),a}),proto.jyf.BattleMap.Point.deserializeBinary=function(e){var t=new r.BinaryReader(e),a=new proto.jyf.BattleMap.Point;return proto.jyf.BattleMap.Point.deserializeBinaryFromReader(a,t)},proto.jyf.BattleMap.Point.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var a=t.readInt32();e.setX(a);break;case 2:a=t.readInt32();e.setY(a);break;default:t.skipField()}}return e},proto.jyf.BattleMap.Point.prototype.serializeBinary=function(){var e=new r.BinaryWriter;return proto.jyf.BattleMap.Point.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.jyf.BattleMap.Point.serializeBinaryToWriter=function(e,t){var a=void 0;0!==(a=e.getX())&&t.writeInt32(1,a),0!==(a=e.getY())&&t.writeInt32(2,a)},proto.jyf.BattleMap.Point.prototype.getX=function(){return r.Message.getFieldWithDefault(this,1,0)},proto.jyf.BattleMap.Point.prototype.setX=function(e){return r.Message.setProto3IntField(this,1,e)},proto.jyf.BattleMap.Point.prototype.getY=function(){return r.Message.getFieldWithDefault(this,2,0)},proto.jyf.BattleMap.Point.prototype.setY=function(e){return r.Message.setProto3IntField(this,2,e)},proto.jyf.BattleMap.prototype.getId=function(){return r.Message.getFieldWithDefault(this,1,0)},proto.jyf.BattleMap.prototype.setId=function(e){return r.Message.setProto3IntField(this,1,e)},proto.jyf.BattleMap.prototype.getName=function(){return r.Message.getFieldWithDefault(this,2,"")},proto.jyf.BattleMap.prototype.setName=function(e){return r.Message.setProto3StringField(this,2,e)},proto.jyf.BattleMap.prototype.getComment=function(){return r.Message.getFieldWithDefault(this,3,"")},proto.jyf.BattleMap.prototype.setComment=function(e){return r.Message.setProto3StringField(this,3,e)},proto.jyf.BattleMap.prototype.getMusicId=function(){return r.Message.getFieldWithDefault(this,5,0)},proto.jyf.BattleMap.prototype.setMusicId=function(e){return r.Message.setProto3IntField(this,5,e)},proto.jyf.BattleMap.prototype.getWidth=function(){return r.Message.getFieldWithDefault(this,6,0)},proto.jyf.BattleMap.prototype.setWidth=function(e){return r.Message.setProto3IntField(this,6,e)},proto.jyf.BattleMap.prototype.getHeight=function(){return r.Message.getFieldWithDefault(this,7,0)},proto.jyf.BattleMap.prototype.setHeight=function(e){return r.Message.setProto3IntField(this,7,e)},proto.jyf.BattleMap.prototype.getEarthPicIdsList=function(){return r.Message.getRepeatedField(this,8)},proto.jyf.BattleMap.prototype.setEarthPicIdsList=function(e){return r.Message.setField(this,8,e||[])},proto.jyf.BattleMap.prototype.addEarthPicIds=function(e,t){return r.Message.addToRepeatedField(this,8,e,t)},proto.jyf.BattleMap.prototype.clearEarthPicIdsList=function(){return this.setEarthPicIdsList([])},proto.jyf.BattleMap.prototype.getBuildingPicIdsList=function(){return r.Message.getRepeatedField(this,9)},proto.jyf.BattleMap.prototype.setBuildingPicIdsList=function(e){return r.Message.setField(this,9,e||[])},proto.jyf.BattleMap.prototype.addBuildingPicIds=function(e,t){return r.Message.addToRepeatedField(this,9,e,t)},proto.jyf.BattleMap.prototype.clearBuildingPicIdsList=function(){return this.setBuildingPicIdsList([])},proto.jyf.BattleMap.prototype.getPolygonList=function(){return r.Message.getRepeatedWrapperField(this,proto.jyf.BattleMap.Point,10)},proto.jyf.BattleMap.prototype.setPolygonList=function(e){return r.Message.setRepeatedWrapperField(this,10,e)},proto.jyf.BattleMap.prototype.addPolygon=function(e,t){return r.Message.addToRepeatedWrapperField(this,10,e,proto.jyf.BattleMap.Point,t)},proto.jyf.BattleMap.prototype.clearPolygonList=function(){return this.setPolygonList([])},proto.jyf.Relation.repeatedFields_=[3,4,8,9],r.Message.GENERATE_TO_OBJECT&&(proto.jyf.Relation.prototype.toObject=function(e){return proto.jyf.Relation.toObject(e,this)},proto.jyf.Relation.toObject=function(e,t){var a,n={fromCharacterIdsList:null==(a=r.Message.getRepeatedField(t,3))?void 0:a,toCharacterIdsList:null==(a=r.Message.getRepeatedField(t,4))?void 0:a,favorability:r.Message.getFieldWithDefault(t,5,0),text:r.Message.getFieldWithDefault(t,6,""),displayName:r.Message.getFieldWithDefault(t,7,""),attributeEnhancementsList:r.Message.toObjectList(t.getAttributeEnhancementsList(),proto.jyf.AttributeEnhancement.toObject,e),eftEnhancementsList:r.Message.toObjectList(t.getEftEnhancementsList(),proto.jyf.EftEnhancement.toObject,e)};return e&&(n.$jspbMessageInstance=t),n}),proto.jyf.Relation.deserializeBinary=function(e){var t=new r.BinaryReader(e),a=new proto.jyf.Relation;return proto.jyf.Relation.deserializeBinaryFromReader(a,t)},proto.jyf.Relation.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 3:var a=t.readPackedInt32();e.setFromCharacterIdsList(a);break;case 4:a=t.readPackedInt32();e.setToCharacterIdsList(a);break;case 5:a=t.readInt32();e.setFavorability(a);break;case 6:a=t.readString();e.setText(a);break;case 7:a=t.readString();e.setDisplayName(a);break;case 8:a=new proto.jyf.AttributeEnhancement;t.readMessage(a,proto.jyf.AttributeEnhancement.deserializeBinaryFromReader),e.addAttributeEnhancements(a);break;case 9:a=new proto.jyf.EftEnhancement;t.readMessage(a,proto.jyf.EftEnhancement.deserializeBinaryFromReader),e.addEftEnhancements(a);break;default:t.skipField()}}return e},proto.jyf.Relation.prototype.serializeBinary=function(){var e=new r.BinaryWriter;return proto.jyf.Relation.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.jyf.Relation.serializeBinaryToWriter=function(e,t){var a=void 0;(a=e.getFromCharacterIdsList()).length>0&&t.writePackedInt32(3,a),(a=e.getToCharacterIdsList()).length>0&&t.writePackedInt32(4,a),0!==(a=e.getFavorability())&&t.writeInt32(5,a),(a=e.getText()).length>0&&t.writeString(6,a),(a=e.getDisplayName()).length>0&&t.writeString(7,a),(a=e.getAttributeEnhancementsList()).length>0&&t.writeRepeatedMessage(8,a,proto.jyf.AttributeEnhancement.serializeBinaryToWriter),(a=e.getEftEnhancementsList()).length>0&&t.writeRepeatedMessage(9,a,proto.jyf.EftEnhancement.serializeBinaryToWriter)},proto.jyf.Relation.prototype.getFromCharacterIdsList=function(){return r.Message.getRepeatedField(this,3)},proto.jyf.Relation.prototype.setFromCharacterIdsList=function(e){return r.Message.setField(this,3,e||[])},proto.jyf.Relation.prototype.addFromCharacterIds=function(e,t){return r.Message.addToRepeatedField(this,3,e,t)},proto.jyf.Relation.prototype.clearFromCharacterIdsList=function(){return this.setFromCharacterIdsList([])},proto.jyf.Relation.prototype.getToCharacterIdsList=function(){return r.Message.getRepeatedField(this,4)},proto.jyf.Relation.prototype.setToCharacterIdsList=function(e){return r.Message.setField(this,4,e||[])},proto.jyf.Relation.prototype.addToCharacterIds=function(e,t){return r.Message.addToRepeatedField(this,4,e,t)},proto.jyf.Relation.prototype.clearToCharacterIdsList=function(){return this.setToCharacterIdsList([])},proto.jyf.Relation.prototype.getFavorability=function(){return r.Message.getFieldWithDefault(this,5,0)},proto.jyf.Relation.prototype.setFavorability=function(e){return r.Message.setProto3IntField(this,5,e)},proto.jyf.Relation.prototype.getText=function(){return r.Message.getFieldWithDefault(this,6,"")},proto.jyf.Relation.prototype.setText=function(e){return r.Message.setProto3StringField(this,6,e)},proto.jyf.Relation.prototype.getDisplayName=function(){return r.Message.getFieldWithDefault(this,7,"")},proto.jyf.Relation.prototype.setDisplayName=function(e){return r.Message.setProto3StringField(this,7,e)},proto.jyf.Relation.prototype.getAttributeEnhancementsList=function(){return r.Message.getRepeatedWrapperField(this,proto.jyf.AttributeEnhancement,8)},proto.jyf.Relation.prototype.setAttributeEnhancementsList=function(e){return r.Message.setRepeatedWrapperField(this,8,e)},proto.jyf.Relation.prototype.addAttributeEnhancements=function(e,t){return r.Message.addToRepeatedWrapperField(this,8,e,proto.jyf.AttributeEnhancement,t)},proto.jyf.Relation.prototype.clearAttributeEnhancementsList=function(){return this.setAttributeEnhancementsList([])},proto.jyf.Relation.prototype.getEftEnhancementsList=function(){return r.Message.getRepeatedWrapperField(this,proto.jyf.EftEnhancement,9)},proto.jyf.Relation.prototype.setEftEnhancementsList=function(e){return r.Message.setRepeatedWrapperField(this,9,e)},proto.jyf.Relation.prototype.addEftEnhancements=function(e,t){return r.Message.addToRepeatedWrapperField(this,9,e,proto.jyf.EftEnhancement,t)},proto.jyf.Relation.prototype.clearEftEnhancementsList=function(){return this.setEftEnhancementsList([])},proto.jyf.Data.repeatedFields_=[1,2,3,4,5,6,7],r.Message.GENERATE_TO_OBJECT&&(proto.jyf.Data.prototype.toObject=function(e){return proto.jyf.Data.toObject(e,this)},proto.jyf.Data.toObject=function(e,t){var a={charactersList:r.Message.toObjectList(t.getCharactersList(),proto.jyf.Character.toObject,e),eftsList:r.Message.toObjectList(t.getEftsList(),proto.jyf.Eft.toObject,e),battleMapsList:r.Message.toObjectList(t.getBattleMapsList(),proto.jyf.BattleMap.toObject,e),relationsList:r.Message.toObjectList(t.getRelationsList(),proto.jyf.Relation.toObject,e),equipmentsList:r.Message.toObjectList(t.getEquipmentsList(),proto.jyf.Equipment.toObject,e),locationsList:r.Message.toObjectList(t.getLocationsList(),proto.jyf.Location.toObject,e),eventCharactersList:r.Message.toObjectList(t.getEventCharactersList(),proto.jyf.Character.toObject,e)};return e&&(a.$jspbMessageInstance=t),a}),proto.jyf.Data.deserializeBinary=function(e){var t=new r.BinaryReader(e),a=new proto.jyf.Data;return proto.jyf.Data.deserializeBinaryFromReader(a,t)},proto.jyf.Data.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var a=new proto.jyf.Character;t.readMessage(a,proto.jyf.Character.deserializeBinaryFromReader),e.addCharacters(a);break;case 2:a=new proto.jyf.Eft;t.readMessage(a,proto.jyf.Eft.deserializeBinaryFromReader),e.addEfts(a);break;case 3:a=new proto.jyf.BattleMap;t.readMessage(a,proto.jyf.BattleMap.deserializeBinaryFromReader),e.addBattleMaps(a);break;case 4:a=new proto.jyf.Relation;t.readMessage(a,proto.jyf.Relation.deserializeBinaryFromReader),e.addRelations(a);break;case 5:a=new proto.jyf.Equipment;t.readMessage(a,proto.jyf.Equipment.deserializeBinaryFromReader),e.addEquipments(a);break;case 6:a=new proto.jyf.Location;t.readMessage(a,proto.jyf.Location.deserializeBinaryFromReader),e.addLocations(a);break;case 7:a=new proto.jyf.Character;t.readMessage(a,proto.jyf.Character.deserializeBinaryFromReader),e.addEventCharacters(a);break;default:t.skipField()}}return e},proto.jyf.Data.prototype.serializeBinary=function(){var e=new r.BinaryWriter;return proto.jyf.Data.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.jyf.Data.serializeBinaryToWriter=function(e,t){var a=void 0;(a=e.getCharactersList()).length>0&&t.writeRepeatedMessage(1,a,proto.jyf.Character.serializeBinaryToWriter),(a=e.getEftsList()).length>0&&t.writeRepeatedMessage(2,a,proto.jyf.Eft.serializeBinaryToWriter),(a=e.getBattleMapsList()).length>0&&t.writeRepeatedMessage(3,a,proto.jyf.BattleMap.serializeBinaryToWriter),(a=e.getRelationsList()).length>0&&t.writeRepeatedMessage(4,a,proto.jyf.Relation.serializeBinaryToWriter),(a=e.getEquipmentsList()).length>0&&t.writeRepeatedMessage(5,a,proto.jyf.Equipment.serializeBinaryToWriter),(a=e.getLocationsList()).length>0&&t.writeRepeatedMessage(6,a,proto.jyf.Location.serializeBinaryToWriter),(a=e.getEventCharactersList()).length>0&&t.writeRepeatedMessage(7,a,proto.jyf.Character.serializeBinaryToWriter)},proto.jyf.Data.prototype.getCharactersList=function(){return r.Message.getRepeatedWrapperField(this,proto.jyf.Character,1)},proto.jyf.Data.prototype.setCharactersList=function(e){return r.Message.setRepeatedWrapperField(this,1,e)},proto.jyf.Data.prototype.addCharacters=function(e,t){return r.Message.addToRepeatedWrapperField(this,1,e,proto.jyf.Character,t)},proto.jyf.Data.prototype.clearCharactersList=function(){return this.setCharactersList([])},proto.jyf.Data.prototype.getEftsList=function(){return r.Message.getRepeatedWrapperField(this,proto.jyf.Eft,2)},proto.jyf.Data.prototype.setEftsList=function(e){return r.Message.setRepeatedWrapperField(this,2,e)},proto.jyf.Data.prototype.addEfts=function(e,t){return r.Message.addToRepeatedWrapperField(this,2,e,proto.jyf.Eft,t)},proto.jyf.Data.prototype.clearEftsList=function(){return this.setEftsList([])},proto.jyf.Data.prototype.getBattleMapsList=function(){return r.Message.getRepeatedWrapperField(this,proto.jyf.BattleMap,3)},proto.jyf.Data.prototype.setBattleMapsList=function(e){return r.Message.setRepeatedWrapperField(this,3,e)},proto.jyf.Data.prototype.addBattleMaps=function(e,t){return r.Message.addToRepeatedWrapperField(this,3,e,proto.jyf.BattleMap,t)},proto.jyf.Data.prototype.clearBattleMapsList=function(){return this.setBattleMapsList([])},proto.jyf.Data.prototype.getRelationsList=function(){return r.Message.getRepeatedWrapperField(this,proto.jyf.Relation,4)},proto.jyf.Data.prototype.setRelationsList=function(e){return r.Message.setRepeatedWrapperField(this,4,e)},proto.jyf.Data.prototype.addRelations=function(e,t){return r.Message.addToRepeatedWrapperField(this,4,e,proto.jyf.Relation,t)},proto.jyf.Data.prototype.clearRelationsList=function(){return this.setRelationsList([])},proto.jyf.Data.prototype.getEquipmentsList=function(){return r.Message.getRepeatedWrapperField(this,proto.jyf.Equipment,5)},proto.jyf.Data.prototype.setEquipmentsList=function(e){return r.Message.setRepeatedWrapperField(this,5,e)},proto.jyf.Data.prototype.addEquipments=function(e,t){return r.Message.addToRepeatedWrapperField(this,5,e,proto.jyf.Equipment,t)},proto.jyf.Data.prototype.clearEquipmentsList=function(){return this.setEquipmentsList([])},proto.jyf.Data.prototype.getLocationsList=function(){return r.Message.getRepeatedWrapperField(this,proto.jyf.Location,6)},proto.jyf.Data.prototype.setLocationsList=function(e){return r.Message.setRepeatedWrapperField(this,6,e)},proto.jyf.Data.prototype.addLocations=function(e,t){return r.Message.addToRepeatedWrapperField(this,6,e,proto.jyf.Location,t)},proto.jyf.Data.prototype.clearLocationsList=function(){return this.setLocationsList([])},proto.jyf.Data.prototype.getEventCharactersList=function(){return r.Message.getRepeatedWrapperField(this,proto.jyf.Character,7)},proto.jyf.Data.prototype.setEventCharactersList=function(e){return r.Message.setRepeatedWrapperField(this,7,e)},proto.jyf.Data.prototype.addEventCharacters=function(e,t){return r.Message.addToRepeatedWrapperField(this,7,e,proto.jyf.Character,t)},proto.jyf.Data.prototype.clearEventCharactersList=function(){return this.setEventCharactersList([])},proto.jyf.Save.repeatedFields_=[1,2,3,6,4],r.Message.GENERATE_TO_OBJECT&&(proto.jyf.Save.prototype.toObject=function(e){return proto.jyf.Save.toObject(e,this)},proto.jyf.Save.toObject=function(e,t){var a,n={charactersList:r.Message.toObjectList(t.getCharactersList(),proto.jyf.Character.toObject,e),teamMemberIdsList:null==(a=r.Message.getRepeatedField(t,2))?void 0:a,ownedEftIdsList:null==(a=r.Message.getRepeatedField(t,3))?void 0:a,stackedEquipmentsList:r.Message.toObjectList(t.getStackedEquipmentsList(),proto.jyf.Save.StackedEquipmentInfo.toObject,e),logsList:r.Message.toObjectList(t.getLogsList(),proto.jyf.Save.Log.toObject,e),state:(a=t.getState())&&proto.jyf.Save.State.toObject(e,a),version:r.Message.getFieldWithDefault(t,7,"")};return e&&(n.$jspbMessageInstance=t),n}),proto.jyf.Save.deserializeBinary=function(e){var t=new r.BinaryReader(e),a=new proto.jyf.Save;return proto.jyf.Save.deserializeBinaryFromReader(a,t)},proto.jyf.Save.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var a=new proto.jyf.Character;t.readMessage(a,proto.jyf.Character.deserializeBinaryFromReader),e.addCharacters(a);break;case 2:a=t.readPackedInt32();e.setTeamMemberIdsList(a);break;case 3:a=t.readPackedInt32();e.setOwnedEftIdsList(a);break;case 6:a=new proto.jyf.Save.StackedEquipmentInfo;t.readMessage(a,proto.jyf.Save.StackedEquipmentInfo.deserializeBinaryFromReader),e.addStackedEquipments(a);break;case 4:a=new proto.jyf.Save.Log;t.readMessage(a,proto.jyf.Save.Log.deserializeBinaryFromReader),e.addLogs(a);break;case 5:a=new proto.jyf.Save.State;t.readMessage(a,proto.jyf.Save.State.deserializeBinaryFromReader),e.setState(a);break;case 7:a=t.readString();e.setVersion(a);break;default:t.skipField()}}return e},proto.jyf.Save.prototype.serializeBinary=function(){var e=new r.BinaryWriter;return proto.jyf.Save.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.jyf.Save.serializeBinaryToWriter=function(e,t){var a=void 0;(a=e.getCharactersList()).length>0&&t.writeRepeatedMessage(1,a,proto.jyf.Character.serializeBinaryToWriter),(a=e.getTeamMemberIdsList()).length>0&&t.writePackedInt32(2,a),(a=e.getOwnedEftIdsList()).length>0&&t.writePackedInt32(3,a),(a=e.getStackedEquipmentsList()).length>0&&t.writeRepeatedMessage(6,a,proto.jyf.Save.StackedEquipmentInfo.serializeBinaryToWriter),(a=e.getLogsList()).length>0&&t.writeRepeatedMessage(4,a,proto.jyf.Save.Log.serializeBinaryToWriter),null!=(a=e.getState())&&t.writeMessage(5,a,proto.jyf.Save.State.serializeBinaryToWriter),(a=e.getVersion()).length>0&&t.writeString(7,a)},r.Message.GENERATE_TO_OBJECT&&(proto.jyf.Save.StackedEquipmentInfo.prototype.toObject=function(e){return proto.jyf.Save.StackedEquipmentInfo.toObject(e,this)},proto.jyf.Save.StackedEquipmentInfo.toObject=function(e,t){var a={id:r.Message.getFieldWithDefault(t,1,0),quality:r.Message.getFieldWithDefault(t,2,0),count:r.Message.getFieldWithDefault(t,3,0)};return e&&(a.$jspbMessageInstance=t),a}),proto.jyf.Save.StackedEquipmentInfo.deserializeBinary=function(e){var t=new r.BinaryReader(e),a=new proto.jyf.Save.StackedEquipmentInfo;return proto.jyf.Save.StackedEquipmentInfo.deserializeBinaryFromReader(a,t)},proto.jyf.Save.StackedEquipmentInfo.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var a=t.readInt32();e.setId(a);break;case 2:a=t.readInt32();e.setQuality(a);break;case 3:a=t.readInt32();e.setCount(a);break;default:t.skipField()}}return e},proto.jyf.Save.StackedEquipmentInfo.prototype.serializeBinary=function(){var e=new r.BinaryWriter;return proto.jyf.Save.StackedEquipmentInfo.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.jyf.Save.StackedEquipmentInfo.serializeBinaryToWriter=function(e,t){var a=void 0;0!==(a=e.getId())&&t.writeInt32(1,a),0!==(a=e.getQuality())&&t.writeInt32(2,a),0!==(a=e.getCount())&&t.writeInt32(3,a)},proto.jyf.Save.StackedEquipmentInfo.prototype.getId=function(){return r.Message.getFieldWithDefault(this,1,0)},proto.jyf.Save.StackedEquipmentInfo.prototype.setId=function(e){return r.Message.setProto3IntField(this,1,e)},proto.jyf.Save.StackedEquipmentInfo.prototype.getQuality=function(){return r.Message.getFieldWithDefault(this,2,0)},proto.jyf.Save.StackedEquipmentInfo.prototype.setQuality=function(e){return r.Message.setProto3IntField(this,2,e)},proto.jyf.Save.StackedEquipmentInfo.prototype.getCount=function(){return r.Message.getFieldWithDefault(this,3,0)},proto.jyf.Save.StackedEquipmentInfo.prototype.setCount=function(e){return r.Message.setProto3IntField(this,3,e)},r.Message.GENERATE_TO_OBJECT&&(proto.jyf.Save.RichContent.prototype.toObject=function(e){return proto.jyf.Save.RichContent.toObject(e,this)},proto.jyf.Save.RichContent.toObject=function(e,t){var a={text:r.Message.getFieldWithDefault(t,1,""),type:r.Message.getFieldWithDefault(t,2,0),id:r.Message.getFieldWithDefault(t,3,0),quality:r.Message.getFieldWithDefault(t,4,0)};return e&&(a.$jspbMessageInstance=t),a}),proto.jyf.Save.RichContent.deserializeBinary=function(e){var t=new r.BinaryReader(e),a=new proto.jyf.Save.RichContent;return proto.jyf.Save.RichContent.deserializeBinaryFromReader(a,t)},proto.jyf.Save.RichContent.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var a=t.readString();e.setText(a);break;case 2:a=t.readEnum();e.setType(a);break;case 3:a=t.readInt32();e.setId(a);break;case 4:a=t.readInt32();e.setQuality(a);break;default:t.skipField()}}return e},proto.jyf.Save.RichContent.prototype.serializeBinary=function(){var e=new r.BinaryWriter;return proto.jyf.Save.RichContent.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.jyf.Save.RichContent.serializeBinaryToWriter=function(e,t){var a=void 0;(a=e.getText()).length>0&&t.writeString(1,a),0!==(a=e.getType())&&t.writeEnum(2,a),0!==(a=e.getId())&&t.writeInt32(3,a),0!==(a=e.getQuality())&&t.writeInt32(4,a)},proto.jyf.Save.RichContent.Type={UNSPECIFIED:0,CHARACTER:1,EFT:2,EQUIPMENT:3},proto.jyf.Save.RichContent.prototype.getText=function(){return r.Message.getFieldWithDefault(this,1,"")},proto.jyf.Save.RichContent.prototype.setText=function(e){return r.Message.setProto3StringField(this,1,e)},proto.jyf.Save.RichContent.prototype.getType=function(){return r.Message.getFieldWithDefault(this,2,0)},proto.jyf.Save.RichContent.prototype.setType=function(e){return r.Message.setProto3EnumField(this,2,e)},proto.jyf.Save.RichContent.prototype.getId=function(){return r.Message.getFieldWithDefault(this,3,0)},proto.jyf.Save.RichContent.prototype.setId=function(e){return r.Message.setProto3IntField(this,3,e)},proto.jyf.Save.RichContent.prototype.getQuality=function(){return r.Message.getFieldWithDefault(this,4,0)},proto.jyf.Save.RichContent.prototype.setQuality=function(e){return r.Message.setProto3IntField(this,4,e)},proto.jyf.Save.Log.repeatedFields_=[1],r.Message.GENERATE_TO_OBJECT&&(proto.jyf.Save.Log.prototype.toObject=function(e){return proto.jyf.Save.Log.toObject(e,this)},proto.jyf.Save.Log.toObject=function(e,t){var a={richContentsList:r.Message.toObjectList(t.getRichContentsList(),proto.jyf.Save.RichContent.toObject,e)};return e&&(a.$jspbMessageInstance=t),a}),proto.jyf.Save.Log.deserializeBinary=function(e){var t=new r.BinaryReader(e),a=new proto.jyf.Save.Log;return proto.jyf.Save.Log.deserializeBinaryFromReader(a,t)},proto.jyf.Save.Log.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var a=new proto.jyf.Save.RichContent;t.readMessage(a,proto.jyf.Save.RichContent.deserializeBinaryFromReader),e.addRichContents(a);break;default:t.skipField()}}return e},proto.jyf.Save.Log.prototype.serializeBinary=function(){var e=new r.BinaryWriter;return proto.jyf.Save.Log.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.jyf.Save.Log.serializeBinaryToWriter=function(e,t){var a;(a=e.getRichContentsList()).length>0&&t.writeRepeatedMessage(1,a,proto.jyf.Save.RichContent.serializeBinaryToWriter)},proto.jyf.Save.Log.prototype.getRichContentsList=function(){return r.Message.getRepeatedWrapperField(this,proto.jyf.Save.RichContent,1)},proto.jyf.Save.Log.prototype.setRichContentsList=function(e){return r.Message.setRepeatedWrapperField(this,1,e)},proto.jyf.Save.Log.prototype.addRichContents=function(e,t){return r.Message.addToRepeatedWrapperField(this,1,e,proto.jyf.Save.RichContent,t)},proto.jyf.Save.Log.prototype.clearRichContentsList=function(){return this.setRichContentsList([])},r.Message.GENERATE_TO_OBJECT&&(proto.jyf.Save.State.prototype.toObject=function(e){return proto.jyf.Save.State.toObject(e,this)},proto.jyf.Save.State.toObject=function(e,t){var a={numDays:r.Message.getFieldWithDefault(t,1,0),rank:r.Message.getFieldWithDefault(t,2,0),cleared:r.Message.getBooleanFieldWithDefault(t,3,!1),practiceActivated:r.Message.getBooleanFieldWithDefault(t,4,!1),locationId:r.Message.getFieldWithDefault(t,5,0)};return e&&(a.$jspbMessageInstance=t),a}),proto.jyf.Save.State.deserializeBinary=function(e){var t=new r.BinaryReader(e),a=new proto.jyf.Save.State;return proto.jyf.Save.State.deserializeBinaryFromReader(a,t)},proto.jyf.Save.State.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var a=t.readInt32();e.setNumDays(a);break;case 2:a=t.readInt32();e.setRank(a);break;case 3:a=t.readBool();e.setCleared(a);break;case 4:a=t.readBool();e.setPracticeActivated(a);break;case 5:a=t.readInt32();e.setLocationId(a);break;default:t.skipField()}}return e},proto.jyf.Save.State.prototype.serializeBinary=function(){var e=new r.BinaryWriter;return proto.jyf.Save.State.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.jyf.Save.State.serializeBinaryToWriter=function(e,t){var a=void 0;0!==(a=e.getNumDays())&&t.writeInt32(1,a),0!==(a=e.getRank())&&t.writeInt32(2,a),(a=e.getCleared())&&t.writeBool(3,a),(a=e.getPracticeActivated())&&t.writeBool(4,a),0!==(a=e.getLocationId())&&t.writeInt32(5,a)},proto.jyf.Save.State.prototype.getNumDays=function(){return r.Message.getFieldWithDefault(this,1,0)},proto.jyf.Save.State.prototype.setNumDays=function(e){return r.Message.setProto3IntField(this,1,e)},proto.jyf.Save.State.prototype.getRank=function(){return r.Message.getFieldWithDefault(this,2,0)},proto.jyf.Save.State.prototype.setRank=function(e){return r.Message.setProto3IntField(this,2,e)},proto.jyf.Save.State.prototype.getCleared=function(){return r.Message.getBooleanFieldWithDefault(this,3,!1)},proto.jyf.Save.State.prototype.setCleared=function(e){return r.Message.setProto3BooleanField(this,3,e)},proto.jyf.Save.State.prototype.getPracticeActivated=function(){return r.Message.getBooleanFieldWithDefault(this,4,!1)},proto.jyf.Save.State.prototype.setPracticeActivated=function(e){return r.Message.setProto3BooleanField(this,4,e)},proto.jyf.Save.State.prototype.getLocationId=function(){return r.Message.getFieldWithDefault(this,5,0)},proto.jyf.Save.State.prototype.setLocationId=function(e){return r.Message.setProto3IntField(this,5,e)},proto.jyf.Save.prototype.getCharactersList=function(){return r.Message.getRepeatedWrapperField(this,proto.jyf.Character,1)},proto.jyf.Save.prototype.setCharactersList=function(e){return r.Message.setRepeatedWrapperField(this,1,e)},proto.jyf.Save.prototype.addCharacters=function(e,t){return r.Message.addToRepeatedWrapperField(this,1,e,proto.jyf.Character,t)},proto.jyf.Save.prototype.clearCharactersList=function(){return this.setCharactersList([])},proto.jyf.Save.prototype.getTeamMemberIdsList=function(){return r.Message.getRepeatedField(this,2)},proto.jyf.Save.prototype.setTeamMemberIdsList=function(e){return r.Message.setField(this,2,e||[])},proto.jyf.Save.prototype.addTeamMemberIds=function(e,t){return r.Message.addToRepeatedField(this,2,e,t)},proto.jyf.Save.prototype.clearTeamMemberIdsList=function(){return this.setTeamMemberIdsList([])},proto.jyf.Save.prototype.getOwnedEftIdsList=function(){return r.Message.getRepeatedField(this,3)},proto.jyf.Save.prototype.setOwnedEftIdsList=function(e){return r.Message.setField(this,3,e||[])},proto.jyf.Save.prototype.addOwnedEftIds=function(e,t){return r.Message.addToRepeatedField(this,3,e,t)},proto.jyf.Save.prototype.clearOwnedEftIdsList=function(){return this.setOwnedEftIdsList([])},proto.jyf.Save.prototype.getStackedEquipmentsList=function(){return r.Message.getRepeatedWrapperField(this,proto.jyf.Save.StackedEquipmentInfo,6)},proto.jyf.Save.prototype.setStackedEquipmentsList=function(e){return r.Message.setRepeatedWrapperField(this,6,e)},proto.jyf.Save.prototype.addStackedEquipments=function(e,t){return r.Message.addToRepeatedWrapperField(this,6,e,proto.jyf.Save.StackedEquipmentInfo,t)},proto.jyf.Save.prototype.clearStackedEquipmentsList=function(){return this.setStackedEquipmentsList([])},proto.jyf.Save.prototype.getLogsList=function(){return r.Message.getRepeatedWrapperField(this,proto.jyf.Save.Log,4)},proto.jyf.Save.prototype.setLogsList=function(e){return r.Message.setRepeatedWrapperField(this,4,e)},proto.jyf.Save.prototype.addLogs=function(e,t){return r.Message.addToRepeatedWrapperField(this,4,e,proto.jyf.Save.Log,t)},proto.jyf.Save.prototype.clearLogsList=function(){return this.setLogsList([])},proto.jyf.Save.prototype.getState=function(){return r.Message.getWrapperField(this,proto.jyf.Save.State,5)},proto.jyf.Save.prototype.setState=function(e){return r.Message.setWrapperField(this,5,e)},proto.jyf.Save.prototype.clearState=function(){return this.setState(void 0)},proto.jyf.Save.prototype.hasState=function(){return null!=r.Message.getField(this,5)},proto.jyf.Save.prototype.getVersion=function(){return r.Message.getFieldWithDefault(this,7,"")},proto.jyf.Save.prototype.setVersion=function(e){return r.Message.setProto3StringField(this,7,e)},proto.jyf.TrimmedCharacter.repeatedFields_=[2],r.Message.GENERATE_TO_OBJECT&&(proto.jyf.TrimmedCharacter.prototype.toObject=function(e){return proto.jyf.TrimmedCharacter.toObject(e,this)},proto.jyf.TrimmedCharacter.toObject=function(e,t){var a,n={id:r.Message.getFieldWithDefault(t,1,0),compressedEftsList:null==(a=r.Message.getRepeatedField(t,2))?void 0:a,strategy:(a=t.getStrategy())&&proto.jyf.Strategy.toObject(e,a),weapon:(a=t.getWeapon())&&proto.jyf.Character.EquipmentInfo.toObject(e,a),armor:(a=t.getArmor())&&proto.jyf.Character.EquipmentInfo.toObject(e,a)};return e&&(n.$jspbMessageInstance=t),n}),proto.jyf.TrimmedCharacter.deserializeBinary=function(e){var t=new r.BinaryReader(e),a=new proto.jyf.TrimmedCharacter;return proto.jyf.TrimmedCharacter.deserializeBinaryFromReader(a,t)},proto.jyf.TrimmedCharacter.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var a=t.readInt32();e.setId(a);break;case 2:a=t.readPackedUint32();e.setCompressedEftsList(a);break;case 3:a=new proto.jyf.Strategy;t.readMessage(a,proto.jyf.Strategy.deserializeBinaryFromReader),e.setStrategy(a);break;case 4:a=new proto.jyf.Character.EquipmentInfo;t.readMessage(a,proto.jyf.Character.EquipmentInfo.deserializeBinaryFromReader),e.setWeapon(a);break;case 5:a=new proto.jyf.Character.EquipmentInfo;t.readMessage(a,proto.jyf.Character.EquipmentInfo.deserializeBinaryFromReader),e.setArmor(a);break;default:t.skipField()}}return e},proto.jyf.TrimmedCharacter.prototype.serializeBinary=function(){var e=new r.BinaryWriter;return proto.jyf.TrimmedCharacter.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.jyf.TrimmedCharacter.serializeBinaryToWriter=function(e,t){var a=void 0;0!==(a=e.getId())&&t.writeInt32(1,a),(a=e.getCompressedEftsList()).length>0&&t.writePackedUint32(2,a),null!=(a=e.getStrategy())&&t.writeMessage(3,a,proto.jyf.Strategy.serializeBinaryToWriter),null!=(a=e.getWeapon())&&t.writeMessage(4,a,proto.jyf.Character.EquipmentInfo.serializeBinaryToWriter),null!=(a=e.getArmor())&&t.writeMessage(5,a,proto.jyf.Character.EquipmentInfo.serializeBinaryToWriter)},proto.jyf.TrimmedCharacter.prototype.getId=function(){return r.Message.getFieldWithDefault(this,1,0)},proto.jyf.TrimmedCharacter.prototype.setId=function(e){return r.Message.setProto3IntField(this,1,e)},proto.jyf.TrimmedCharacter.prototype.getCompressedEftsList=function(){return r.Message.getRepeatedField(this,2)},proto.jyf.TrimmedCharacter.prototype.setCompressedEftsList=function(e){return r.Message.setField(this,2,e||[])},proto.jyf.TrimmedCharacter.prototype.addCompressedEfts=function(e,t){return r.Message.addToRepeatedField(this,2,e,t)},proto.jyf.TrimmedCharacter.prototype.clearCompressedEftsList=function(){return this.setCompressedEftsList([])},proto.jyf.TrimmedCharacter.prototype.getStrategy=function(){return r.Message.getWrapperField(this,proto.jyf.Strategy,3)},proto.jyf.TrimmedCharacter.prototype.setStrategy=function(e){return r.Message.setWrapperField(this,3,e)},proto.jyf.TrimmedCharacter.prototype.clearStrategy=function(){return this.setStrategy(void 0)},proto.jyf.TrimmedCharacter.prototype.hasStrategy=function(){return null!=r.Message.getField(this,3)},proto.jyf.TrimmedCharacter.prototype.getWeapon=function(){return r.Message.getWrapperField(this,proto.jyf.Character.EquipmentInfo,4)},proto.jyf.TrimmedCharacter.prototype.setWeapon=function(e){return r.Message.setWrapperField(this,4,e)},proto.jyf.TrimmedCharacter.prototype.clearWeapon=function(){return this.setWeapon(void 0)},proto.jyf.TrimmedCharacter.prototype.hasWeapon=function(){return null!=r.Message.getField(this,4)},proto.jyf.TrimmedCharacter.prototype.getArmor=function(){return r.Message.getWrapperField(this,proto.jyf.Character.EquipmentInfo,5)},proto.jyf.TrimmedCharacter.prototype.setArmor=function(e){return r.Message.setWrapperField(this,5,e)},proto.jyf.TrimmedCharacter.prototype.clearArmor=function(){return this.setArmor(void 0)},proto.jyf.TrimmedCharacter.prototype.hasArmor=function(){return null!=r.Message.getField(this,5)},proto.jyf.Team.repeatedFields_=[2,3],r.Message.GENERATE_TO_OBJECT&&(proto.jyf.Team.prototype.toObject=function(e){return proto.jyf.Team.toObject(e,this)},proto.jyf.Team.toObject=function(e,t){var a,n={name:r.Message.getFieldWithDefault(t,1,""),charactersList:r.Message.toObjectList(t.getCharactersList(),proto.jyf.TrimmedCharacter.toObject,e),encodedAttributesList:null==(a=r.Message.getRepeatedField(t,3))?void 0:a};return e&&(n.$jspbMessageInstance=t),n}),proto.jyf.Team.deserializeBinary=function(e){var t=new r.BinaryReader(e),a=new proto.jyf.Team;return proto.jyf.Team.deserializeBinaryFromReader(a,t)},proto.jyf.Team.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var a=t.readString();e.setName(a);break;case 2:a=new proto.jyf.TrimmedCharacter;t.readMessage(a,proto.jyf.TrimmedCharacter.deserializeBinaryFromReader),e.addCharacters(a);break;case 3:a=t.readPackedUint32();e.setEncodedAttributesList(a);break;default:t.skipField()}}return e},proto.jyf.Team.prototype.serializeBinary=function(){var e=new r.BinaryWriter;return proto.jyf.Team.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.jyf.Team.serializeBinaryToWriter=function(e,t){var a=void 0;(a=e.getName()).length>0&&t.writeString(1,a),(a=e.getCharactersList()).length>0&&t.writeRepeatedMessage(2,a,proto.jyf.TrimmedCharacter.serializeBinaryToWriter),(a=e.getEncodedAttributesList()).length>0&&t.writePackedUint32(3,a)},proto.jyf.Team.prototype.getName=function(){return r.Message.getFieldWithDefault(this,1,"")},proto.jyf.Team.prototype.setName=function(e){return r.Message.setProto3StringField(this,1,e)},proto.jyf.Team.prototype.getCharactersList=function(){return r.Message.getRepeatedWrapperField(this,proto.jyf.TrimmedCharacter,2)},proto.jyf.Team.prototype.setCharactersList=function(e){return r.Message.setRepeatedWrapperField(this,2,e)},proto.jyf.Team.prototype.addCharacters=function(e,t){return r.Message.addToRepeatedWrapperField(this,2,e,proto.jyf.TrimmedCharacter,t)},proto.jyf.Team.prototype.clearCharactersList=function(){return this.setCharactersList([])},proto.jyf.Team.prototype.getEncodedAttributesList=function(){return r.Message.getRepeatedField(this,3)},proto.jyf.Team.prototype.setEncodedAttributesList=function(e){return r.Message.setField(this,3,e||[])},proto.jyf.Team.prototype.addEncodedAttributes=function(e,t){return r.Message.addToRepeatedField(this,3,e,t)},proto.jyf.Team.prototype.clearEncodedAttributesList=function(){return this.setEncodedAttributesList([])},proto.jyf.Gender={GENDER_UNKNOWN:0,GENDER_MALE:1,GENDER_FEMALE:2,GENDER_SHEMALE:3},n.object.extend(t,proto.jyf)},3513:(e,t,a)=>{"use strict";a.d(t,{x:()=>r});const r={hp:500,mp:500,attack:10,defense:10,speed:10,fist:10,sword:10,knife:10,unusual:10,iq:10}},2100:(e,t,a)=>{"use strict";a.r(t),a.d(t,{data:()=>s,getCharacterProto:()=>d,getCharacterProtos:()=>c,getEftProto:()=>l,getEftProtos:()=>f,getEquipmentProto:()=>u,getEquipmentProtos:()=>g,getLocationProto:()=>h,getLocationProtos:()=>y,getBattleMapProto:()=>m,getBattleMapProtos:()=>j,getEftInfoProto:()=>P,finalizeCharacterProto:()=>F,tryEnhanceCharacterProtoAgain:()=>A,getHeadPicSrc:()=>D,getEftInfoPower:()=>S,getEftInfoCost:()=>T,isEftAttackable:()=>L,isEftInfoAttackable:()=>w,getDisplayNameForAttribute:()=>R,getDisplayNameForBreakMove:()=>k,ableToLearnWithoutIqRequirement:()=>B,characterAbleToLearnEft:()=>W,castrate:()=>q,characterLearnEft:()=>x,getThirdPersonPronoun:()=>O,getRemainingPracticeCount:()=>N,isSameEquipment:()=>_,getEnhanceRelationsObj:()=>H});a(448);var r=a(924),n=a.n(r),o=a(5654),i=a(408);const s=proto.jyf.Data.deserializeBinary(n());function d(e){return e>=s.getCharactersList().length||e<=0?null:s.getCharactersList()[e]}function c(){return s.getCharactersList().slice(1)}function l(e){return s.getEftsList()[e]}function p(e){let t=e.indexOf("[");return-1==t?e:e.substr(0,t)}for(let e of s.getEventCharactersList())e.setName(p(e.getName()));function f(){return s.getEftsList().slice(1)}function u(e,t){let a=s.getEquipmentsList()[e];if(!t)return a;a=a.cloneMessage();for(let e of a.getAttributeEnhancementsList())for(let a of I){let r=i.j(a);e["setAdd"+r](Math.round(e["getAdd"+r]()*(1+t/10)+.001))}for(let e of a.getEftEnhancementsList())for(let a of b){let r=i.j(a);e["setAdd"+r](Math.round(e["getAdd"+r]()*(1+t/10)+.001))}return a}function g(){return s.getEquipmentsList().slice(1)}function h(e){let t=s.getLocationsList();return e<=0||e>=t.length?null:t[e]}function y(){return s.getLocationsList().slice(1)}function m(e){return s.getBattleMapsList()[e]}function j(){return s.getBattleMapsList().slice(1)}const E=["injury","poison","critical","borrow_strength","ignore_defense","ignore_skill","damage_increase","damage_increase_to_female","accuracy","sharp","hp_absorb"],b=E.concat(["power","power_percent","mp","max_level","attack_range"]),I=E.concat(["hp","mp","attack","defense","speed","fist","sword","knife","unusual","double_hit","hp_recovery","evil_hp_recovery","mp_recovery","injury_recovery","poison_recovery","damage_reduce","damage_reduce_from_male","armor_defense","dodge","counterattack","shift_attack","damage_rebound","slap_rebound","break_move","mp_defense","mp_defense_no_cd","strength_accumulation","mp_absorb","revival","stiff","critical_damage_increase","damage_increase_with_less_hp"]);function M(e,t,a){a.hasEftEnhancement()||a.setEftEnhancement(new proto.jyf.EftEnhancement);for(let r of b){let n="Add"+i.j(r);a.getEftEnhancement()["set"+n](a.getEftEnhancement()["get"+n]()+e["get"+n]()*t)}}function v(e,t,a){if(e.getRequiredEftId()>0){let r=a.getEftsList().find((t=>t.getId()==e.getRequiredEftId()));if(null==r)return;t=r.getLevel()}if(e.getMultiplyByEftType()!=proto.jyf.Eft.Type.UNKNOWN){t=0;for(let r of a.getEftsList())r.getLevel()<10||l(r.getId()).getType()==e.getMultiplyByEftType()&&++t}for(let r of I){let n=i.j(r);a["set"+n](a["get"+n]()+e["getAdd"+n]()*t)}}function P(e,t){for(let a of e.getEftsList())if(a.getId()==t)return a;return null}function F(e,t){let a=e.cloneMessage();for(let e of a.getEftsList()){let t=l(e.getId());for(let r of t.getAttributeEnhancementsList()){let t=1;if(r.getRequiredLevel()>0){if(r.getRequiredLevel()>e.getLevel())continue}else t=e.getLevel();v(r,t,a)}for(let r of t.getEftEnhancementsList()){let t=1;if(r.getRequiredLevel()>0){if(r.getRequiredLevel()>e.getLevel())continue}else t=e.getLevel();if(0==r.getId()){for(let e of a.getEftsList())l(e.getId()).getType()==r.getType()&&M(r,t,e);continue}let n=P(a,r.getId());null!=n&&M(r,t,n)}}let r=1e3*(10+a.getAdditionalEfts());if(a.getHp()>r&&a.setHp(r),C(a,!1,a),a.getWeapon().getId()){C(u(a.getWeapon().getId(),a.getWeapon().getQuality()),!0,a)}if(a.getArmor().getId()){C(u(a.getArmor().getId(),a.getArmor().getQuality()),!1,a)}a.pendingRelations_=[];for(let e of z[a.getId()]){if(!t)continue;let r=!0;for(let a of e.getToCharacterIdsList()){let e=!1;for(let r of t)if(a==r.getId()){e=!0;break}e||(r=!1)}if(r){let t=e.cloneMessage();t.setAttributeEnhancementsList(t.getAttributeEnhancementsList().filter((e=>!e.getRequiredAnyDead()))),t.setEftEnhancementsList(t.getEftEnhancementsList().filter((e=>!e.getRequiredAnyDead()))),C(t,!1,a);let r=e.cloneMessage();r.setAttributeEnhancementsList(r.getAttributeEnhancementsList().filter((e=>e.getRequiredAnyDead()))),r.setEftEnhancementsList(r.getEftEnhancementsList().filter((e=>e.getRequiredAnyDead()))),a.pendingRelations_.push(r)}}return a}function A(e,t){e.pendingRelations_=e.pendingRelations_.filter((a=>{for(let r of a.getToCharacterIdsList())for(let n of t)if(r==n.id&&!n.alive)return C(a,!1,e),!1;return!0}))}function C(e,t,a){for(let r of e.getEftEnhancementsList()){if(0==r.getId()){for(let e of a.getEftsList()){let a=l(e.getId());a.getType()==r.getType()&&(t&&a.getAttackDistance()>500||M(r,1,e))}continue}let e=P(a,r.getId());null!=e&&M(r,1,e)}for(let t of e.getAttributeEnhancementsList())v(t,1,a)}function D(e){return o.M7()+"/head/"+e.getHeadPicId()+".png"}function S(e){let t=l(e.getId()).getPower()*e.getLevel()/10;return e.hasEftEnhancement()&&(t+=e.getEftEnhancement().getAddPower(),t*=1+e.getEftEnhancement().getAddPowerPercent()/100),t=Math.round(t),t<0&&(t=0),t}function T(e){let t=l(e.getId()).getCost()*e.getLevel()/10;return e.hasEftEnhancement()&&(t+=e.getEftEnhancement().getAddMp()),t=Math.round(t),t<1&&(t=1),t}function L(e){return e.getType()==proto.jyf.Eft.Type.FIST||e.getType()==proto.jyf.Eft.Type.SWORD||e.getType()==proto.jyf.Eft.Type.KNIFE||e.getType()==proto.jyf.Eft.Type.UNUSUAL}function w(e){return L(l(e.getId()))}function R(e,t){let a=[];for(let r of e.getAttributeEnhancementsList())t(r)&&a.push(r.getDisplayName());for(let r of e.getEftsList()){let e=l(r.getId());for(let n of e.getAttributeEnhancementsList())n.getRequiredLevel()<=r.getLevel()&&t(n)&&a.push(e.getName())}if(e.getWeapon().getId()>0){let r=u(e.getWeapon().getId());for(let e of r.getAttributeEnhancementsList())t(e)&&a.push(r.getName())}if(e.getArmor().getId()>0){let r=u(e.getArmor().getId());for(let e of r.getAttributeEnhancementsList())t(e)&&a.push(r.getName())}return 0==a.length?"":a[Math.floor(Math.random()*a.length)]}function k(e){let t=l(e.getId()),a=t.getType();if(a==proto.jyf.Eft.Type.FIST)return"破掌式";if(a==proto.jyf.Eft.Type.SWORD)return"破剑式";if(a==proto.jyf.Eft.Type.KNIFE)return"破刀式";if(a==proto.jyf.Eft.Type.UNUSUAL){if(a=t.getUnusualType(),a==proto.jyf.Eft.UnusualType.UNUSUAL_LONG)return"破枪式";if(a==proto.jyf.Eft.UnusualType.UNUSUAL_SHORT)return"破鞭式";if(a==proto.jyf.Eft.UnusualType.UNUSUAL_SOFT)return"破索式";if(a==proto.jyf.Eft.UnusualType.UNUSUAL_ARROW)return"破箭式"}return"破气式"}function B(e,t){for(let a of e.getEftEnhancementsList()){if(a.getId()==t.getId()&&a.getIgnoreIqRequirement())return!0;if(a.getType()!=proto.jyf.Eft.Type.UNKNOWN&&a.getType()==t.getType()&&a.getIgnoreIqRequirement())return!0}return!1}function W(e,t,a){let r=!0;null!=P(e,t.getId())&&(r=!1,a.add("learned")),e.getEftsList().length>=10+e.getAdditionalEfts()&&(r=!1,a.add("reachMaxNumEfts")),(e=F(e)).getHp()<t.getRequiredHp()&&(r=!1,a.add("requiredHp")),e.getMp()<t.getRequiredMp()&&(r=!1,a.add("requiredMp")),e.getAttack()<t.getRequiredAttack()&&(r=!1,a.add("requiredAttack")),e.getDefense()<t.getRequiredDefense()&&(r=!1,a.add("requiredDefense")),e.getSpeed()<t.getRequiredSpeed()&&(r=!1,a.add("requiredSpeed")),e.getFist()<t.getRequiredFist()&&(r=!1,a.add("requiredFist")),e.getSword()<t.getRequiredSword()&&(r=!1,a.add("requiredSword")),e.getKnife()<t.getRequiredKnife()&&(r=!1,a.add("requiredKnife")),e.getUnusual()<t.getRequiredUnusual()&&(r=!1,a.add("requiredUnusual"));let n=B(e,t);return!n&&e.getIq()<t.getRequiredIq()&&(r=!1,a.add("requiredIq")),!n&&t.getRequiredMaximumIq()>0&&e.getIq()>t.getRequiredMaximumIq()&&(r=!1,a.add("requiredMaximumIq")),t.getRequiredGender()!=proto.jyf.Gender.GENDER_UNKNOWN&&e.getGender()!=t.getRequiredGender()&&(e.getGender()==proto.jyf.Gender.GENDER_MALE&&t.getRequiredGender()==proto.jyf.Gender.GENDER_SHEMALE||(r=!1,a.add("requiredGender"))),r}function q(e){e.setGender(proto.jyf.Gender.GENDER_SHEMALE);let t=e.addAttributeEnhancements();t.setDisplayName("自宫•后遗症"),t.setAddDamageIncrease(-30),t.setAddDamageReduce(-20)}function x(e,t){if(!W(e,t,new Set))return!1;let a=e.addEfts();a.setId(t.getId()),a.setLevel(1),t.getRequiredGender()==proto.jyf.Gender.GENDER_SHEMALE&&e.getGender()!=proto.jyf.Gender.GENDER_SHEMALE&&q(e)}function O(e){return e.getGender()==proto.jyf.Gender.GENDER_MALE?"他":e.getGender()==proto.jyf.Gender.GENDER_FEMALE?"她":"东方不败"==e.getName()?"“她”":"“他”"}function N(e){let t=0;for(let a of e.getEftEnhancementsList())1==a.getAddMaxLevel()&&++t;let a=3;return 1==e.getId()&&(a+=Math.floor(e.getIq()/30)),a<1&&(a=1),a-t}function _(e,t){return 0!=e.getId()&&(t.getId()==e.getId()&&t.getQuality()==e.getQuality())}let z=[];for(let e=0;e<=c().length;++e)z.push([]);for(let e of s.getRelationsList())if(e.getDisplayName())for(let t of e.getFromCharacterIdsList())z[t].push(e);function H(e,t){return z[e.getId()].map((e=>{let a=e.toObject();if(t)for(let r of e.getToCharacterIdsList()){let e=!1;for(let a of t)if(r==a.getId()){e=!0;break}if(!e){a.inactive=!0;break}}for(let e of a.eftEnhancementsList)e.requiredAnyDead&&(e.requiredAnyDead=a);for(let e of a.attributeEnhancementsList)e.requiredAnyDead&&(e.requiredAnyDead=a);return a}))}},5159:(e,t,a)=>{"use strict";a.d(t,{Ot:()=>s,NA:()=>d,Q:()=>c});var r=a(2100),n=a(466);let o=[];for(let e=0;e<=r.getCharacterProtos().length;++e)o.push({});for(let e of r.data.getRelationsList())for(let t of e.getFromCharacterIdsList())for(let a of e.getToCharacterIdsList())o[t][a]=e;function i(e,t){return o[e.getId()][t.getId()]}function s(e,t){let a=i(e,t);return a?a.getFavorability():0}function d(e,t){return s(e,t)+function(e,t){return Math.abs(e.getBenevolence()-t.getBenevolence())<=50?1:Math.abs(e.getBenevolence()-t.getBenevolence())>100?-1:e.getBenevolence()>0&&t.getBenevolence()>e.getBenevolence()||e.getBenevolence()<0&&t.getBenevolence()<e.getBenevolence()?1:0}(e,t)}function c(e,t,a){let o=i(e,t),s="";if(o)try{s=n.render(o.getText(),{from:{name:e.getName(),tpp:r.getThirdPersonPronoun(e)},to:{name:t.getName(),tpp:r.getThirdPersonPronoun(t)},enemy:{name:a.getName(),tpp:r.getThirdPersonPronoun(a)}})}catch(e){console.log(e)}return s||"。"}},8185:(e,t,a)=>{"use strict";a.d(t,{W_:()=>i,EP:()=>s,uJ:()=>d});a(68);var r=a(5602),n=a.n(r);const o=proto.jyf.Pics.deserializeBinary(n());function i(e){return o.getFightsList()[e]}function s(e){return o.getEftsList()[e]}function d(e){return o.getBattleMapsList()[e]}},2523:(e,t,a)=>{"use strict";a.r(t),a.d(t,{get:()=>l,registerInvalidateCallback:()=>p,reset:()=>f,triggerInvalidateCallbacks:()=>u,getCharacterProto:()=>g,getCharacterProtos:()=>h,save:()=>y,loadBinary:()=>j,toTeamString:()=>E,fromTeamString:()=>b,addStackedEquipment:()=>I,showRelations:()=>M});var r=a(9742),n=a(8826),o=a(2100),i=a(5654),s=a(5159);let d,c=[];function l(){return d}function p(e){c.push(e)}function f(){d=new proto.jyf.Save;for(let e of o.data.getCharactersList())d.addCharacters(e.cloneMessage());d.setState(new proto.jyf.Save.State),d.setVersion(i.i5),u()}function u(){for(let e of c)e()}function g(e){return d.getCharactersList()[e]}function h(){return d.getTeamMemberIdsList().length>0&&1!=d.getTeamMemberIdsList()[0]?d.getCharactersList().slice(2):d.getCharactersList().slice(1)}function y(){window.localStorage.setItem("jyf/"+i.JT+"/save",r.JQ(d.serializeBinary()))}function m(){return new n.ModeOfOperation.ctr([112,231,121,14,55,76,97,56,32,7,88,94,183,132,154,251],new n.Counter(5))}function j(e){let t=proto.jyf.Save.deserializeBinary(e);if(t.getVersion()||t.setVersion(i.i5),i.yC(i.i5,t.getVersion())<0)alert("当前存档版本为"+t.getVersion()+"，无法读取。");else{t.setVersion(i.i5);for(let e of o.getCharacterProtos()){if(e.getId()>=t.getCharactersList().length){t.addCharacters(e.cloneMessage());continue}let a=t.getCharactersList()[e.getId()];if(a.getId()>1&&e.getName()!=a.getName()&&console.log("Name changed: "+e.getName()+"->"+a.getName()),a.setOrderId(e.getOrderId()),a.setFightPicId(e.getFightPicId()),a.setHeadPicId(e.getHeadPicId()),1==a.getId()&&a.getGender()==proto.jyf.Gender.GENDER_FEMALE){let e=o.data.getEventCharactersList()[1];a.setFightPicId(e.getFightPicId()),a.setHeadPicId(e.getHeadPicId())}else a.getGender()!=proto.jyf.Gender.GENDER_SHEMALE&&a.setGender(e.getGender());if(a.hasWeapon()||a.setWeapon(e.getWeapon().cloneMessage()),a.hasArmor()||a.setArmor(e.getArmor().cloneMessage()),a.setLocationId(e.getLocationId()),1==a.getId())continue;a.setIq(e.getIq()),a.setAttributeEnhancementsList(e.getAttributeEnhancementsList().map((e=>e.cloneMessage()))),a.getGender()==proto.jyf.Gender.GENDER_SHEMALE&&e.getGender()!=proto.jyf.Gender.GENDER_SHEMALE&&o.castrate(a);let r=e.getEftEnhancementsList().map((e=>e.cloneMessage()));for(let e of a.getEftEnhancementsList())1==e.getAddMaxLevel()&&r.push(e);a.setEftEnhancementsList(r)}if(!o.getLocationProto(t.getState().getLocationId())){let e=1;t.getTeamMemberIdsList().length>0&&(e=t.getTeamMemberIdsList()[0]),t.getState().setLocationId(o.getCharacterProto(e).getLocationId())}d=t}}function E(){let e=new proto.jyf.Team;for(let t of d.getTeamMemberIdsList()){let a=g(t),r=new proto.jyf.TrimmedCharacter;r.setId(a.getId());for(let e of a.getEftsList()){let t=e.getId()%4,a=(e.getId()-t)/4,n=4*e.getLevel()+t;r.addCompressedEfts(a),r.addCompressedEfts(n)}a.hasStrategy()&&r.setStrategy(a.getStrategy()),r.setWeapon(a.getWeapon()),r.setArmor(a.getArmor()),e.addCharacters(r)}let t=g(d.getTeamMemberIdsList()[0]);e.setName(t.getName()),e.addEncodedAttributes(t.getHp()),e.addEncodedAttributes(t.getMp()),e.addEncodedAttributes(t.getAttack()),e.addEncodedAttributes(t.getDefense()),e.addEncodedAttributes(t.getSpeed()),e.addEncodedAttributes(t.getFist()),e.addEncodedAttributes(t.getSword()),e.addEncodedAttributes(t.getKnife()),e.addEncodedAttributes(t.getUnusual()),e.addEncodedAttributes(t.getIq());let a=t.getBenevolence();return a<0&&(a=100-a),e.addEncodedAttributes(a),e.addEncodedAttributes(t.getGender()),r.JQ(m().encrypt(e.serializeBinary())).replace(/\//g,"_")}function b(e){let t=[],a=proto.jyf.Team.deserializeBinary(m().decrypt(r.b$(e.replace(/_/g,"/"))));for(;a.getEncodedAttributesList()<20;)a.addEncodedAttributes(0);for(let e of a.getCharactersList()){let r=o.getCharacterProto(e.getId()).cloneMessage();1==e.getId()&&a.getEncodedAttributesList()[11]==proto.jyf.Gender.GENDER_FEMALE&&(r=o.data.getEventCharactersList()[1].cloneMessage()),r.clearEftsList();for(let t=0;t+1<e.getCompressedEftsList().length;t+=2){let a=r.addEfts(),n=e.getCompressedEftsList()[t],o=e.getCompressedEftsList()[t+1],i=o%4;a.setId(4*n+i),a.setLevel((o-i)/4)}e.hasStrategy()&&r.setStrategy(e.getStrategy()),e.hasWeapon()||e.setWeapon(new proto.jyf.Character.EquipmentInfo),r.setWeapon(e.getWeapon()),e.hasArmor()||e.setArmor(new proto.jyf.Character.EquipmentInfo),r.setArmor(e.getArmor()),t.push(r)}1==t[0].getId()?(t[0].setName(a.getName()),t[0].setHp(a.getEncodedAttributesList()[0]),t[0].setMp(a.getEncodedAttributesList()[1]),t[0].setAttack(a.getEncodedAttributesList()[2]),t[0].setDefense(a.getEncodedAttributesList()[3]),t[0].setSpeed(a.getEncodedAttributesList()[4]),t[0].setFist(a.getEncodedAttributesList()[5]),t[0].setSword(a.getEncodedAttributesList()[6]),t[0].setKnife(a.getEncodedAttributesList()[7]),t[0].setUnusual(a.getEncodedAttributesList()[8]),t[0].setIq(a.getEncodedAttributesList()[9]),t[0].setAdditionalEfts(5)):t[0].setAdditionalEfts(2);let n=a.getEncodedAttributesList()[10];return n>100&&(n=100-n),t[0].setBenevolence(n),t}function I(e){for(let t of d.getStackedEquipmentsList())if(o.isSameEquipment(e,t))return void t.setCount(t.getCount()+1);let t=d.addStackedEquipments();t.setId(e.getId()),t.setQuality(e.getQuality()),t.setCount(1)}function M(){if(0==d.getTeamMemberIdsList().length)return"";let e=g(d.getTeamMemberIdsList()[0]),t=new Map;for(let a of h()){if(e==a)continue;if(a.getPrestige()==proto.jyf.Character.Prestige.UNKNOWN)continue;let r=s.Ot(a,e);0!=r&&(r<0&&(r=-1),4==r&&(r=3),t.has(r)?t.set(r,t.get(r)+"、"+a.getName()):t.set(r,a.getName()))}if(0==t.size)return"无";{let e=[];return t.has(-1)&&e.push(t.get(-1)+"无论如何都不会接受你。"),t.has(1)&&e.push("只要仁义相差不超过100，"+t.get(1)+"就能接受你。"),t.has(2)&&e.push("无论你仁义值多少，"+t.get(2)+"都能接受你。"),t.has(3)&&e.push("无论你仁义值多少，"+t.get(3)+"都能接受你。仁义值合适的话，可以直接入队，不用切磋。"),t.has(5)&&e.push("无论你仁义值多少，"+t.get(5)+"都能接受你，并可以直接入队，不用切磋。"),e.join("\n")}}!function(){let e=window.localStorage.getItem("jyf/"+i.JT+"/save");if(e)try{j(e)}catch(e){console.log(e)}}(),d||f()},7460:(e,t,a)=>{"use strict";a.d(t,{a:()=>r});const r={attributeEnhancementTemplate:'{{# displayName }}\n<p>【{{ displayName }}】</p>\n{{/ displayName }}\n\n{{# requiredLevel }}\n<p>{{ requiredLevel }}级时：</p>\n{{/ requiredLevel }}\n\n{{# requiredEftId }}\n<p>每升一级<a data-eftid="{{ requiredEftId }}">{{ eftIdToName }}</a></p>\n{{/ requiredEftId }}\n\n{{# multiplyByEftType }}\n<p>每修炼一门{{ eftTypeString }}到10级</p>\n{{/ multiplyByEftType }}\n\n{{# addHp }}\n<p><a class="doc" data-docid="hp">最大生命</a>{{ enhancementValue }}</p>\n{{/ addHp }}\n\n{{# addMp }}\n<p><a class="doc" data-docid="mp">最大内力</a>{{ enhancementValue }}</p>\n{{/ addMp }}\n\n{{# addAttack }}\n<p><a class="doc" data-docid="attackAndDefense">攻击</a>{{ enhancementValue }}</p>\n{{/ addAttack }}\n\n{{# addDefense }}\n<p><a class="doc" data-docid="attackAndDefense">防御</a>{{ enhancementValue }}</p>\n{{/ addDefense }}\n\n{{# addSpeed }}\n<p><a class="doc" data-docid="speed">速度</a>{{ enhancementValue }}</p>\n{{/ addSpeed }}\n\n{{# addFist }}\n<p><a class="doc" data-docid="skill">拳掌</a>{{ enhancementValue }}</p>\n{{/ addFist }}\n\n{{# addSword }}\n<p><a class="doc" data-docid="skill">御剑</a>{{ enhancementValue }}</p>\n{{/ addSword }}\n\n{{# addKnife }}\n<p><a class="doc" data-docid="skill">耍刀</a>{{ enhancementValue }}</p>\n{{/ addKnife }}\n\n{{# addUnusual }}\n<p><a class="doc" data-docid="skill">奇门</a>{{ enhancementValue }}</p>\n{{/ addUnusual }}\n\n{{# addInjury }}\n<p><a class="doc" data-docid="injury">附加内伤</a>{{ enhancementValue }}</p>\n{{/ addInjury }}\n\n{{# addPoison }}\n<p><a class="doc" data-docid="poison">附加中毒</a>{{ enhancementValue }}</p>\n{{/ addPoison }}\n\n{{# addCritical }}\n<p><a class="doc" data-docid="critical">暴起一击</a>{{ enhancementValue }}</p>\n{{/ addCritical }}\n\n{{# addDoubleHit }}\n<p><a class="doc" data-docid="doubleHit">左右开弓</a>{{ enhancementValue }}</p>\n{{/ addDoubleHit }}\n\n{{# addBorrowStrength }}\n<p><a class="doc" data-docid="borrowStrength">借力打力</a>{{ enhancementValue }}</p>\n{{/ addBorrowStrength }}\n\n{{# addIgnoreDefense }}\n<p><a class="doc" data-docid="ignoreDefense">以虚击实</a>{{ enhancementValue }}</p>\n{{/ addIgnoreDefense }}\n\n{{# addIgnoreSkill }}\n<p><a class="doc" data-docid="ignoreSkill">以巧胜拙</a>{{ enhancementValue }}</p>\n{{/ addIgnoreSkill }}\n\n{{# addDamageIncrease }}\n<p><a class="doc" data-docid="damageIncrease">劲雄凝重</a>{{ enhancementValue }}</p>\n{{/ addDamageIncrease }}\n\n{{# addAccuracy }}\n<p><a class="doc" data-docid="accuracy">出其不意</a>{{ enhancementValue }}</p>\n{{/ addAccuracy }}\n\n{{# addSharp }}\n<p><a class="doc" data-docid="sharp">切金断玉</a>{{ enhancementValue }}</p>\n{{/ addSharp }}\n\n{{# addHpAbsorb }}\n<p><a class="doc" data-docid="hpAbsorb">嗜血成性</a>{{ enhancementValue }}</p>\n{{/ addHpAbsorb }}\n\n{{# addDamageIncreaseToFemale }}\n<p><a class="doc" data-docid="damageIncreaseToFemale">无耻下流</a>{{ enhancementValue }}</p>\n{{/ addDamageIncreaseToFemale }}\n\n{{# addHpRecovery }}\n<p><a class="doc" data-docid="hpRecovery">生命回复</a>{{ enhancementValue }}</p>\n{{/ addHpRecovery }}\n\n{{# addMpRecovery }}\n<p><a class="doc" data-docid="mpRecovery">内力回复</a>{{ enhancementValue }}</p>\n{{/ addMpRecovery }}\n\n{{# addInjuryRecovery }}\n<p><a class="doc" data-docid="injuryRecovery">内伤回复</a>{{ enhancementValue }}</p>\n{{/ addInjuryRecovery }}\n\n{{# addPoisonRecovery }}\n<p><a class="doc" data-docid="poisonRecovery">中毒回复</a>{{ enhancementValue }}</p>\n{{/ addPoisonRecovery }}\n\n{{# addEvilHpRecovery }}\n<p><a class="doc" data-docid="evilHpRecovery">吸饮生血</a>{{ enhancementValue }}</p>\n{{/ addEvilHpRecovery }}\n\n{{# addDamageReduce }}\n<p><a class="doc" data-docid="damageReduce">内功卸力</a>{{ enhancementValue }}</p>\n{{/ addDamageReduce }}\n\n{{# addArmorDefense }}\n<p><a class="doc" data-docid="armorDefense">宝甲护体</a>{{ enhancementValue }}</p>\n{{/ addArmorDefense }}\n\n{{# addDamageReduceFromMale }}\n<p><a class="doc" data-docid="damageReduceFromMale">倾国倾城</a>{{ enhancementValue }}</p>\n{{/ addDamageReduceFromMale }}\n\n{{# addDodge }}\n<p><a class="doc" data-docid="dodge">闪躲趋避</a>{{ enhancementValue }}</p>\n{{/ addDodge }}\n\n{{# addCounterattack }}\n<p><a class="doc" data-docid="counterattack">借招还招</a>{{ enhancementValue }}</p>\n{{/ addCounterattack }}\n\n{{# addShiftAttack }}\n<p><a class="doc" data-docid="shiftAttack">牵引挪移</a>{{ enhancementValue }}</p>\n{{/ addShiftAttack }}\n\n{{# addDamageRebound }}\n<p><a class="doc" data-docid="damageRebound">内力反震</a>{{ enhancementValue }}</p>\n{{/ addDamageRebound }}\n\n{{# addSlapRebound }}\n<p><a class="doc" data-docid="slapRebound">倒刺护体</a>{{ enhancementValue }}</p>\n{{/ addSlapRebound }}\n\n{{# addBreakMove }}\n<p><a class="doc" data-docid="breakMove">料敌机先</a>{{ enhancementValue }}</p>\n{{/ addBreakMove }}\n\n{{# addMpDefense }}\n<p><a class="doc" data-docid="mpDefense">真气护体</a>{{ enhancementValue }}</p>\n{{/ addMpDefense }}\n\n{{# addStrengthAccumulation }}\n<p><a class="doc" data-docid="strengthAccumulation">积蓄劲力</a>{{ enhancementValue }}</p>\n{{/ addStrengthAccumulation }}\n\n{{# addDamageIncreaseWithLessHp }}\n<p><a class="doc" data-docid="damageIncreaseWithLessHp">越战越勇</a>{{ enhancementValue }}</p>\n{{/ addDamageIncreaseWithLessHp }}\n\n{{# addMpAbsorb }}\n<p><a class="doc" data-docid="mpAbsorb">内力吸取</a>{{ enhancementValue }}</p>\n{{/ addMpAbsorb }}\n\n{{# addRevival }}\n<p><a class="doc" data-docid="revival">起死回生</a>{{ enhancementValue }}</p>\n{{/ addRevival }}\n\n{{# addStiff }}\n<p><a class="doc" data-docid="stiff">真气反噬</a>{{ enhancementValue }}</p>\n{{/ addStiff }}\n\n{{# addMpDefenseNoCd }}\n<p><a class="doc" data-docid="mpDefense">真气护体</a>无冷却时间</p>\n{{/ addMpDefenseNoCd }}\n\n{{# addCriticalDamageIncrease }}\n<p><a class="doc" data-docid="critical">暴起一击</a>时，最终伤害增加{{ enhancementValue }}%</p>\n{{/ addCriticalDamageIncrease }}\n',eftEnhancementTemplate:'{{# requiredLevel }}\n<p>{{ requiredLevel }}级时：</p>\n{{/ requiredLevel }}\n\n{{^ isEftInfo }}\n\n  {{# id }}<p><a data-eftid="{{id}}">{{ eftIdToName }}</a></p>{{/ id }}\n  {{^ id }}<p>{{# isWeapon}}<a class="doc" data-docid="closedSkill">近程</a>{{/ isWeapon}}{{^ isWeapon}}所有{{/ isWeapon}}{{ eftTypeString }}</p>{{/ id }}\n\n  {{# ignoreIqRequirement }}\n  <p>修炼无视悟性要求</p>\n  {{/ ignoreIqRequirement }}\n\n  {{# addPower }}\n  <p><a class="doc" data-docid="power">威力</a>{{ enhancementValue }}</p>\n  {{/ addPower }}\n\n  {{# addPowerPercent }}\n  <p><a class="doc" data-docid="power">最终威力</a>{{ enhancementValue }}%</p>\n  {{/ addPowerPercent }}\n\n  {{# addMp }}\n  <p>消耗内力{{ enhancementValue }}</p>\n  {{/ addMp }}\n\n  {{# addAttackRange }}\n  <p>打击范围{{ enhancementValue }}</p>\n  {{/ addAttackRange }}\n{{/ isEftInfo }}\n\n{{# addMaxLevel }}\n<p>等级上限+{{ addMaxLevel }}</p>\n{{/ addMaxLevel }}\n\n{{# addInjury }}\n<p><a class="doc" data-docid="injury">附加内伤</a>+{{ addInjury }}</p>\n{{/ addInjury }}\n\n{{# addPoison }}\n<p><a class="doc" data-docid="poison">附加中毒</a>+{{ addPoison }}</p>\n{{/ addPoison }}\n\n{{# addCritical }}\n<p><a class="doc" data-docid="critical">暴起一击</a>+{{ addCritical }}</p>\n{{/ addCritical }}\n\n{{# addBorrowStrength }}\n<p><a class="doc" data-docid="borrowStrength">借力打力</a>+{{ addBorrowStrength }}</p>\n{{/ addBorrowStrength }}\n\n{{# addIgnoreDefense }}\n<p><a class="doc" data-docid="ignoreDefense">以虚击实</a>+{{ addIgnoreDefense }}</p>\n{{/ addIgnoreDefense }}\n\n{{# addIgnoreSkill }}\n<p><a class="doc" data-docid="ignoreSkill">以巧胜拙</a>+{{ addIgnoreSkill }}</p>\n{{/ addIgnoreSkill }}\n\n{{# addDamageIncrease }}\n<p><a class="doc" data-docid="damageIncrease">劲雄凝重</a>+{{ addDamageIncrease }}</p>\n{{/ addDamageIncrease }}\n\n{{# addAccuracy }}\n<p><a class="doc" data-docid="accuracy">出其不意</a>+{{ addAccuracy }}</p>\n{{/ addAccuracy }}\n\n{{# addSharp }}\n<p><a class="doc" data-docid="sharp">切金断玉</a>+{{ addSharp }}</p>\n{{/ addSharp }}\n\n{{# addHpAbsorb }}\n<p><a class="doc" data-docid="hpAbsorb">嗜血成性</a>+{{ addHpAbsorb }}</p>\n{{/ addHpAbsorb }}\n\n{{# addDamageIncreaseToFemale }}\n<p><a class="doc" data-docid="damageIncreaseToFemale">无耻下流</a>+{{ addDamageIncreaseToFemale }}</p>\n{{/ addDamageIncreaseToFemale }}\n'}},3920:(e,t,a)=>{"use strict";a.d(t,{Y:()=>u});var r=a(3379),n=a.n(r),o=a(5920),i={insert:"head",singleton:!1};n()(o.Z,i);o.Z.locals;var s=a(2223),d=a(1199),c=a.n(d),l=a(5654),p=a(8189);function f(e){return"jyf["+l.JT+"]"+e}class u{constructor(e){e.innerHTML=c(),this.titleSpan_=e.querySelector(".mdc-top-app-bar__title"),this.controlPanel_=e.querySelector(".controlPanel"),this.searchButton_=e.querySelector(".searchButton"),this.searchBar_=e.querySelector(".searchBar"),this.searchBarMDCTextField_=new p.K(e.querySelector(".searchBar .mdc-text-field")),this.searchBarMDCTextField_.foundation.adapter.registerTextFieldInteractionHandler("input",function(){this.searchTextChangeCallback_&&this.searchTextChangeCallback_(this.searchBarMDCTextField_.value)}.bind(this)),this.closeSearchBarButton_=e.querySelector(".closeSearchBarButton"),this.closeSearchBarButton_.onclick=this.closeSearchBar.bind(this),this.backButton_=e.querySelector(".backButton"),this.backButton_.onclick=function(){this.closeNotification&&this.closeNotification.notify()}.bind(this),this.optionsButton=e.querySelector(".optionsButton"),this.invisibleSection_=e.querySelector(".invisibleSection")}setTitle(e){this.titleSpan_.innerText=e}showSearchButton(){this.searchButton_.classList.remove("hidden")}hideSearchButton(){this.searchButton_.classList.add("hidden")}enableSearchButton(e){this.searchButton_.classList.remove("hidden"),this.searchTextChangeCallback_=e,this.searchButton_.onclick=function(){this.searchBar_.classList.remove("hidden"),this.searchBarMDCTextField_.focus()}.bind(this)}closeSearchBar(){this.searchBarMDCTextField_.value="",this.searchTextChangeCallback_&&this.searchTextChangeCallback_(""),this.searchBar_.classList.add("hidden")}showBackButton(){this.backButton_.classList.remove("hidden")}hideBackButton(){this.backButton_.classList.add("hidden")}showOptionsButton(){this.optionsButton.classList.remove("hidden")}hideOptionsButton(){this.optionsButton.classList.add("hidden")}addButton(e){let t=document.createElement("button");return t.innerHTML='\n      <div class="mdc-button__ripple"></div>\n      <span class="mdc-button__label"></span>\n    ',t.classList.add("mdc-button","mdc-button--raised"),t.querySelector(".mdc-button__label").innerText=e,this.controlPanel_.appendChild(t),t}clearAllButtons(){this.controlPanel_.innerHTML=""}loadBinaryFile(e,t){let a=document.createElement("div");a.innerHTML='<input type="file" accept=".bin"/>',this.invisibleSection_.appendChild(a);let r=a.querySelector("input");r.addEventListener("change",function(){if(0==r.files.length)return;const n=new FileReader;n.onload=async function(r){try{let a=r.target.result,n=f(e),o=String.fromCharCode.apply(null,new Uint8Array(a.slice(0,n.length)));if(n!=o)throw"Invalid header: "+o;await t(new Uint8Array(a.slice(n.length)))}catch(r){console.log(r),alert("上传失败！")}this.invisibleSection_.removeChild(a)}.bind(this),n.readAsArrayBuffer(r.files[0])}.bind(this),!1),r.click()}saveBinaryFile(e,t){try{s.saveAs(new Blob([f(e),t],{type:"application/octet-stream"}),function(e){let t=new Date;return"jyf["+l.JT+"]"+e+t.getFullYear()+("0"+(t.getMonth()+1)).slice(-2)+("0"+t.getDate()).slice(-2)+("0"+t.getHours()).slice(-2)+("0"+t.getMinutes()).slice(-2)+".bin"}(e))}catch(e){console.log(e),alert("下载失败！")}}}},5654:(e,t,a)=>{"use strict";a.d(t,{i5:()=>r,JT:()=>n,yC:()=>i,M7:()=>s});const r="0.6.11";const n=(o=r).slice(0,o.lastIndexOf("."));var o;function i(e,t){let a=e.split(".").map((e=>Number(e))),r=t.split(".").map((e=>Number(e)));for(let e=0;e<3;++e)if(a[e]!=r[e])return a[e]-r[e];return 0}function s(){return"https://cdn.jsdelivr.net/gh/zhouxiaobo1990/jyf_assets_jsdelivr@0.6.11/assets"}}},t={};function a(r){if(t[r])return t[r].exports;var n=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(n.exports,n,n.exports,a),n.loaded=!0,n.exports}a.m=e,a.x=e=>{},a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e={317:0},t=[[7809,973,389,261,303]],r=e=>{},n=(n,o)=>{for(var i,s,[d,c,l,p]=o,f=0,u=[];f<d.length;f++)s=d[f],a.o(e,s)&&e[s]&&u.push(e[s][0]),e[s]=0;for(i in c)a.o(c,i)&&(a.m[i]=c[i]);for(l&&l(a),n&&n(o);u.length;)u.shift()();return p&&t.push.apply(t,p),r()},o=self.webpackChunkwebpack_demo=self.webpackChunkwebpack_demo||[];function i(){for(var r,n=0;n<t.length;n++){for(var o=t[n],i=!0,s=1;s<o.length;s++){var d=o[s];0!==e[d]&&(i=!1)}i&&(t.splice(n--,1),r=a(a.s=o[0]))}return 0===t.length&&(a.x(),a.x=e=>{}),r}o.forEach(n.bind(null,0)),o.push=n.bind(null,o.push.bind(o));var s=a.x;a.x=()=>(a.x=s||(e=>{}),(r=i)())})(),a.x()})();